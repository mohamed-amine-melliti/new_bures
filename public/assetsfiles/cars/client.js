const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[new URL("header-integrations-language-switcher.css", import.meta.url).href])))=>i.map(i=>d[i]);
import{defineComponent as $,ref as M,onMounted as B,createElementBlock as m,openBlock as g,createElementVNode as b,unref as k,toDisplayString as T,computed as f,normalizeClass as R,createCommentVNode as _,normalizeStyle as qe,reactive as U,watch as z,onUnmounted as Be,nextTick as at,createVNode as C,mergeProps as ze,createBlock as w,Fragment as N,renderList as Q,inject as Fe,resolveComponent as nt,shallowRef as it,defineAsyncComponent as st,resolveDynamicComponent as Ve,provide as rt,onBeforeUnmount as ot,createSSRApp as lt,createApp as ct}from"vue";import{subscribe as dt}from"@seamless/one-context";import{SeamlessConnection as ut,initializeStore as Ue}from"@seamless/store";import{initializeLogger as He}from"@seamless/logger";import{getTranslation as gt}from"@owc/aem-translations-util";const Qe=async()=>new Promise(t=>{dt("PageConnection",{tenant:"hp",componentName:"header-ssr",callback:t})}),We=async()=>(await Qe()).pageEnvironmentVariables,pe=async()=>{var e;return(e=(await Qe()).pageEnvironmentVariables.brand)==null?void 0:e.subBrand};/*! connection-aem-tracking 2.7.0 */const je="OWC_TRACKING_MANAGER",Ce="PUSH_TRACKING_EVENT",Te={trackingEvents:[]};new class extends ut{constructor(){super(je)}get initialState(){return Te}getReducer(){return(t=Te,e)=>e.type===this.getActionType(Ce)?{...t,trackingEvents:[...t.trackingEvents,e.payload]}:t}getPublicDispatchers(){return{pushTrackingEvent:t=>{var e;return(e=window.top)==null||e.dataLayer_ow.push(t),this.getAction(Ce,t)}}}};const pt=()=>Ue().getConnectionDispatchers(je).then(t=>t);let le;const ht=(t,e,a)=>({event:"click",eventDetail:t,application:{id:a||"aem",version:e,parentApplicationId:a||"aem"}}),mt=async()=>{le=await pt()},he=async(t,e,a="")=>{le||await mt();const n=ht(t,e,a);le.pushTrackingEvent(n)},vt="1.11.0",me={version:vt},Ne={test:"https://int.assets.oneweb.mercedes-benz.com/plugin",int1:"https://int.assets.oneweb.mercedes-benz.com/plugin",pprod:"https://assets.oneweb.mercedes-benz.com/plugin",prod:"https://assets.oneweb.mercedes-benz.com/plugin"},ce=(t,e)=>`${Ne[t]||Ne.test}/hp-assets/latest/${e}`,yt={class:"hp-header-ssr__logo-container"},_t=["aria-label","href"],bt={class:"hp-header-ssr__logo"},ft=["alt","src"],Dt=$({__name:"header-logo",props:{homePageUrl:{type:String,required:!0},languageStrings:{type:Object,required:!0},env:{type:String,required:!0}},setup(t){const e=t,a=M(),n=M(e.homePageUrl);B(async()=>{var c;n.value=((c=await We())==null?void 0:c.homePageLink)||e.homePageUrl||"#"});const i=async(c,r="")=>{c.preventDefault();const o={category:"link",label:"mercedes_logo",action:"hp-header",name:"navigation",URL:n.value};await he(o,me.version,"seamless_generic"),r&&(window.location.href=n.value)};return(c,r)=>{var o,d;return g(),m("div",yt,[b("a",{ref_key:"logoLink",ref:a,class:"hp-header-ssr__logo-anchor hp-navigation-list-item","data-test-id":"header-logo",target:"_self","aria-label":(o=e.languageStrings)==null?void 0:o.linkHomepage,href:n.value,onClick:r[0]||(r[0]=h=>{var s;return i(h,(s=a.value)==null?void 0:s.href)}),"data-on":"contrast"},[b("div",bt,[b("img",{alt:(d=e.languageStrings)==null?void 0:d.altLogo,class:"hp-header-ssr__logo-image",width:"38",height:"38",src:k(ce)(t.env,"images/brands/mercedes-benz/logo.svg")},null,8,ft)])],8,_t)])}}}),wt={class:"hp-header-ssr__skip-to-content"},St=["data-on","href"],Le="first-component",kt=$({__name:"header-skip-content",props:{languageStrings:{type:Object}},setup(t){const e=t,a=M(!1),n=()=>{var i;return(i=document.querySelector(".root > .aem-Grid > .ng-content-root > .aem-Grid > .webcomponent:first-child"))==null?void 0:i.setAttribute("id",Le)};return B(async()=>{n(),a.value=await pe()==="amg"}),(i,c)=>{var r;return g(),m("div",wt,[b("a",{"data-on":a.value?"contrast":"main","data-test-id":"header-skip-to-content",href:`#${Le}`,class:"wbx-link wbx-link--standalone wbx-link--size-medium"},T((r=e.languageStrings)==null?void 0:r.skipToContent),9,St)])}}}),It=function(){const e=typeof document<"u"&&document.createElement("link").relList;return e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}(),Et=function(t,e){return new URL(t,e).href},Oe={},F=function(e,a,n){let i=Promise.resolve();if(a&&a.length>0){const r=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),d=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(a.map(h=>{if(h=Et(h,n),h in Oe)return;Oe[h]=!0;const s=h.endsWith(".css"),u=s?'[rel="stylesheet"]':"";if(!!n)for(let y=r.length-1;y>=0;y--){const D=r[y];if(D.href===h&&(!s||D.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${u}`))return;const p=document.createElement("link");if(p.rel=s?"stylesheet":It,s||(p.as="script"),p.crossOrigin="",p.href=h,d&&p.setAttribute("nonce",d),document.head.appendChild(p),s)return new Promise((y,D)=>{p.addEventListener("load",y),p.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${h}`)))})}))}function c(r){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r}return i.then(r=>{for(const o of r||[])o.status==="rejected"&&c(o.reason);return e().catch(c)})},$t={assets:"4.10.1"},At={iconRootPath:`https://assets.oneweb.mercedes-benz.com/plugin/workbench/assets/${$t.assets}/icons`},Ct=t=>`${At.iconRootPath}/${t}.svg`,Ke=t=>{t()};class Tt{constructor(e,a){this.current=e,this.previous=a}}const Ge={mq1:320,mq2:480,mq3:768,mq4:1024,mq5:1280,mq6:1440},Nt="wbresize",X=["mq2","mq3","mq4","mq5","mq6"];class Lt{constructor(e,a,n){this.window=e,this.mq=a,this.callbackFn=n,Ke(()=>{const i=this.window.matchMedia(`(min-width: ${Ge[a]}px)`),c=r=>this.callbackFn(this.mq,r.matches);i.addListener(c),this.remove=()=>i.removeListener(c)})}}class Ot{constructor(e){this.window=e,this.listeners=[],this.onMediaQueryChange=(a,n)=>{if(n)this.activeMediaQuery=a;else{const i=this.activeMediaQuery;if(this.activeMediaQuery=this.getCurrentMediaQuery(),i===this.activeMediaQuery)return}this.emit()}}getCurrentMediaQuery(){for(let e=X.length-1;e>=0;e--)if(this.window.matchMedia(`(min-width: ${Ge[X[e]]}px)`).matches)return X[e];return"mq1"}observe(e=!1){e&&(this.activeMediaQuery=this.activeMediaQuery||this.getCurrentMediaQuery(),this.emit()),X.filter(a=>!this.listeners.find(n=>n.mq===a)).forEach(a=>this.listeners.push(new Lt(this.window,a,this.onMediaQueryChange)))}disconnect(){this.listeners.forEach(e=>e.remove()),this.listeners=[]}emit(){this.window.dispatchEvent(new CustomEvent(Nt,{detail:new Tt(this.activeMediaQuery,this.previousMediaQuery)})),this.previousMediaQuery=this.activeMediaQuery}}const Pt={attributes:!0,childList:!1,subtree:!1,attributeFilter:["dir"]};class Mt{constructor(e){this.targetEl=e,Ke(()=>{this.createObserver(),this.observe()})}setDir(e){this.targetEl.setAttribute("dir",e)}get dir(){return this.targetEl.getAttribute("dir")}get isRtl(){return this.dir==="rtl"}get isLtr(){return!this.isRtl}dispatchDirChangeEvent(){const e=new CustomEvent("wbdirchange",{detail:{dir:this.dir}});document.dispatchEvent(e)}createObserver(){this.observer=new MutationObserver(()=>this.dispatchDirChangeEvent())}observe(){this.observer.observe(this.targetEl,Pt)}}(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})();new Ot(window);new Mt(document.documentElement);const Rt=["name"],qt={key:0,class:"hp-icon-notification"},q=$({__name:"wb-icon-ssr",props:{name:{},hasBubble:{type:Boolean},customClass:{},size:{},color:{}},setup(t){const e=t,a=f(()=>({"--mask":`url(${Ct(e.name)})`,"--size":e.size||"24px","--color":e.color||"currentColor"}));return(n,i)=>(g(),m("div",{class:R(["hp-icon",{[`hp-icon--${e.customClass}`]:n.customClass}])},[b("div",{class:"hp-icon-img wb-icon",name:n.name,style:qe(a.value),"aria-hidden":"true"},null,12,Rt),n.hasBubble?(g(),m("span",qt)):_("",!0)],2))}});let ie;const Bt={viewport:""},S=U(Bt);f(()=>S.viewport=="mq4"||S.viewport=="mq5"||S.viewport=="mq6");const Ye=t=>{var a;const e=(a=t==null?void 0:t.detail)==null?void 0:a.current;Je(e)},Je=t=>{S.viewport=t},zt=async()=>{if(!ie){const{MediaQueryService:t}=await F(async()=>{const{MediaQueryService:e}=await import("./index2.js");return{MediaQueryService:e}},[],import.meta.url);ie=new t(window),Je(ie.getCurrentMediaQuery())}},Ft=async()=>{await zt(),window.addEventListener("wbresize",Ye)},Vt=()=>{window.removeEventListener("wbresize",Ye)};let A=U({});const V=U({isOpen:!1}),Z=U({isOpen:!1});let se;const Ut=()=>{const t=r=>{r&&r.items&&(A=U(r),e())},e=()=>{A.isActive=!1,V.isOpen=!1,Z.isOpen=!1,A.items&&n(A.items)},a=(r=0,o,d)=>{const h=o.isActive;n(d.items),o.isActive=!h,r===1&&(A.isActive=o.isActive,Z.isOpen=o.isActive)},n=(r=[])=>{r.forEach(o=>{o.link?o.link.isActive=!1:o.links?o.links.forEach(d=>{d.isActive=!1}):o.isActive=!1,o.items&&n(o.items)})},i=(r,o)=>{r.isActive=!1,o===2&&(Z.isOpen=!1)},c=r=>r.items.some(o=>o.isActive);return z([S,Z],([r,o])=>{V.isOpen=!!(r.viewport==="mq6"?o.isOpen:A.isActive)}),{initNavState:t,resetNavState:e,updateNavState:a,goToPreviousLevel:i,areNextLevelsActive:c}},j=()=>(se||(se=Ut()),se),P=U({isOpen:!1,isBlocking:!1,savePosition:!1,hasControls:!0}),ve=()=>{const{resetNavState:t}=j(),{resetIntegrationState:e}=ae(),a=()=>{t(),e()},n=()=>{var o;const r=O.filter(d=>d.isActive);return r.length&&((o=r[0])==null?void 0:o.isInsideNav)},i=(r,o)=>{r.isOpen&&P.isOpen&&!n()&&o()},c=(r,o)=>{P.isOpen=!!(r.isOpen||o.isOpen)};return z(V,r=>{!r.isOpen&&n()&&e(),i(r,e),c(r,G)}),z([G,O],([r,o])=>{n()&&(A.isOpen=!0,A.isActive=!0),i(r,t),c(r,V)}),{closeAllFlyouts:a}},Xe="HP",Ht=t=>{var e;return((e=t.toLowerCase().match(/[a-z]+\d*|\d+/g))==null?void 0:e.join("_"))??""},te=He(Xe),Pe={test:"https://test.api.oneweb.mercedes-benz.com/vmos-api/v1/data/",int1:"https://int.api.oneweb.mercedes-benz.com/vmos-api/v1/data/",pprod:"https://int.api.oneweb.mercedes-benz.com/vmos-api/v1/data/",prod:"https://api.oneweb.mercedes-benz.com/vmos-api/v1/data/"},Qt={passengercars:"OWF",vans:"OWVANS"},Wt=["new","electric"],ye="analytics_id_to_dismiss",jt=async(t,e,a)=>{var n,i;return t&&t.mainNavigation&&t.mainNavigation.items&&((n=t==null?void 0:t.imprint)!=null&&n.iconId&&((i=t==null?void 0:t.imprint)==null?void 0:i.iconId)!=="-"&&(t.imprint.iconId="bds/paragraph/24",t.imprint.aria=t.imprint.aria||(a==null?void 0:a.linkPrivacyPolicy)||t.imprint.label,t.imprint.analyticsId="data_protection"),await Yt(t,e),Kt(t)),t},de=t=>{if(t.analyticsId){if(t.analyticsId===ye)return""}else return Ht(t.label);return t.analyticsId},Kt=t=>{const e=t.mainNavigation.items[0].items.find(a=>a.itemType==="toolList");if(e){e.isFirstToolList=!0;const a=t.mainNavigation.items[0].items.filter(n=>n.itemType==="topic");a==null||a.forEach(n=>{const i=JSON.parse(JSON.stringify(e));n.items.push(i),Gt(n)})}},Gt=t=>{var e,a,n;if(t.analyticsId===ye){const i=(a=(e=t.items[0].link)==null?void 0:e.analyticsId)==null?void 0:a.split(".")[0];(n=t.items[t.items.length-1].links)==null||n.forEach(c=>{const r=de(c);c.analyticsId=`${i}.${r}`})}},Y=t=>t&&t.includes(".")?t.split(".")[1]:t,Yt=async(t,e)=>{var a;if((a=t.visibilitySettings)!=null&&a.vmosModelFlyoutEnabled){const n=await Jt(e);if(n)try{const i=[W(!1,n.i18n[n.groups[0].nameI18nKey],n.i18n[n.groups[0].nameI18nKey],n.groups[0].link,Y(n.groups[0].nameI18nKey),"",""),...Zt(n),...xt(n),...ea(n,e)];t.mainNavigation.items[0].items.length&&(t.mainNavigation.items[0].items[0].lineSeparator=!0),t.mainNavigation.items[0].items.unshift(...i)}catch(i){te.error("Header SSR - Error processing VMOS data:",i,`VMOS Response received in ${e.country}-${e.language} ${e.businessUnit}:`,n,new Date().toISOString())}}},Jt=async t=>{const{country:e,language:a,businessUnit:n,stageVariant:i}=t,c=new URL(`${e}/${a}/${Qt[n]}/live/summary`,Pe[i]||Pe.test);try{return await(await fetch(c)).json()}catch(r){return te.error(`Header SSR - Error fetching VMOS data in ${e}-${a} ${n}:`,r,new Date().toISOString()),null}},Xt=(t,e)=>{const a=t.cards[e].tags,n=[];return a==null||a.forEach(i=>{if(Wt.includes(i)){const c=t.i18n[`tag.${i}`]??i;n.push(c)}}),n},Zt=t=>{var a;const e=[];return(a=t.filters)==null||a.forEach((n,i)=>{e.push(W(i===0,t.i18n[n.nameI18nKey],t.i18n[n.nameI18nKey],n.link,Y(n.nameI18nKey),n.workbenchIcon,""))}),e},xt=t=>{const e=[];return t.subGroups.forEach((a,n)=>{const i=a.cardsId.length,c=[];i&&a.cardsId.forEach(o=>{const d=t.vehiclesData[t.cards[o].vehicleDataId],h=d.classId&&d.bodytypeId?`${d.bodytypeId}.${d.classId}`:`${d.bodytypeId??d.classId}.all`;c.push(W(!1,d.name,d.name,t.cards[o].ctas.PRODUCT_PAGE.url,h,"","",Xt(t,o)))});const r=i?ta(n===0,a.name,a.name,c,a.workbenchIcon,ye):W(n===0,a.name,a.name,a.link,Y(a.nameOverrideI18nKey),a.workbenchIcon,"");e.push(r)}),e},ea=(t,e)=>{const a=[];return t.groups[1]&&(a.push(W(!0,t.i18n[t.groups[1].nameI18nKey],"",t.groups[1].link,Y(t.groups[1].nameI18nKey),"",ce(e.stageVariant,"images/brands/mercedes-amg/logo.svg"))),t.groups[2]&&a.push(W(!1,t.i18n[t.groups[2].nameI18nKey],"",t.groups[2].link,Y(t.groups[2].nameI18nKey),"",ce(e.stageVariant,"images/brands/mercedes-maybach/logo.svg")))),a},W=(t,e,a,n,i,c,r,o=[])=>({itemType:"link",lineSeparator:t,link:{aria:e,label:a,target:"_self",url:n,iconId:c,imgSrc:r,analyticsId:i,tags:o}}),ta=(t,e,a,n,i,c)=>({itemType:"topic",lineSeparator:t,analyticsId:c,aria:e,label:a,items:n,iconId:i}),aa=(t,e,a)=>{const n=[];return ia.forEach(i=>{var r,o,d,h,s,u;const c={...i,visibilitySettingEnabled:t.visibilitySettings?!!t.visibilitySettings[i.key]:!1,isActive:!1,isShown:i.key!=="shoppingCartEnabled",hasBubble:!1,isInsideNav:!1};i.key==="languageSwitcherEnabled"&&(c.visibilitySettingEnabled=!!(e.languageSwitch&&((r=e.languageSwitch)==null?void 0:r.length)>1)),t.visibilitySettings&&(Object.keys(a).length&&(c.aria=a[i.aria]||i.aria,c.mobileLabel=a[i.mobileLabel]||i.mobileLabel),c.visibilitySettingEnabled&&((o=i.external)!=null&&o.payloadPropertyReference)&&(c.external.payload=t[i.external.payloadPropertyReference]),i.key==="shoppingCartEnabled"&&(c.url=(u=(s=(h=(d=i.external)==null?void 0:d.payload)==null?void 0:h.data)==null?void 0:s.payload)==null?void 0:u.serviceContractsUrl,c.target="_self")),n.push(c)}),n.length?(n.sort((i,c)=>c.priority-i.priority),n.filter(i=>i.visibilitySettingEnabled)):n},na=(t,e,a)=>t.split("/").map(n=>n.replace(new RegExp(`^${e}$`,"gi"),a.toLowerCase())).join("/"),qn=async()=>{const e=(await We()).languageSwitch;if(e){const a=new URL(window.location.href),n=new URLSearchParams(a.search);n.delete("token");const i=`${n.toString()}`,c=window.location.pathname||"",r=e.find(o=>o.isCurrent);if(r){const o=r.code,d=c.split(r.url).slice(1).join(r.url)||"";return e.map(s=>{let u=d;return d&&(u=na(d,o,s.code)),{...s,url:`${s.url}${u}${i.length?"?"+i:""}`}})}else te.warn("Header SSR - No active language provided")}return[]};let O=U([]);const G=U({isOpen:!1});let re,Me=0;const _e=()=>{const t=()=>{const{closeAllFlyouts:u}=ve();u()},e=()=>{P.savePosition&&(at(()=>{window.scrollTo(0,Me)}),P.savePosition=!1)};B(async()=>{await c(),document.addEventListener("hp-header:open-specific-flyout",u=>s(u)),document.addEventListener("hp-header:close-flyout",()=>{t(),e()})}),Be(()=>{document.removeEventListener("hp-header:open-specific-flyout",s),document.removeEventListener("hp-header:close-flyout",t)}),z(S,u=>{const l=u.viewport;d(l)});const a=u=>{u.length&&(O=U(u),n())},n=()=>{G.isOpen=!1,O.forEach(u=>{u.isActive=!1})},i=u=>{const l=u.isActive;n(),u.isActive=!l,G.isOpen=u.isActive},c=async()=>{const{addHeaderStoreConnection:u,HP_HEADER_CONNECTION:l,store:p}=await F(async()=>{const{addHeaderStoreConnection:y,HP_HEADER_CONNECTION:D,store:E}=await import("./index3.js");return{addHeaderStoreConnection:y,HP_HEADER_CONNECTION:D,store:E}},[],import.meta.url);await u(),p.subscribe(l,y=>r(y.navigationItemsConfiguration))},r=u=>{u.length&&(O.forEach(l=>{var p;l.external&&((p=l.external)==null?void 0:p.componentName)===u[0].name&&Object.keys(u[0]).forEach(y=>{l[y]=u[0][y]})}),u[0].name==="atcscos-header-cart-v2"&&o())},o=()=>{const u=O.find(l=>l.key==="shoppingCartEnabled");u&&u.isShown!==u.hasBubble&&(u.isShown=u.hasBubble,d(S.viewport))},d=u=>{O.filter(l=>l.isShown).slice().reverse().forEach((l,p)=>{l.isInsideNav=l.name!=="fss-search-input"?!sa[u].includes(p+1):u!=="mq6"})},h=u=>{t(),u.isActive=!0,G.isOpen=!0,u.isInsideNav&&(V.isOpen=!0)},s=async u=>{const l=u,p=O.find(y=>y.name===l.detail.name);p&&(h(p),P.isBlocking=!!l.detail.isBlockingMask,P.hasControls=!l.detail.isBlockingMask,(l.detail.savePosition||l.detail.name==="eqpodc-one-flyout")&&(Me=window.scrollY,P.savePosition=!0))};return{initIntegrationState:a,resetIntegrationState:n,updateIntegrationState:i,setNavItemsConfig:r,restoreScrollPosition:e}},ae=()=>(re||(re=_e()),re),Ze=async t=>{var n,i,c,r,o,d;const e=(i=(n=window.top).aemNamespace??(n.aemNamespace={})).componentData??(i.componentData={}),a=(r=(c=t.external)==null?void 0:c.payload)==null?void 0:r.id;if(a&&!e[a]){e[a]=(d=(o=t.external)==null?void 0:o.payload)==null?void 0:d.data;const{initializeStore:h}=await F(async()=>{const{initializeStore:u}=await import("@seamless/store");return{initializeStore:u}},[],import.meta.url);(await h().getConnectionDispatchers("OWC_COMPONENT_REGISTRY")).addComponent({id:a,data:e[a]})}},be=async t=>{try{await import(t)}catch(e){te.error("Header SSR - Could not load external integrator",e)}},ia=[{key:"searchBarEnabled",name:"fss-search-input",dataTestId:{item:"header-integration-item-fss-search-input",flyout:"search-module-flyout"},integrationType:"external",iconId:"bds/search/24",priority:6,hasFlyout:!0,url:"#",aria:"linkSearch",mobileLabel:"linkSearch",external:{componentName:"fss-search-input",importMapName:"fss-search-input-v1",isEagerlyLoaded:!1,payloadPropertyReference:"fss"}},{key:"languageSwitcherEnabled",name:"language-switcher",dataTestId:{item:"header-integration-item-language-switcher-module",flyout:"language-switcher-module-flyout"},integrationType:"internal",iconId:"bds/globe/24",priority:5,hasFlyout:!0,url:"#",aria:"linkLanguageSwitcher",mobileLabel:"linkLanguageSwitcher",internal:{componentName:"language-switcher",payload:{}}},{key:"regionPickerEnabled",name:"emh-region-picker",dataTestId:{item:"header-integration-item-emh-region-picker",flyout:"region-picker-module-flyout"},integrationType:"external",iconId:"bds/location/24",priority:3,hasFlyout:!0,url:"#",aria:"linkRegionPicker",mobileLabel:"linkRegionPicker",external:{componentName:"dh-io-emh-region-picker",importMapName:"emh-region-picker-v3",isEagerlyLoaded:!0,payloadPropertyReference:"regionPicker"}},{key:"wishlistEnabled",name:"eqpodc-one-flyout",dataTestId:{item:"header-integration-item-eqpodc-one-flyout",flyout:"wishlist-module-flyout"},integrationType:"external",iconId:"bds/star/24",priority:4,hasFlyout:!0,url:"#",aria:"linkWishlist",mobileLabel:"linkWishlist",external:{componentName:"eqpodc-one-flyout",importMapName:"eqpodc-one-flyout-v1",isEagerlyLoaded:!1}},{key:"shoppingCartEnabled",name:"shopping-cart",dataTestId:{item:"header-integration-item-shopping-cart-module"},integrationType:"link-external",iconId:"bds/shopping-cart/24",priority:2,hasFlyout:!1,url:"#",aria:"linkShoppingCart",mobileLabel:"linkShoppingCart",external:{componentName:"atcscos-header-cart-v2",importMapName:"atcscos-header-cart-v2",isEagerlyLoaded:!0,payloadPropertyReference:"shoppingCart"}},{key:"userMenuEnabled",name:"iam-user-menu-v3",dataTestId:{item:"header-integration-item-iam-user-menu-v3",flyout:"user-module-flyout"},integrationType:"external",iconId:"bds/user/24",avatar:{default:!0},priority:1,hasFlyout:!0,url:"#",aria:"linkUserMenu",mobileLabel:"linkUserMenu",external:{componentName:"iam-user-menu-v3",importMapName:"iam-user-menu-v3-v3",isEagerlyLoaded:!1,payloadPropertyReference:"userMenu"}}],sa={mq6:[1,2,3,4,5,6],mq5:[1,2,3,4],mq4:[1,2,3,4],mq3:[1,2,3,4],mq2:[1,2,3,4],mq1:[1,2,3]},ra=["aria-expanded","aria-label"],oa=$({__name:"header-navigation-mobile-button",props:{menuAria:{}},setup(t){const e=t,a={close:{aria:e.menuAria.close},menu:{aria:e.menuAria.menu}},{resetNavState:n}=j(),{restoreScrollPosition:i}=_e(),c=M(S.viewport==="mq1"||S.viewport==="mq2"),r=()=>{A.isActive=!A.isActive,V.isOpen=A.isActive,A.isActive||n(),i()},o=f(()=>c.value&&A.isActive?a.close:a.menu);return z(S,d=>{c.value=d.viewport==="mq1"||d.viewport==="mq2"}),(d,h)=>(g(),m("a",{class:R(["hp-header-ssr-nav__button hp-header-ssr-nav__button-icon hp-navigation-list-item",{"hp-header-ssr-nav__button-icon--active":k(V).isOpen}]),"aria-haspopup":"menu","aria-expanded":!!k(A).isActive,"aria-label":o.value.aria,"data-on":"contrast",href:"#","aria-owns":"mainnav-desktop",onClick:h[0]||(h[0]=s=>r())},[C(q,{name:"bds/menu/24",size:"36px"})],10,ra))}}),la=[{oldIcon:"car",newIcon:"bds/car/24"},{oldIcon:"car-config",newIcon:"bds/car-config/24"},{oldIcon:"dealer",newIcon:"bds/location-dealer/24"},{oldIcon:"shopping",newIcon:"bds/shopping-cart/24"},{oldIcon:"testdrive",newIcon:"bds/test-drive/24"},{oldIcon:"car-compare",newIcon:"bds/car-compare/24"}],ca=t=>t.toLowerCase().replace(/[^a-z0-9]/g,""),ee=(t="",e)=>`${ca(t)}-${e}`,da=t=>{const e=la.find(a=>a.oldIcon===t);return e?e.newIcon:t},ua=["aria-label","data-on"],ga={key:1,class:"hp-header-ssr-nav__item--text"},pa=["src","alt"],x=$({__name:"header-navigation-item",props:{navigationItemData:{},navigationData:{},id:{},level:{},isToolList:{type:Boolean},dataTestId:{}},setup(t){const e=t,a=M(),{updateNavState:n}=j(),i=f(()=>{var l;return((l=e.navigationItemData)==null?void 0:l.itemType)==="topic"}),c=f(()=>i.value&&(e.level!=1||h.value)),r=(l,p="")=>{l.preventDefault(),n(e.level,e.navigationItemData,e.navigationData),i.value||(u(e.navigationItemData),p&&(window.location.href=e.navigationItemData.url))},o=f(()=>S.viewport),d=f(()=>o.value?o.value==="mq6":!0),h=f(()=>o.value?o.value!=="mq6":!0),s=(l="",p)=>{var E;const y=(E=(p??A).items)==null?void 0:E.find(v=>v.isActive===!0),D=`${y!=null&&y.items?de(y):de(e.navigationItemData)}`;return D&&(l=l?`${l}.${D}`:`${D}`),y!=null&&y.items?s(l,y):l},u=async l=>{if(l.url){const p={category:"link",label:s(),action:"hp-header",name:"navigation",URL:l.url};await he(p,me.version,"seamless_generic")}};return(l,p)=>{var y,D,E,v,I,L,H,K,fe,De,we,Se,ke,Ie,Ee,$e,Ae;return g(),m("a",ze({ref_key:"navigationLink",ref:a,class:["hp-header-ssr-nav__item hp-navigation-list-item",{[`hp-header-ssr-nav__item--level-${l.level}`]:l.level,"hp-header-ssr-nav__item--active":l.navigationItemData.isActive,"hp-header-ssr-nav__item--is-toollist":l.isToolList}],"aria-label":((y=l.navigationItemData)==null?void 0:y.aria)??((D=l.navigationItemData)==null?void 0:D.label)},{style:k(S).viewport==="mq6"?null:{zIndex:e.level},"data-test-id":l.dataTestId??null,"aria-haspopup":(E=l.navigationItemData)!=null&&E.items?"menu":null,"aria-expanded":i.value?l.navigationItemData.isActive:null,"aria-owns":(v=l.navigationItemData)!=null&&v.items&&((I=l.navigationItemData)!=null&&I.label)&&l.id?k(ee)((L=l.navigationItemData)==null?void 0:L.label,l.id):null,href:((H=l.navigationItemData)==null?void 0:H.url)??`#${k(ee)((K=l.navigationItemData)==null?void 0:K.label,l.id)}`,target:((fe=l.navigationItemData)==null?void 0:fe.target)??null},{"data-on":l.level===1&&d.value?"contrast":"main",onClick:p[0]||(p[0]=ne=>{var J;return r(ne,(J=a.value)==null?void 0:J.href)})}),[(De=l.navigationItemData)!=null&&De.iconId?(g(),w(q,{key:0,name:k(da)((we=l.navigationItemData)==null?void 0:we.iconId),customClass:"leading"},null,8,["name"])):_("",!0),(Se=l.navigationItemData)!=null&&Se.label?(g(),m("span",ga,T(l.navigationItemData.label),1)):_("",!0),(ke=l.navigationItemData)!=null&&ke.imgSrc?(g(),m("img",{key:2,src:(Ie=l.navigationItemData)==null?void 0:Ie.imgSrc,alt:(Ee=l.navigationItemData)==null?void 0:Ee.aria,class:"hp-header-ssr-nav__item--image"},null,8,pa)):_("",!0),(g(!0),m(N,null,Q(($e=l.navigationItemData)==null?void 0:$e.tags,(ne,J)=>(g(),m("span",{key:J,class:"hp-header-ssr-nav__item--tag wbx-tag wbx-tag--primary"},T(ne),1))),128)),c.value?(g(),w(q,{key:3,name:"bds/chevron-right/16",size:"16px"})):_("",!0),((Ae=l.navigationItemData)==null?void 0:Ae.target)==="_blank"?(g(),w(q,{key:4,name:"arrow-up-right/24",size:"16px"})):_("",!0)],16,ua)}}}),ha={class:"hp-header-ssr-nav__buttons"},ma=["data-on","aria-label"],va=["data-on","aria-label"],ya={key:0,role:"heading","aria-level":"2",class:"hp-header-ssr-nav__headline hp-header-ssr-nav__headline-text"},xe=$({__name:"header-navigation-controls",props:{level:{},navigationData:{},languageStrings:{}},setup(t){const e=t,a=M(!1),{goToPreviousLevel:n,resetNavState:i}=j(),c=f(()=>S.viewport?e.level>1&&S.viewport==="mq6"||S.viewport!=="mq6":!0),r=f(()=>S.viewport?e.level>1&&S.viewport!=="mq6"||e.level>2&&S.viewport==="mq6":!0),o=()=>n(e.navigationData,e.level),d=()=>i();return B(async()=>{a.value=await pe()==="amg"}),(h,s)=>{var u,l,p,y,D,E,v;return g(),m("div",{class:R(["hp-header-ssr-nav__controls",`hp-header-ssr-nav__controls--level-${e.level}`])},[b("div",ha,[(u=h.navigationData)!=null&&u.label&&r.value?(g(),m("button",{key:0,"data-on":a.value?"contrast":"main",class:"hp-header-ssr-nav__back wbx-round-button wbx-round-button--small","aria-label":(l=h.languageStrings)==null?void 0:l.buttonBack,onClick:s[0]||(s[0]=I=>o())},[C(q,{name:"bds/chevron-left/16",size:"20px"})],8,ma)):_("",!0),b("button",{"data-on":a.value?"contrast":"main",class:"hp-header-ssr-nav__close wbx-round-button wbx-round-button--small","aria-label":(p=h.languageStrings)==null?void 0:p.buttonClose,"data-test-id":"header-flyout__close-button",onClick:s[1]||(s[1]=I=>d())},[C(q,{name:"bds/close/24"})],8,va)]),((y=h.navigationData)!=null&&y.label||(D=h.languageStrings)!=null&&D.headlineMenu)&&c.value?(g(),m("span",ya,T(((E=h.navigationData)==null?void 0:E.label)||((v=h.languageStrings)==null?void 0:v.headlineMenu)),1)):_("",!0)],2)}}}),_a={key:0,class:"hp-header-ssr-campaign","data-on":"contrast"},ba={class:"hp-header-ssr-campaign__image"},fa=["srcset"],Da=["src","alt"],wa={class:"hp-header-ssr-campaign__content"},Sa={class:"wb-heading-xl hp-header-ssr-campaign__text"},ka={class:"wb-text-l hp-header-ssr-campaign__text"},Ia={class:"hp-header-ssr-campaign__buttons"},Ea=["href"],$a=["href"],oe=$({__name:"header-campaign",props:{payload:{}},setup(t){return(e,a)=>e.payload?(g(),m("article",_a,[b("picture",ba,[b("source",{media:"(min-width: 1440px)",srcset:e.payload.imgSrcDesktop},null,8,fa),b("img",{src:e.payload.imgSrc,alt:e.payload.imgAlt},null,8,Da)]),b("section",wa,[b("h3",Sa,T(e.payload.headline),1),b("p",ka,T(e.payload.subheadline),1),b("div",Ia,[b("a",{class:"wbx-button wbx-button--primary wbx-button--medium",href:e.payload.buttonPrimaryUrl},T(e.payload.buttonPrimaryText),9,Ea),e.payload.buttonSecondaryText?(g(),m("a",{key:0,class:"wbx-button wbx-button--secondary wbx-button--medium",href:e.payload.buttonSecondaryUrl},T(e.payload.buttonSecondaryText),9,$a)):_("",!0)])])])):_("",!0)}}),Aa=["id","aria-label"],Ca={class:"hp-header-ssr-nav__wrapper"},Ta={key:0,class:"hp-header-ssr-nav__list-item--separator"},Na=["id","aria-label"],La={key:0,class:"hp-header-ssr-nav__list-item--separator"},Oa={key:0},et=$({__name:"header-navigation-tree",props:{level:{},groupId:{},navigationData:{},languageStrings:{}},setup(t){const e=t,a=M(Fe("headerCampaignPayload",void 0)),n=e.level+1,{areNextLevelsActive:i}=j(),c=s=>s.endsWith("-0")&&e.level===2,r=f(()=>s=>(s==null?void 0:s.itemType)==="toolList"&&!!s.isFirstToolList&&!i(e.navigationData)&&e.navigationData.isActive||(s==null?void 0:s.itemType)==="toolList"&&!s.isFirstToolList||(s==null?void 0:s.itemType)!=="toolList"),o=f(()=>S.viewport==="mq6"),d=f(()=>!(e.level===1&&o.value)),h=f(()=>a.value&&c(e.groupId)&&!i(e.navigationData));return(s,u)=>{var p,y,D,E;const l=nt("header-navigation-tree",!0);return e.level>1?(g(),m("div",{key:0,id:s.groupId,"aria-label":(p=s.navigationData)==null?void 0:p.aria,class:R(["hp-header-ssr-nav",[`hp-header-ssr-nav--level-${e.level}`,h.value?"hp-header-ssr-nav--campaign":""]]),style:qe({zIndex:e.level})},[h.value&&o.value?(g(),w(oe,{key:0,payload:a.value},null,8,["payload"])):_("",!0),b("div",Ca,[d.value?(g(),w(xe,{key:0,level:e.level,navigationData:s.navigationData,languageStrings:s.languageStrings},null,8,["level","navigationData","languageStrings"])):_("",!0),h.value&&!o.value?(g(),w(oe,{key:1,payload:a.value},null,8,["payload"])):_("",!0),b("ul",{class:R(["hp-header-ssr-nav__list",[`hp-header-ssr-nav__list--level-${e.level}`]])},[(g(!0),m(N,null,Q((y=s.navigationData)==null?void 0:y.items,(v,I)=>(g(),m(N,{key:I},[r.value(v)?(g(),m("li",{key:0,class:R(["hp-header-ssr-nav__list-item",`hp-header-ssr-nav__list-item--level-${e.level}`])},[v.lineSeparator||(v==null?void 0:v.itemType)==="toolList"?(g(),m("hr",Ta)):_("",!0),(v==null?void 0:v.itemType)==="toolList"?(g(!0),m(N,{key:1},Q(v==null?void 0:v.links,(L,H)=>(g(),w(x,{key:`${I}-${H}`,navigationItemData:L,navigationData:s.navigationData,level:s.level,id:I,isToolList:!0},null,8,["navigationItemData","navigationData","level","id"]))),128)):(g(),w(x,{key:2,navigationItemData:(v==null?void 0:v.itemType)==="topic"?v:v.link,navigationData:s.navigationData,level:s.level,id:I},null,8,["navigationItemData","navigationData","level","id"])),v!=null&&v.items?(g(),w(l,{key:3,level:n,groupId:k(ee)(v.label,I),navigationData:v,languageStrings:s.languageStrings},null,8,["groupId","navigationData","languageStrings"])):_("",!0)],2)):_("",!0)],64))),128))],2)])],14,Aa)):(g(),m("ul",{key:1,id:s.groupId,class:R(["hp-header-ssr-nav__list",[`hp-header-ssr-nav__list--level-${e.level}`]]),"aria-label":(D=s.navigationData)==null?void 0:D.menuButtonAria},[(g(!0),m(N,null,Q((E=s.navigationData)==null?void 0:E.items,(v,I)=>(g(),m("li",{class:R(["hp-header-ssr-nav__list-item",`hp-header-ssr-nav__list-item--level-${e.level}`]),key:I},[v.lineSeparator?(g(),m("hr",La)):_("",!0),(v==null?void 0:v.itemType)!=="toolList"?(g(),w(x,{key:1,navigationItemData:(v==null?void 0:v.itemType)==="topic"?v:v.link,navigationData:s.navigationData,level:s.level,id:I},null,8,["navigationItemData","navigationData","level","id"])):_("",!0),v!=null&&v.items?(g(),w(l,{key:2,level:n,groupId:k(ee)(v.label,I),navigationData:v,languageStrings:s.languageStrings},null,8,["groupId","navigationData","languageStrings"])):_("",!0)],2))),128)),a.value&&e.navigationData.isActive&&!k(i)(e.navigationData)?(g(),m("li",Oa,[C(oe,{payload:a.value},null,8,["payload"])])):_("",!0)],10,Na))}}}),Pa={class:"hp-header-ssr-user-menu"},Ma={class:"hp-header-ssr-user-menu__avatar-wrapper"},Ra={class:"hp-header-ssr-user-menu__avatar"},qa=["src"],Ba={key:1,class:"hp-header-ssr-user-menu__avatar-initials"},za={key:0,class:"hp-header-ssr-user-menu__labels"},Fa={key:0,class:"hp-header-ssr-user-menu__sublabel"},Va={key:1,class:"hp-header-ssr-user-menu__label"},Ua=$({__name:"header-integrations-user-menu",props:{integrationData:{}},setup(t){const e=t,a=f(()=>{var s;return(s=e.integrationData.avatar)==null?void 0:s.default}),n=f(()=>{var s;return!!((s=e.integrationData.avatar)!=null&&s.image)}),i=f(()=>{var s;return!!((s=e.integrationData.avatar)!=null&&s.fullName)}),c=f(()=>{var s;return h((s=e.integrationData.avatar)==null?void 0:s.fullName)}),r=f(()=>{var s,u;return!a.value&&((s=e.integrationData.avatar)!=null&&s.icon)?(u=e.integrationData.avatar)==null?void 0:u.icon:e.integrationData.iconId}),o=f(()=>!!e.integrationData.label||!!e.integrationData.subLabel),d=f(()=>S.viewport!=="mq1"&&S.viewport!=="mq2"),h=(s="")=>{const u=s.trim().split(/\s+/);return u.filter((p,y)=>y===0||y===u.length-1).filter(p=>p.trim()!=="").map(p=>p.trim()[0].toUpperCase()).join("")};return(s,u)=>{var l;return g(),m("div",Pa,[b("div",Ma,[b("div",Ra,[n.value&&!a.value?(g(),m("img",{key:0,class:"hp-header-ssr-user-menu__avatar-image",src:(l=e.integrationData.avatar)==null?void 0:l.image,alt:"Avatar"},null,8,qa)):i.value&&!n.value&&!a.value?(g(),m("div",Ba,T(c.value),1)):(g(),w(q,{key:2,name:r.value,size:"1rem"},null,8,["name"])),b("div",{class:R({"hp-header-ssr-user-menu__avatar-notification":e.integrationData.hasBubble})},null,2)])]),o.value&&d.value?(g(),m("div",za,[e.integrationData.subLabel?(g(),m("div",Fa,T(e.integrationData.subLabel),1)):_("",!0),e.integrationData.label?(g(),m("div",Va,T(e.integrationData.label),1)):_("",!0)])):_("",!0)])}}}),Ha=["data-test-id","aria-label","data-on"],Qa={key:2,class:"hp-header-ssr-integration__item--text"},ue=$({__name:"header-integrations-item",props:{integrationData:{},dataTestId:{}},setup(t){const e=t,a=M(),{updateIntegrationState:n}=ae();B(()=>{var s;(s=e.integrationData.external)!=null&&s.isEagerlyLoaded&&e.integrationData.integrationType==="link-external"&&be(e.integrationData.external.importMapName)});const i=f(()=>e.integrationData.name==="iam-user-menu-v3"),c=f(()=>e.integrationData.hasFlyout),r=async s=>{if(!s.hasFlyout){const u={category:"link",label:s.analyticsId,action:"hp-header",name:"navigation",URL:s.url};await he(u,me.version,"seamless_generic")}},o=(s,u="")=>{s.preventDefault(),r(e.integrationData),u&&(window.location.href=e.integrationData.url),n(e.integrationData)},d=f(()=>e.integrationData.iconId&&e.integrationData.iconId!=="-"?e.integrationData.iconId:null),h=f(()=>e.integrationData.label&&e.integrationData.isInsideNav||e.integrationData.label&&!d.value);return(s,u)=>{var l,p;return g(),m("a",ze({ref_key:"integrationLink",ref:a,"data-test-id":s.dataTestId,class:["hp-header-ssr-integration__item hp-navigation-list-item",{"hp-header-ssr-integration__item--mobile":s.integrationData.isInsideNav,"hp-header-ssr-integration__item--desktop":!s.integrationData.isInsideNav,"hp-header-ssr-integration__item--active":s.integrationData.isActive&&!s.integrationData.isInsideNav,"hp-header-ssr-integration__item--has-text":h.value}],"aria-label":s.integrationData.aria??s.integrationData.key},{"aria-haspopup":c.value?"menu":null,"aria-expanded":c.value?s.integrationData.isActive:null,"aria-owns":c.value?s.integrationData.name:null,href:c.value?"#":(l=s.integrationData)==null?void 0:l.url,target:c.value?null:(p=s.integrationData)==null?void 0:p.target},{"data-on":s.integrationData.isInsideNav?"main":"contrast",onClick:u[0]||(u[0]=y=>{var D;return o(y,(D=a.value)==null?void 0:D.href)})}),[i.value?(g(),w(Ua,{key:0,integrationData:s.integrationData},null,8,["integrationData"])):d.value?(g(),w(q,{key:1,name:d.value,hasBubble:s.integrationData.hasBubble,customClass:s.integrationData.isInsideNav?"leading":""},null,8,["name","hasBubble","customClass"])):_("",!0),h.value?(g(),m("span",Qa,T(s.integrationData.label),1)):_("",!0),s.integrationData.isInsideNav&&s.integrationData.hasFlyout?(g(),w(q,{key:3,name:"bds/chevron-right/16",size:"16px"})):_("",!0)],16,Ha)}}}),Wa=(t,e,a)=>{const n=t[e];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((i,c)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(c.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==a?". Note that variables only represent file names one level deep.":""))))})},ja={class:"hp-header-ssr-integration__controls"},Ka=["aria-label"],Ga={class:"hp-header-ssr-integration__headline-text"},Ya=["data-on","aria-label"],Ja=$({__name:"header-integrations-controls",props:{integrationData:{},languageStrings:{}},setup(t){const e=t,a=M(!1),{closeAllFlyouts:n}=ve(),{updateIntegrationState:i,restoreScrollPosition:c}=ae(),r=()=>{n(),c()},o=()=>i(e.integrationData),d=f(()=>e.integrationData.isInsideNav&&e.integrationData.isShown&&(S.viewport==="mq1"||S.viewport==="mq2"));return B(async()=>{a.value=await pe()==="amg"}),(h,s)=>{var u,l,p;return g(),m("div",ja,[h.integrationData.isInsideNav&&h.integrationData.isShown?(g(),m("button",{key:0,class:"hp-header-ssr-integration__headline hp-header-ssr-integration__button wbx-button wbx-button--small","aria-label":(u=h.languageStrings)==null?void 0:u.buttonBack,onClick:s[0]||(s[0]=y=>o())},[C(q,{name:"bds/chevron-left/16",size:"16px"}),b("span",Ga,T((l=h.languageStrings)==null?void 0:l.buttonBack),1)],8,Ka)):_("",!0),d.value?_("",!0):(g(),m("button",{key:1,"data-on":a.value?"contrast":"main",class:"hp-header-ssr-integration__close wbx-round-button wbx-round-button--small","aria-label":(p=h.languageStrings)==null?void 0:p.buttonClose,"data-test-id":"header-flyout__close-button",onClick:s[1]||(s[1]=y=>r())},[C(q,{name:"bds/close/24"})],8,Ya))])}}}),Xa=["id","aria-label","data-test-id"],Za={class:"hp-header-ssr-integrations-flyout__wrapper"},xa={key:0,role:"heading","aria-level":"2",class:"wb-heading-m hp-header-ssr-integrations-flyout__disabled-message--title"},en={key:1,class:"wb-text-l hp-header-ssr-integrations-flyout__disabled-message--body"},tt=$({__name:"header-integrations-flyout",props:{integrationData:{},languageStrings:{}},setup(t){const e=t,a=it("div");B(()=>{var i,c,r;if(((i=e.integrationData)==null?void 0:i.integrationType)==="external"&&((c=e.integrationData.external)!=null&&c.payload&&((r=e.integrationData.external)!=null&&r.isEagerlyLoaded)||e.integrationData.isActive))n();else if(e.integrationData.integrationType==="internal"||e.integrationData.isActive){const o=st(()=>{var d;return Wa(Object.assign({"../header-integrations-controls/header-integrations-controls.vue":()=>F(()=>import("./header-integrations-controls.js"),[],import.meta.url),"./header-integrations-flyout.vue":()=>F(()=>import("./header-integrations-flyout.js"),[],import.meta.url),"../header-integrations-item/header-integrations-item.vue":()=>F(()=>import("./header-integrations-item.js"),[],import.meta.url),"../header-integrations-language-switcher/header-integrations-language-switcher.vue":()=>F(()=>import("./header-integrations-language-switcher.js"),__vite__mapDeps([0]),import.meta.url),"../header-integrations-user-menu/header-integrations-user-menu.vue":()=>F(()=>import("./header-integrations-user-menu.js"),[],import.meta.url)}),`../header-integrations-${(d=e.integrationData.internal)==null?void 0:d.componentName}/header-integrations-${e.integrationData.internal.componentName}.vue`,3)});a.value=o}}),z(()=>e.integrationData.isActive,async()=>{var i;e.integrationData.isActive&&((i=e.integrationData)==null?void 0:i.integrationType)==="external"&&await n()});const n=async()=>{var i,c;Ze(e.integrationData),a.value=(i=e.integrationData.external)==null?void 0:i.componentName,await be((c=e.integrationData.external)==null?void 0:c.importMapName)};return(i,c)=>{var r,o,d,h,s,u,l,p;return g(),m("div",{id:i.integrationData.name,"aria-label":i.integrationData.aria,class:R(["hp-header-ssr-integrations-flyout",{"hp-header-ssr-integrations-flyout--nav":i.integrationData.isInsideNav}]),"data-test-id":(r=i.integrationData.dataTestId)==null?void 0:r.flyout},[b("div",Za,[k(P).hasControls?(g(),w(Ja,{key:0,integrationData:i.integrationData,languageStrings:i.languageStrings},null,8,["integrationData","languageStrings"])):_("",!0),i.integrationData.isDisabled?(g(),m(N,{key:2},[(s=i.integrationData.disabledMessage)!=null&&s.title?(g(),m("div",xa,T((u=i.integrationData.disabledMessage)==null?void 0:u.title),1)):_("",!0),(l=i.integrationData.disabledMessage)!=null&&l.body?(g(),m("p",en,T((p=i.integrationData.disabledMessage)==null?void 0:p.body),1)):_("",!0)],64)):(g(),w(Ve(a.value),{key:1,"component-id":(h=(d=(o=i.integrationData)==null?void 0:o.external)==null?void 0:d.payload)==null?void 0:h.id,languageStrings:i.languageStrings},null,8,["component-id","languageStrings"]))])],10,Xa)}}}),tn=["aria-label"],an={class:"hp-header-ssr-nav__wrapper"},nn={key:0,class:"hp-header-ssr-nav__search"},sn={key:0,class:"hp-header-ssr-nav__list-item--separator"},rn={class:"hp-header-ssr__list-item hp-header-ssr__list-item--integrations--nav"},on=$({__name:"header-navigation-mobile",props:{navigationData:{},integrationData:{},imprint:{},languageStrings:{}},setup(t){var s,u,l;const e=t,a=e.integrationData.filter(p=>p.name==="fss-search-input"),n={...e.imprint,iconId:e.imprint&&e.imprint.iconId&&e.imprint.iconId!=="-"?e.imprint.iconId:""},i={menu:(s=e.navigationData)==null?void 0:s.menuButtonAria,close:((u=e.navigationData)==null?void 0:u.closeButtonAria)??((l=e.languageStrings)==null?void 0:l.buttonClose)},c={};B(()=>r()),z(V,()=>r());const r=()=>{var p;V.isOpen&&a.length&&(Ze(a[0]),be((p=a[0].external)==null?void 0:p.importMapName))},o=f(()=>O.filter(p=>p.isInsideNav&&p.isShown&&p.name!=="fss-search-input").reverse()),d=f(()=>Object.keys(e.navigationData).length&&e.navigationData.items),h=f(()=>d.value||a.length||n.url||o.value.length);return(p,y)=>{var D,E,v,I;return h.value?(g(),m(N,{key:0},[C(oa,{menuAria:i}),b("div",{id:"mainnav-mobile","aria-label":(D=p.navigationData)==null?void 0:D.menuButtonAria,class:"hp-header-ssr-nav hp-header-ssr-nav--level-1",style:{zIndex:1}},[b("div",an,[C(xe,{level:1,navigationData:p.navigationData,languageStrings:p.languageStrings},null,8,["navigationData","languageStrings"]),k(a).length?(g(),m("div",nn,[(g(),w(Ve((E=k(a)[0].external)==null?void 0:E.componentName),{"component-id":(I=(v=k(a)[0].external)==null?void 0:v.payload)==null?void 0:I.id},null,8,["component-id"]))])):_("",!0),d.value?(g(),w(et,{key:1,level:1,navigationData:p.navigationData,groupId:"mainnav-mobile-1",languageStrings:p.languageStrings},null,8,["navigationData","languageStrings"])):_("",!0),(g(!0),m(N,null,Q(o.value,(L,H)=>{var K;return g(),m(N,{key:L.key},[H===0?(g(),m("hr",sn)):_("",!0),b("li",rn,[C(ue,{integrationData:L,dataTestId:(K=L.dataTestId)==null?void 0:K.item},null,8,["integrationData","dataTestId"]),L.hasFlyout?(g(),w(tt,{key:0,integrationData:L,languageStrings:p.languageStrings},null,8,["integrationData","languageStrings"])):_("",!0)])],64)}),128)),n.url?(g(),m(N,{key:2},[y[0]||(y[0]=b("hr",{class:"hp-header-ssr-nav__list-item--separator"},null,-1)),C(x,{dataTestId:"header-privacy-policy",navigationItemData:n,navigationData:c,level:1,id:0})],64)):_("",!0)])],8,tn)],64)):_("",!0)}}}),ln=$({__name:"header-navigation-desktop",props:{navigationData:{},languageStrings:{}},setup(t){return(e,a)=>(g(),w(et,{level:1,navigationData:e.navigationData,groupId:"mainnav-desktop",languageStrings:e.languageStrings},null,8,["navigationData","languageStrings"]))}}),cn="OWC_PERSONALISATION_DATA",dn=$({__name:"header-navigation",props:{componentId:{},navigationData:{},integrationData:{},imprint:{},languageStrings:{}},setup(t){const e=t,a=M(!0),n=M(!0),i=M({}),c=M();rt("headerCampaignPayload",c),B(()=>{r()});const r=()=>{const d=Ue();i.value=d.subscribe(cn,h=>{const s=h.filter(u=>u.componentId===e.componentId);s.length>0&&(c.value=s[0].personalisationData,o())})},o=()=>{i.value&&i.value.unsubscribe&&i.value.unsubscribe()};return z(S,d=>{a.value=d.viewport!=="mq6",n.value=d.viewport==="mq6"&&!!Object.keys(e.navigationData).length}),z(e.navigationData,d=>{n.value=S.viewport==="mq6"&&!!Object.keys(d).length}),(d,h)=>(g(),m(N,null,[a.value?(g(),w(on,{key:0,navigationData:d.navigationData,integrationData:d.integrationData,imprint:d.imprint,languageStrings:d.languageStrings},null,8,["navigationData","integrationData","imprint","languageStrings"])):_("",!0),n.value?(g(),w(ln,{key:1,navigationData:d.navigationData,languageStrings:d.languageStrings},null,8,["navigationData","languageStrings"])):_("",!0)],64))}}),un=$({__name:"header-mask",setup(t){const{closeAllFlyouts:e}=ve(),{restoreScrollPosition:a}=_e();z(P,o=>{o.isOpen?n():i()});const n=()=>{document.body.classList.add("hp-header-ssr__scroll-lock")},i=()=>{document.body.classList.remove("hp-header-ssr__scroll-lock")},c=()=>{P.isBlocking||(e(),a())},r=o=>{o.key==="Escape"&&!P.isBlocking&&(e(),a())};return B(()=>{window.addEventListener("keydown",r)}),Be(()=>{window.removeEventListener("keydown",r)}),(o,d)=>(g(),m("div",{class:R(["hp-header-ssr__mask",{"hp-header-ssr__mask--blocking":k(P).isBlocking,"hp-header-ssr__mask--open":k(P).isOpen}]),onClick:d[0]||(d[0]=h=>c())},null,2))}}),gn={key:0,class:"hp-header-ssr__list-item hp-header-ssr__list-item--integrations hp-header-ssr__list-item--integrations--loaddesktoponly"},pn=$({__name:"header-integrations",props:{integrationData:{},imprint:{},languageStrings:{}},setup(t){return(e,a)=>(g(),m(N,null,[e.imprint?(g(),m("li",gn,[C(ue,{integrationData:e.imprint,dataTestId:"header-privacy-policy"},null,8,["integrationData"])])):_("",!0),(g(!0),m(N,null,Q(k(O),n=>{var i;return g(),m(N,{key:n.key},[!n.isInsideNav&&n.isShown?(g(),m("li",{key:0,class:R(["hp-header-ssr__list-item hp-header-ssr__list-item--integrations",{"hp-header-ssr__list-item--integrations--loaddesktoponly":n.name==="fss-search-input"}])},[C(ue,{integrationData:n,dataTestId:(i=n.dataTestId)==null?void 0:i.item},null,8,["integrationData","dataTestId"]),n.hasFlyout?(g(),w(tt,{key:0,integrationData:n,languageStrings:e.languageStrings},null,8,["integrationData","languageStrings"])):_("",!0)],2)):_("",!0)],64)}),128))],64))}}),hn=["aria-label"],mn={class:"hp-header-ssr__nav"},vn={class:"hp-header-ssr__list"},yn={class:"hp-header-ssr__list-item hp-header-ssr__list-item--logo"},_n={class:"hp-header-ssr__list-item hp-header-ssr__list-item--mainnav"},Re=$({__name:"App",props:{componentId:{type:String,required:!0,default:()=>Fe("componentId")},data:{type:Object,required:!0}},setup(t){var i;const e=t,{initNavState:a}=j(),{initIntegrationState:n}=ae();return a((i=e.data.payload)==null?void 0:i.mainNavigation),n(e.data.integrations),B(async()=>await Ft()),ot(()=>Vt()),(c,r)=>{var o,d,h,s,u,l,p;return g(),m("header",{id:"hp-header-ssr",class:"hp-header-ssr",ref:"header","aria-label":(d=(o=t.data)==null?void 0:o.languageStringsData)==null?void 0:d.ariaHeaderTag},[C(kt,{languageStrings:(h=t.data)==null?void 0:h.languageStringsData},null,8,["languageStrings"]),b("nav",mn,[b("ul",vn,[b("li",yn,[C(Dt,{homePageUrl:(s=t.data)==null?void 0:s.homePageLink,languageStrings:(u=t.data)==null?void 0:u.languageStringsData,env:(l=t.data)==null?void 0:l.environment},null,8,["homePageUrl","languageStrings","env"])]),b("li",_n,[C(dn,{componentId:e.componentId,navigationData:k(A),integrationData:k(O),imprint:t.data.payload.imprint,languageStrings:(p=t.data)==null?void 0:p.languageStringsData},null,8,["componentId","navigationData","integrationData","imprint","languageStrings"])]),k(O).length?(g(),w(pn,{key:0,integrationData:k(O),imprint:t.data.payload.imprint,languageStrings:t.data.languageStringsData},null,8,["integrationData","imprint","languageStrings"])):_("",!0)])]),C(un)],8,hn)}}}),bn=He(Xe),fn="i18next",Dn=(t,e)=>{if(e==="AQ"){if(t==="en")return"en-GB";if(t==="de")return"de-DE"}return`${t}-${e}`},wn=async(t,e,a)=>{let n;const{language:i,country:c}=t,r=Dn(i,c);try{n=await gt(r,a,fn)}catch(o){bn.error(`${e} - Error fetching translations in ${c}-${i}`,o,new Date().toISOString())}return n??{}},Sn="header-ssr",kn="9fc5e2828664d195bddaeb910e23e395",In=async(t,e,a)=>{let n;return t!=="csr"?n=lt(Re,{componentId:e,data:a}):n=ct(Re,{componentId:e,data:a}),n},En=async(t,e)=>{var n,i;const a=await wn(t.pageAEMContext,Sn,kn);return{homePageLink:((n=t.pageAEMContext)==null?void 0:n.homePageLink)??"/",payload:await jt(t.payload,t.pageAEMContext,a),integrations:aa(t.payload,t.pageAEMContext,a),languageStringsData:a,environment:((i=t.pageAEMContext)==null?void 0:i.stageVariant)??"test"}},ge={createApp:In,loader:En},$n="_OneWebSSR_componentId_",An="_OneWebSSR_renderMode_",Cn="_OneWebSSR_loaderData_",Tn={install(t,e,a,n){t.provide($n,e).provide(An,a).provide(Cn,n)}};async function Nn(t,e){async function a({element:n}){var s;let i,c;const r=n.getAttribute("component-id"),o=document.getElementById(`ssr-root-${r}`)??n.appendChild(document.createElement("div")),d=(s=window.ssrData)==null?void 0:s[r];if(i=d,!d&&ge.loader){const u=await async function(l){var v,I,L;const p=window.top||window,y=p.aemNamespace??{},{payload:D,config:E}=((v=y.componentData)==null?void 0:v[l])??{};return{componentId:l,requestUrl:p.location.href,version:"1.11.0",payload:D,config:E,globalAEMContext:y.environmentVariables,pageAEMContext:y.pageEnvironmentVariables,vehicleContext:y.vehicleData,dealerContext:y.dealerContext,pageProperties:{description:((I=document.querySelector('meta[name="description"]'))==null?void 0:I.getAttribute("content"))||"","og:image":((L=document.querySelector('meta[property="og:image"]'))==null?void 0:L.getAttribute("content"))||""}}}(r);i=await ge.loader(u,!1).catch(l=>{c=l})}const h=d?"hydrate":"csr";(await t(h,r,i,c)).use(Tn,r,h,i).mount(o)}document.querySelectorAll(`[data-component-name="${e}"]`).forEach(n=>a({element:n})),(window.top??window).aemNamespace.pageEnvironmentVariables.runMode==="AUTHOR"&&F(()=>import("./author.js"),[],import.meta.url).then(n=>n.default({componentName:e,mountComponent:a})).catch(n=>console.error("Could not load author script",n))}Nn(ge.createApp,"hp-header-ssr");export{Ot as $,Ja as _,Tt as a,te as b,tt as c,ue as d,Ua as e,Nt as f,qn as g,me as h,Ct as l,he as p,Ge as u,Mt as v};
