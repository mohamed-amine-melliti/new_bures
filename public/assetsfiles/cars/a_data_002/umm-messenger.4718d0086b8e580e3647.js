"use strict";(self.uslk_umm_messenger_jsonp=self.uslk_umm_messenger_jsonp||[]).push([[588],{333:(e,t,o)=>{o.d(t,{m_:()=>g,eE:()=>Y,Nr:()=>u,Ny:()=>c,Iy:()=>d,SP:()=>_,Zb:()=>m,Lg:()=>b,Jq:()=>f,zk:()=>v});var n=o(25508),a=o(10465);const i={silent:{changePageTitle:!1,showMessageBubblesOnHover:!0,showProactive:!1,showUnreadMessageBadge:!1,useNudgeAnimation:!1},low:{changePageTitle:!1,showProactive:!1,showMessageBubblesOnHover:!0,showUnreadMessageBadge:!0,useNudgeAnimation:!1},medium:{changePageTitle:!0,showProactive:!0,showMessageBubblesOnHover:!0,showUnreadMessageBadge:!0,useNudgeAnimation:!0},full:{changePageTitle:!0,showProactive:!0,showMessageBubblesOnHover:!1,showUnreadMessageBadge:!0,useNudgeAnimation:!0}};var r=o(32711),s=o(8628);const l=e=>e["@ul/umm/ui"],c=(0,n.Mz)([l],(e=>e.isMobile)),u=(0,n.Mz)([l],(e=>e.initialized)),_=(0,n.Mz)([l],(e=>e.restorationComplete)),d=(0,n.Mz)([l],(e=>e.opened)),m=(0,n.Mz)([l],(e=>e.navigation)),p=(0,n.Mz)([l],(e=>e.navigation.slice(-1).pop())),g=(0,n.Mz)([p],(e=>{if(null!=e&&e.id===s.Ss.Conversation){const{id:t,data:o}=e;if(t===s.Ss.Conversation&&o&&o.conversationId)return o.conversationId}return null})),b=((0,n.Mz)([g,a.Wl.list],((e,t)=>e?t.find((t=>t.id===e))?.uuid:null)),(0,n.Mz)([l,r.zj],((e,t)=>({opened:e.opened,navigation:e.navigation,lastUpdated:e.lastUpdated,widget_key:t.widget_key})))),f=(0,n.Mz)([l],(e=>e.showProactiveBubble)),v=(0,n.Mz)([l],(e=>e.buttonWasHovered)),j=((0,n.Mz)([l],(e=>e.lastUpdated)),(0,n.Mz)([r.zj],(({button_profile_mobile:e,button_profile_desktop:t})=>({mobile:e,desktop:t})))),y=(0,n.Mz)([c,j],((e,t)=>e?t.mobile:t.desktop)),Y=(0,n.Mz)([y],(e=>i[e??"silent"]))},1772:(e,t,o)=>{o.d(t,{HR:()=>y,Wn:()=>d,lL:()=>k,s0:()=>m});var n=o(4796),a=o(67843),i=o(38835),r=o(1804),s=o(27328),l=o(47415),c=o(73033),u=o(73441),_=o(42205);const d=n.ZE({left:0,right:0}),m=n.ZE({silent:0,low:0,medium:0,full:0}),p=n.ZE({circle:0,rounded_square:0,square:0}),g=n.ZE({bold_bubble_text:0,bold_bubble_question:0,bold_bubble_pen:0,bold_bubble_dots:0,bold_rectangle_text:0,bold_bubbles:0,bold_bubbles_text:0,outlined_bubble_text:0,outlined_bubble_question:0,outlined_bubble_pen:0,outlined_bubble_dots:0,outlined_rectangle_text:0,outlined_bubbles:0,outlined_bubbles_text:0,symbol_only_text:0,symbol_only_question:0,symbol_only_pen:0,symbol_only_dots:0}),b=n.ZE({black:0,white:0}),f={email_field_placeholder:n.Yj,email_field_label:n.Yj,code_field_placeholder:n.Yj,code_field_label:n.Yj,feedback_default_textarea:n.Yj,feedback_field_label:n.Yj,name_field_label:n.Yj,name_field_placeholder:n.Yj,phone_number_field_label:n.Yj,phone_number_field_placeholder:n.Yj,mobile_number_field_label:n.Yj,mobile_number_field_placeholder:n.Yj,customer_id_field_label:n.Yj,customer_id_field_placeholder:n.Yj,company_field_label:n.Yj,company_field_placeholder:n.Yj,field_required:n.Yj,search_field_placeholder:n.Yj,access_conversations_button:n.Yj,send_button:n.Yj,transcript_request_button:n.Yj,conversations_button:n.Yj,start_conversation_button:n.Yj,contact_details_button:n.Yj,get_reply_button:n.Yj,receive_transcript_button:n.Yj,rate_conversation_button:n.Yj,send_file_button:n.Yj,close_button:n.Yj,reload_button:n.Yj,disclaimer_accept_button:n.Yj,skip_button:n.Yj,leave_anyway_button:n.Yj,clear_history_button:n.Yj,close_tab_button:n.Yj,show_call_button:n.Yj,cancel_button:n.Yj,authentication_title:n.Yj,authentication_headline:n.Yj,authentication_text:n.Yj,authentication_code_prompt:n.Yj,code_confirmation:n.Yj,reauth_email_sent:n.Yj,cookie_consent_title:n.Yj,cookie_consent_text:n.Yj,cookie_consent_accept_button:n.Yj,email_verification_title:n.Yj,email_verification_headline:n.Yj,email_verification_token_button:n.Yj,feedback_title:n.Yj,feedback_subheadline:n.Yj,feedback_thanks:n.Yj,request_transcript_title:n.Yj,transcript_confirmation:n.Yj,header_conversation_online:n.Yj,connection_lost_title:n.Yj,message_list_channel_error:n.Yj,continue_conversation_button:n.Yj,load_previous_conversation_button:n.Yj,load_next_conversation_button:n.Yj,file_upload_hint:n.Yj,conversation_not_found:n.Yj,job_title_label:n.Yj,timezone_label:n.Yj,about_me_label:n.Yj,typing_indicator:n.Yj,operation_failed_headline:n.Yj,operation_failed_text:n.Yj,offline_screen_title:n.Yj,clear_history_menu:n.Yj,logout_view_title:n.Yj,clear_history_title:n.Yj,clear_history_text:n.Yj,fallback_error:n.Yj,email_address_invalid:n.Yj,phone_number_invalid:n.Yj,character_minimum:n.Yj,character_maximum:n.Yj,form_error_type:n.Yj,current_call_title:n.Yj,call_preparation_title:n.Yj,join_call:n.Yj,enable_camera_tooltip:n.Yj,disable_camera_tooltip:n.Yj,open_messenger_tooltip:n.Yj,hide_messenger_tooltip:n.Yj,flip_camera_tooltip:n.Yj,enable_screen_share_tooltip:n.Yj,disable_screen_share_tooltip:n.Yj,title_video_input:n.Yj,title_audio_input:n.Yj,title_audio_output:n.Yj,device_missing:n.Yj,media_permission_error:n.Yj,settings_menu_tooltip:n.Yj,enter_full_screen_tooltip:n.Yj,exit_full_screen_tooltip:n.Yj,unmute_microphone_tooltip:n.Yj,mute_microphone_tooltip:n.Yj,call_connection_error:n.Yj,hang_up_tooltip:n.Yj,answer_call_tooltip:n.Yj,audio_call_state_expired:n.Yj,call_declined_title:n.Yj,audio_call_state_withdrawn:n.Yj,starting_call_title:n.Yj,incoming_call_title:n.Yj,call_finished_title:n.Yj,call_accepted_title:n.Yj,call_starting_time:n.Yj,call_duration:n.Yj,page_title_operator_says:n.Yj,start_recording_hint:n.Yj,stop_recording_hint:n.Yj,microphone_error:n.Yj,encoding_error:n.Yj,upload_error:n.Yj,search_results_label:n.Yj,emoji_picker_emoji_unsupported_message:n.Yj,emoji_picker_network_error_message:n.Yj,emoji_picker_categories_custom:n.Yj,emoji_picker_categories_smileys_emotion:n.Yj,emoji_picker_categories_people_body:n.Yj,emoji_picker_categories_animals_nature:n.Yj,emoji_picker_categories_food_drink:n.Yj,emoji_picker_categories_travel_places:n.Yj,emoji_picker_categories_activities:n.Yj,emoji_picker_categories_objects:n.Yj,emoji_picker_categories_symbols:n.Yj,emoji_picker_categories_flags:n.Yj,emoji_picker_categories_label:n.Yj,emoji_picker_favorites_label:n.Yj,emoji_picker_loading_message:n.Yj,emoji_picker_region_label:n.Yj,emoji_picker_search_description:n.Yj,emoji_picker_skin_tone_description:n.Yj,emoji_picker_skin_tone_label:n.Yj,emoji_picker_skin_tones_default:n.Yj,emoji_picker_skin_tones_light:n.Yj,emoji_picker_skin_tones_medium_light:n.Yj,emoji_picker_skin_tones_medium:n.Yj,emoji_picker_skin_tones_medium_dark:n.Yj,emoji_picker_skin_tones_dark:n.Yj,emoji_picker_skin_tones_label:n.Yj,channel_selection_description_text:n.Yj,channel_screen_headline:n.Yj,channel_screen_body_text:n.Yj,channel_screen_forward_button:n.Yj,disclaimer_text:n.Yj,disclaimer_subheadline:n.Yj,disclaimer_headline:n.Yj,title_visual_effects:n.Yj,visual_effects_not_supported:n.Yj,visual_effects_off:n.Yj,visual_effects_blur_slight:n.Yj,visual_effects_blur_strong:n.Yj,title_qr_code:n.Yj},v=(0,i.KV)()||(0,i.YG)()||(0,i.Xt)()?n.Yj:(0,r.lq)(n.Yj),j={messenger_button_label:v,messenger_bubble_message_label:v,messenger_bubble_close_button:v,messenger_button_loading_label:v,close_popup_button:v,chatbot_bubbles_responded:v,chatbot_bubbles_title:v,chatbot_bubble_selected_label:v,chatbot_bubble_label:v,show_more_actions_button_label:v,rating_selected_label:v,rating_label:v,rating_option_label:v,conversation_list_item_open_unread_label:v,conversation_list_item_open_label:v,conversation_list_item_last_message_label:v,conversation_list_item_unread_messages_label:v,conversation_list_item_last_message_seen_label:v,conversation_list_item_channel_icon_label:v,conversation_list_item_message_time_label:v,conversation_list_item_message_summary_label:v,conversations_button_label:v,close_messenger_button:v,channel_button_label:v,carousel_option_select_label:v,carousel_option_selected_label:v,carousel_item_selected_label:v,loading_label:v,navigate_back_button:v,branding_label:v,carousel_title:v,carousel_option_label:v,carousel_back_button:v,carousel_forward_button:v,operator_bio_heading:v,form_submit_button_no_changes:v,form_submit_button_invalid:v,form_submit_button_submitting:v,show_operator_info_button:v,system_message_label:v,call_message_operator_label:v,call_decline_label:v,call_accept_title:v,emoji_picker_button:v,emoji_picker_modal_label:v,file_upload_modal_heading:v,voice_record_send_button:v,voice_record_start_button:v,voice_record_stop_button:v,voice_record_button:v,voice_record_modal_heading:v,automated_message_content_label:v,operator_message_content_label:v,contact_message_content_label:v,message_meta_contact_time_seen:v,message_meta_contact_time_unseen:v,message_meta_operator_time:v,scroll_anchor_unread_label:v,scroll_anchor_label:v,card_select_title:v,card_select_option_label:v,zoom_in_button:v,zoom_out_button:v,image_preview_frame:v},y=n.KC([n.eu("facebook"),n.eu("telegram"),n.eu("threema"),n.eu("whatsapp_business"),n.eu("instagram"),n.eu("email")]),Y=n.e0(n.NW({url:(0,r.me)(n.Yj),type:y})),h=n.O2({text:n.Yj,url:n.Yj,new_tab:n.zM}),M={allowed_calls:_.Bi,audio_message_received:n.zM,audio_message_sent:n.zM,audio_only_inactive:n.zM,button_profile_desktop:(0,r.me)(m),button_profile_mobile:(0,r.me)(m),cookie_expire:n.ai,organization_id:n.ai,country_id:s.Mb,data_privacy:n.zM,data_privacy_link:(0,r.me)(n.Yj),data_privacy_name:(0,r.me)(n.Yj),cookie_consent_enabled:n.zM,default_textarea:(0,r.me)(n.Yj),emit_chat_state:n.zM,file_upload_contact_enabled:n.zM,geo_type:_.X0,group_select_subheadline:n.Yj,hide_poweredby:n.zM,lang:n.Yj,links_offsite:n.Yj,links_onsite:n.Yj,live_preview:n.zM,locale:l.V9,required_register_fields:n.YO(u.QR),enabled_register_fields:n.YO(u.QR),messenger_api:(0,a.h)(n.zM,!0),mode_proactive:n.zM,mode_proactive_registration:n.zM,mode_registration:n.zM,offline_headline:n.Yj,offline_register_thanks:n.Yj,offline_reminder_headline:n.Yj,offline_reminder_subheadline:n.Yj,offline_response_time:(0,r.me)(n.Yj),offline_subheadline:n.Yj,offline_team_name:n.Yj,operator_group_id:n.ai,poweredby_link:n.Yj,proactive_message:(0,r.me)(n.Yj),proactive_media_url:(0,a.h)((0,r.me)(n.Yj),null),proactive_timeout:(0,r.me)(n.ai),proactive_message_show_operator:n.zM,proactive_message_show_input:n.zM,proactive_quick_replies_enabled:n.zM,proactive_quick_reply1:(0,r.me)(n.Yj),proactive_quick_reply2:(0,r.me)(n.Yj),proactive_quick_reply3:(0,r.me)(n.Yj),quick_links:n.O2({enabled:n.zM,links:n.YO(h)}),rating_enabled:n.zM,sentry_enabled:n.zM,show_data_privacy_link:n.zM,system_font:n.zM,theme_background_overlay:c._,theme_button_offset_x:n.ai,theme_button_offset_y:n.ai,theme_button_index_z:n.ai,theme_button_orientation:d,theme_button_style:p,theme_button_icon:g,theme_contrasting_color:b,theme_font_custom_name:n.Yj,theme_font_custom_url:n.Yj,theme_lead_color:n.Yj,tracking:(0,r.me)(n.ZE({disabled:1,ga4:1})),tracking_external:n.zM,transcript_headline:n.Yj,transcript_subheadline:n.Yj,transcript_enabled:n.zM,um_widget_id:n.ai,upload_mime_types_contact:n.Yj,url_image:n.Yj,voice_message_contact_enabled:n.zM,voice_message_operator_enabled:n.zM,welcome_bubble_message:n.Yj,welcome_enabled:n.zM,welcome_headline:n.Yj,welcome_text:n.Yj,widget_key:n.Yj,wildcard_cookie:n.zM,channel_buttons:n.YO(Y),disclaimer_show:n.zM,offline_contact_details:n.zM,...f,...j},k=n.O2(M)},1804:(e,t,o)=>{o.d(t,{x_:()=>y,vr:()=>g,AN:()=>b,o7:()=>f,oh:()=>p,me:()=>j,lq:()=>v,uk:()=>d,ZU:()=>m});var n=o(98963),a=o(79599),i=o(29508),r=o(90485),s=o(4796);const l=/^(?:[\w!#$%&'*+\-/=?^`{|}~]+\.)*[\w!#$%&'*+\-/=?^`{|}~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/;var c=o(36756),u=o(55342);const _=e=>{const t=e.context.map((e=>e.key)).filter((e=>e.length>0)).join(".");return(0,i.Fs)(r.k$((o=e.context)[o.length-1]),r.Tj((({type:{name:o}})=>{return`Expecting ${o}${""===t?"":` at ${t}`} but instead got: ${n=e.value,void 0===n?"undefined":JSON.stringify(n)}.`;var n})),r.NY);var o};function d(e){return t=>{const o=p(t);return u.R.error(`io-ts validation error because ${e} sent unexpeced data:`,o),"Unexpected error."}}const m=e=>t=>c.Rm2("error",`io-ts validation error because ${e} sent unexpeced data:`,p(t));function p(e){return e.map(_).filter((e=>null!==e)).join("\n")}function g(e,t){return s.E$([s.O2(e),s.e0(s.OH(t))])}function b(e,t){return s.E$([s.NW(e),s.OH(t)])}const f=(e,t)=>{const o=Object.values(e).map((e=>s.eu(e)));return(0,i.Mi)(s.KC((0,i.Mi)(o),t))},v=e=>s.KC([e,s.Vx]),j=e=>s.KC([e,s.ch]);(0,i.Mi)(s.PV);const y=new s.ZU("StringFromNumber",s.Yj.is,((e,t)=>(0,i.Fs)(s.ai.validate(e,t),a.cy((o=>isNaN(o)?s.V2(e,t):s.kX(o.toString()))))),(e=>parseInt(e,10)));const Y=e=>l.test(e.trim());new s.ZU("EmailListFromString",(e=>s.Yj.is(e)&&(0,i.Fs)(e.split(/,|;/),n.Si(Y))),((e,t)=>(0,i.Fs)(s.Yj.validate(e,t),a.cy((e=>{const o=(0,i.Fs)(e.split(/,|;/),n.pb((e=>!Y(e))));return n.J_(o)?s.V2(o,t):s.kX(e)})))),i.D_)},3046:(e,t,o)=>{o.d(t,{LQ:()=>c,NP:()=>r,fE:()=>_});var n=o(4796),a=o(1804),i=o(1772);let r=function(e){return e.equal="equal",e.regex="regex",e}({});const s=n.NW({field:n.Yj,value:n.Yj,operator:(0,a.o7)(r)}),l=n.O2({id:n.ai,key:n.Yj,url:n.Yj}),c=n.OH({mode_proactive_registration:n.zM,mode_proactive:n.zM,mode_registration:n.zM,theme_button_orientation:i.Wn,button_profile_desktop:i.s0,button_profile_mobile:i.s0}),u=n.NW({rules:n.YO(s),widget:(0,a.me)(l),config:c}),_=n.E$([n.NW({enabled:n.zM,is_router:n.zM,ruleset:n.YO(u)}),n.OH({default_widget:(0,a.me)(l)})])},3374:(e,t,o)=>{o.d(t,{_O:()=>u,g3:()=>l,gg:()=>c,kI:()=>r,mc:()=>s,pD:()=>a,rj:()=>i});var n=o(58136);const a=(0,n.VP)("@ul/umm/messenger-api/MAXIMIZE"),i=(0,n.VP)("@ul/umm/messenger-api/MINIMIZE"),r=(0,n.VP)("@ul/umm/messenger-api/OPEN_CONVERSATION",(e=>t=>e(t))),s=(0,n.VP)("@ul/umm/messenger-api/SET_CUSTOM_DATA",(e=>t=>e(t))),l=(0,n.VP)("@ul/umm/messenger-api/START_CONVERSATION",(e=>t=>e(t))),c=(0,n.VP)("@ul/umm/messenger-api/SET_REGISTRATION",(e=>t=>e(t))),u=(0,n.VP)("@ul/umm/messenger-api/SET_PROACTIVE",(e=>t=>e(t)))},4755:(e,t,o)=>{o.d(t,{IG:()=>l,KH:()=>c,NS:()=>r,p$:()=>s,wY:()=>i,zB:()=>u});var n=o(11328),a=o(4796);let i=function(e){return e.Unknown="unknown",e}({}),r=function(e){return e[e.ServerError=4e3]="ServerError",e[e.ClientError=4001]="ClientError",e[e.ConnectionLimitReached=4002]="ConnectionLimitReached",e[e.InvalidOrigin=4003]="InvalidOrigin",e}({});const s=(0,n.n0)(),l=a.E$([a.NW({info:a.Yj,body:a.L5}),a.OH({context:a.Yj,status:a.KC([a.eu("warning"),a.eu("error"),a.eu("fatal")]),message:a.Yj})]),c=(0,n.n0)(),u=(e,t)=>a.E$([a.NW({info:e,body:t}),a.OH({status:a.KC([a.eu("warning"),a.eu("error"),a.eu("fatal")]),message:a.Yj,context:a.Yj})])},4958:(e,t,o)=>{o.d(t,{v:()=>a});var n=o(4796);const a=o(47419).RV("throttled",n.NW({}))},6540:(e,t,o)=>{o.d(t,{CU:()=>s,Eq:()=>u,n:()=>c,yT:()=>l});var n=o(37822),a=o(29508),i=o(62938),r=o(64579);const s="e2442414-4d38-11ec-82c5-23f2e4a2e846",l=(0,a.Mi)(i.A),c=e=>(0,a.Mi)((0,r.A)(`${e}`,s)),u=n.ee(((e,t)=>e===t))},6771:(e,t,o)=>{o.d(t,{w:()=>i});var n=o(79599),a=o(8645);const i=e=>r(e),r=e=>((0,a.V)(n.FG(e),"unsafeToRight failed"),e.right)},6926:(e,t,o)=>{o.d(t,{I6:()=>k,QK:()=>M,br:()=>w,nx:()=>N,s:()=>Y,vZ:()=>E,wy:()=>v,x1:()=>T});var n=o(79599),a=o(29508),i=o(90485),r=o(14569),s=o(88288),l=o(64833),c=o(8927),u=o(81020),_=o(29610),d=o(48100),m=o(72596),p=o(6771);const{KO:g,BL:b,qZ:f,wy:v,Um:j,uM:y,s:Y,oO:h,QK:M}=u,k=((0,a.Fs)(l.w,s.mA),()=>e=>(0,a.Fs)(e,_.p(n.FG))),w=e=>(0,a.Fs)(e,d.T(p.w)),E=s.K_,N=e=>t=>(0,a.Fs)(t,m.n((t=>(0,a.Fs)(t,n.Tj(e),(e=>c.of(e)),s.Bq))));(0,a.Mi)(N);function C(e){return(0,a.Fs)(e,s.AU(s.kb,i.AU((()=>r.JI().empty),s.pG)))}const T=e=>(0,a.L3)(s.Tj(e),C);s.rz,s.WW.map,s.rz},7588:(e,t,o)=>{o.d(t,{dz:()=>f,Lx:()=>y,hZ:()=>Y,sg:()=>j,BV:()=>h});var n=o(4796),a=o(1804),i=o(47415),r=o(41504),s=o(26530),l=o(73441),c=o(15187),u=o(62520),_=o(83788);const d=n.O2({id:n.ai,name:n.Yj,url:n.Yj});var m=o(51939),p=o(97405);const g=n.NW({id:n.ai,text:n.Yj});var b=o(42205);let f=function(e){return e[e.Open=0]="Open",e[e.Expired=1]="Expired",e[e.Buffering=2]="Buffering",e}({});const v=(0,r.K)("conversation",n.NW({id:n.ai,accepts_messages:n.zM,status:u.FE,created_at:n.Yj,conversation_group_id:n.ai,previous_conversation_id:(0,a.me)(n.ai),next_conversation_id:(0,a.me)(n.ai),last_message_sent_at:(0,a.me)(n.Yj),subject:(0,a.me)(n.Yj),rate:(0,a.me)(n.ai),locale:(0,a.me)(i.V9)})),j=n.E$([v,n.NW({operator_assigned_to:(0,a.me)(n.ai),contact:l.wL,unread_messages_operator:n.YO(m.ZG),um_widget:(0,a.me)(b.qH),um_widget_goals:n.YO(d),topics:n.YO(g),contact_channel:s._3,pre_survey_option:(0,a.me)(n.Yj),post_survey_option:(0,a.me)(n.Yj),feedback_message:(0,a.me)(n.Yj),data_privacy:(0,a.me)(n.zM),page_impressions:(0,a.me)(n.ai),visits:(0,a.me)(n.ai),marked_read_operator:n.zM,marked_read_contact:n.zM,contact_first_message_sent_at:n.Yj,contact_last_message_sent_at:n.Yj,contact_last_update_at:(0,a.me)(n.Yj),custom:(0,a.me)(n.g1(n.Yj,n.L5)),last_message:(0,a.me)(m.ZG),expiry_state:(0,a.o7)(f),last_fetchable_msgid:(0,a.me)(n.Yj),conversation_part_set:(0,a.me)(n.YO(c.mW)),custom_field_data:_.$c,supports_message_delete:n.zM})]),y=n.E$([v,n.NW({um_widget_id:n.ai,unread_messages_contact:n.YO(m.ZG),operator_assigned_to:(0,a.me)(p.tl),last_message:(0,a.me)(m.ZG),is_operator_relevant:n.zM,contact_channel:s._3})]),Y=n.E$([y,n.NW({transcript:n.YO(m.ZG)})]),h=e=>void 0!==e.id},8628:(e,t,o)=>{o.d(t,{Ss:()=>r,Z$:()=>y,ye:()=>g});var n=o(4796),a=o(1772),i=o(1804);let r=function(e){return e.MessengerBoard="messenger-board",e.ConversationList="conversations",e.Conversation="conversation",e.Rating="rating",e.RequestTranscript="requesttranscript",e.Reauth="reauth",e.Verification="verification",e.Contact="contact",e.Logout="logout",e.ChannelNavigation="channelnavigation",e.DataPrivacy="dataprivacy",e}({});const s=n.NW({id:n.eu(r.MessengerBoard)}),l=n.NW({id:n.eu(r.ConversationList)}),c=n.NW({id:n.eu(r.Logout)}),u=n.NW({id:n.eu(r.Reauth)}),_=n.NW({id:n.eu(r.Verification),data:n.NW({conversationId:n.ai})}),d=n.NW({id:n.eu(r.Conversation),data:n.NW({conversationId:n.ai})}),m=n.NW({id:n.eu(r.Rating),data:n.NW({conversationId:n.ai})}),p=n.NW({id:n.eu(r.RequestTranscript),data:n.NW({conversationId:n.ai})});let g=function(e){return e.UserInteraction="user-interaction",e.CloseReminder="close-reminder",e.LogoutReminder="logout-reminder",e}({});const b=n.NW({id:n.eu(r.Contact),data:n.NW({conversationId:n.ai,reason:(0,i.o7)(g)})}),f=n.NW({type:a.HR,link:n.Yj}),v=n.NW({id:n.eu(r.DataPrivacy),data:f}),j=n.NW({id:n.eu(r.ChannelNavigation),data:f}),y=n.KC([s,l,d,m,u,_,p,b,c,j,v])},8645:(e,t,o)=>{o.d(t,{V:()=>n});const n=(e,t,...o)=>{if(!e){let e=0;const n=new Error(t.replace(/%s/g,(()=>String(o[e++]))));throw n.name="Invariant Violation",n}}},10465:(e,t,o)=>{o.d(t,{Hr:()=>m,Wl:()=>_,iU:()=>d,wT:()=>p});var n=o(29508),a=o(90485),i=o(55805),r=o(25508),s=o(42870);const l=e=>e[s.$9],c=(e,t)=>{const o=(0,r.Mz)([l],(t=>t[e])),s=(0,r.Mz)([o],(e=>void 0===e?[]:Object.keys(e))),c=(0,r.Mz)([o],(e=>void 0===e?[]:Object.values(e))),u=(t,a)=>{if(("conversation"===e||"message"===e)&&!i.k.is(a))throw console.error("IMPORTANT: FOUND WRONG SELECTOR ID"),new Error("IMPORTANT: FOUND WRONG SELECTOR ID");return(0,n.Mi)(o(t)[a.toString()])},_=(0,n.Mi)((0,r.Mz)([u],(e=>a.k$(e))));return{all:o,ids:s,list:c,byId:u,byIdO:_}},u=(e,t,o)=>{const n=c(e),i=(e,t)=>n.list(e).find((e=>o(e)===`${t}`)),s=(0,r.Mz)([i],(e=>a.k$(e)));return{...n,byServerId:i,byServerIdO:s}},_=(c("contact"),u("conversation",0,(e=>`${e.id}`))),d=(c("conversationPart"),u("message",0,(e=>`${e.id}`))),m=(c("navigation"),c("operator")),p=(c("operatorGroup"),c("translation"));c("widget")},10789:(e,t,o)=>{o.d(t,{O:()=>i});var n=o(4796),a=o(7588);const i=o(47419).RV("conversation_list",n.NW({conversations:n.YO(a.Lx)}))},11860:(e,t,o)=>{o.d(t,{j:()=>i});var n=o(4796),a=o(67843);const i=n.FX("JsonSchema",(()=>n.OH({id:n.Yj,$schema:n.Yj,$ref:n.Yj,title:(0,a.h)(n.KC([n.Yj,n.Vx]),void 0),description:n.Yj,multipleOf:n.ai,maximum:n.ai,exclusiveMaximum:n.ai,minimum:n.ai,exclusiveMinimum:n.ai,maxLength:n.ai,minLength:n.ai,pattern:n.Yj,items:n.KC([i,n.YO(i)]),maxItems:n.ai,minItems:n.ai,uniqueItems:n.zM,maxProperties:n.ai,minPropeties:n.ai,required:n.YO(n.Yj),additionalProperties:n.KC([n.zM,i]),definitions:n.g1(n.Yj,i),properties:n.g1(n.Yj,i),patternProperties:n.g1(n.Yj,i),type:n.KC([n.Yj,n.YO(n.Yj)]),format:n.Yj,allOf:n.YO(i),anyOf:n.YO(i),oneOf:n.YO(i),not:i})))},14874:(e,t,o)=>{o.d(t,{W:()=>i,g:()=>r});var n=o(4796),a=o(64916);const i=n.E$([a.MJ,n.O2({type:n.eu(a.Go.Delete),body:n.Yj})]),r=e=>({type:a.Go.Delete,...(0,a.WK)(e),body:e.body})},15187:(e,t,o)=>{o.d(t,{OA:()=>i,mW:()=>c});var n=o(4796),a=o(1804);let i=function(e){return e.EventPart="EventPart",e.ChatMeta="ChatMeta",e.OfflineMessage="OfflineMessage",e.BackchannelMessage="BackchannelMessage",e}({});const r=(0,a.o7)(i),s=n.OH({lat:(0,a.me)(n.ai),lon:(0,a.me)(n.ai),country:(0,a.me)(n.Yj),city:(0,a.me)(n.Yj)}),l=n.OH({name:(0,a.me)(n.Yj),os:(0,a.me)(n.Yj),version:(0,a.me)(n.Yj)}),c=n.NW({id:n.ai,part_type:r,browser:l,location:s,live:n.zM,category_label:n.ZE({live:1,event:1,offline:1,"re-engage":1})})},15820:(e,t,o)=>{o.d(t,{LI:()=>i,U9:()=>a,aH:()=>s,ls:()=>l,zE:()=>n});const n=e=>"infoType"in e,a=e=>"requestType"in e,i=e=>n(e)||a(e),r=e=>"receivers"in e,s=e=>a(e)&&r(e),l=(e,...t)=>n(e)?{info:e.infoType,body:e.sendInfo(...t)}:{request:e.requestType,body:e.sendRequest(...t)}},17549:(e,t,o)=>{o.d(t,{E:()=>s,F:()=>r});var n=o(96540),a=o(99012);const i=(0,n.createContext)(a.y);i.displayName="UmdClientContext";const r=()=>(0,n.useContext)(i),s=i.Provider},17856:(e,t,o)=>{o.d(t,{t:()=>i});var n=o(47419),a=o(10789);const i=n.RR(n.Dz("conversation_list",(()=>({}))),a.O)},18007:(e,t,o)=>{o.d(t,{Cp:()=>s,N7:()=>l,ai:()=>r});var n=o(38835),a=o(81993);let i=null;async function r({dsn:e,environment:t,release:r,username:s,url:l,ignoreErrors:c,platformName:u}){if(!(0,n.Ue)())return;if(!e)return;const _=await(0,a.L5)((()=>o.e(326).then(o.bind(o,24938))));_.init({dsn:e,environment:t,release:r,ignoreErrors:c,autoSessionTracking:!1}),_.setTag("url",l),_.setTag("username",s),u&&_.setTag("platform",u),i=_}function s(e){i?.captureException(e)}function l(e){i?.captureMessage(e,"error")}},21258:(e,t,o)=>{o.d(t,{n6:()=>ne,Mr:()=>q,Sz:()=>Z,UC:()=>J,Or:()=>V,vs:()=>H});var n=o(82398),a=o(68294),i=o(79599),r=o(29508),s=o(94413),l=o(90485),c=o(46257),u=o(64776),_=o(63098),d=o(88120),m=o(28811);function p(e){return s.TX(e,(e=>i.iT(e).toString()))}var g=o(88370),b=o(55342),f=o(55498),v=o(22832),j=o(65166),y=o(84709),Y=o(72677),h=o(21775),M=o(62927),k=o(21858),w=o(63504),E=o(29681),N=o(40821);var C=o(81993);const T=({config:e,apiStreams:t,hostWindow:o,intl:n},a)=>(0,r.Fs)(u.Gg(((e,t)=>(0,N.DH)({hostname:t,name:`uslk_umm_${e.organization_id}`,wildcardCookie:e.wildcard_cookie,expires:e.cookie_expire,cookieConsentMode:e.cookie_consent_enabled}))(e,o.location.hostname)),u.h9(M.O),u.Jr("storage"),u.TZ("renderMessenger",O),u.cy((({renderMessenger:i,storage:r})=>i({config:e,storage:r,apiStreams:t,hostWindow:o,intl:n,appDependencies:a})))),z=e=>Object.keys(e).reduce(((t,o)=>("string"==typeof e[o]&&(t[o]=e[o]),t)),{}),O=(0,r.Fs)((0,g.u9)((()=>(0,C.L5)((()=>Promise.all([o.e(468),o.e(343),o.e(944),o.e(772),o.e(898),o.e(108)]).then(o.bind(o,92108)))))),u.Tj((({renderMessenger:e})=>e)));var A=o(44395),W=o(92900),I=o(4796),U=o(54146),F=o(38798),P=o(1804),R=o(45814);const L=(0,P.me)((0,P.AN)({uslk_token:I.Yj},{uslk_cid:U.j,uslk_verify:I.Yj}));var x=o(3374),G=o(25508),S=o(10465),D=o(44519),$=o(32711),B=o(333);const K=(0,G.Mz)([B.Iy,$.bl,D.Ov,D._1,D.DV,S.iU.all,S.Wl.all],((e,t,o,n,i,r,s)=>({state:e?a.B.Maximized:a.B.Minimized,conversations:o.map((e=>{const t=s[e]?.id;if(!t)return;const o=n[e]?.map((e=>r[e])).filter((e=>void 0!==e)).map((e=>({id:e.id})))??[];return{id:t,unread:i[e]?.map((e=>r[e])).filter((e=>void 0!==e)).map((e=>({id:e.id})))??[],__unstableMessages:o}})).filter((e=>void 0!==e)),contact:{name:t?.name??null,email:t?.email??null,company:t?.company??null,external_customer_id:t?.external_customer_id??null,mobile_number:t?.mobile_number??null,phone_number:t?.phone_number??null}}))),q=e=>(0,r.Fs)(e,i.AU(n.z3,n.kX)),V=(e,t,o,n={},a,c,d,m)=>(0,r.Fs)(ee(e),u.W6((()=>X(e))),u.Pm((()=>0===t.requestedVersion||a.messenger_api),(()=>"Messenger API feature is not included in your product plan.")),u.oI("queryParams",(()=>u.L9((e=>(0,r.Fs)(s.TX((()=>e.document.location.search),i.iT),s.Tj(F.A.parse),s.Tj(L.decode),s.Tj(l.Mr),s.Tj(l.cy(l.k$)),s.Tj(l.Tj((({uslk_token:e,uslk_cid:t,uslk_verify:o})=>({temporaryToken:e,openConversationId:l.k$(t),verify:l.k$("1"===o)})))),s.Jm((()=>s.TX((()=>(0,R.a6)(e)),i.iT))),s.ak((()=>W.of(l.dv)))))(e)))),u.hF("credentials",(({queryParams:e})=>(0,r.Fs)(_.k$(n.credentials),_.CC((()=>(0,r.Fs)(e,_.sV,_.Tj((({temporaryToken:e,openConversationId:t,verify:o})=>({token:e,conversation_id:l.Sg(t),verify:l.Sg(o)}))),_.cy((0,r.L3)(oe(a),_.lI))))),(e=>u.Gg(e))))),u.oI("api",(()=>((e,t)=>o=>{b.R.debug("UMM Version:",(0,k.lh)("VERSION_UMM"));const n=(0,E.OW)();return(0,r.Fs)(T({config:o,apiStreams:n,hostWindow:t,intl:(0,w.wW)(o.locale,z(o))},e),u.Tj((e=>({...n,lifecycle:e}))))})(o,e)(a))),u.hU((({api:e})=>m.write(l.zN(e)))),u.W6((({api:e})=>function(e,t,o){return(0,r.Fs)((0,g.u9)((async()=>e.state.state$.subscribe({next:e=>{t.next(null===e?ne:K(e))}}))),u.Tj(l.zN),u.cy((e=>u.BK(o.write(e)))))}(e,c,d))),u.hU((({api:e,credentials:t})=>()=>e.lifecycle.mount({credentials:l.Sg(t),externalToken:n.externalToken}))),u.Gh((({api:e,queryParams:t})=>(0,r.Fs)(t,_.sV,_.oR((e=>e.openConversationId)),_.h9((t=>E.Ak(e,x.kI({id:t}))))))),u.Tj((({api:e})=>e)),u.uj((t=>(0,r.Fs)(u.kb(t),u.oW(u.oF(H(e,d,m))))))),H=(e,t,o)=>(0,r.Fs)(Q(o),s.h9((e=>e.lifecycle.unmount)),s.oW(function(e){return(0,r.Fs)(s.BK(e.read),s.cy(l.AU((()=>s.pG(void 0)),(e=>p((()=>e.unsubscribe()))))))}(t)),s.oW(te(e)),s.oW(s.BK(o.write(l.dv)))),Z=(e,t)=>({setVisibility:t=>(0,r.Fs)(Q(e),u.oF,u.h9((e=>()=>e.lifecycle.setVisibility(t))),c.Tj(q))(),logout:()=>(0,r.Fs)(Q(e),u.oF,u.h9((e=>()=>e.lifecycle.logout())),c.Tj(q))(),maximize:()=>(0,r.Fs)(Q(e),u.oF,u.h9((e=>E.G5(e,x.pD()))),c.Tj(q))(),minimize:()=>(0,r.Fs)(Q(e),u.oF,u.h9((e=>E.G5(e,x.rj()))),c.Tj(q))(),setCustomData:t=>(0,r.Fs)(Q(e),u.oF,u.h9((e=>E.Ak(e,x.mc({custom:t})))),c.Tj(q))(),setContactInfo:t=>(0,r.Fs)(Q(e),u.oF,u.h9((e=>E.Ak(e,x.mc({user:t})))),c.Tj(q))(),__unstableStartConversation:()=>(0,r.Fs)(Q(e),u.oF,u.h9((e=>E.G5(e,x.g3({})))),c.Tj(q))(),__unstableStartConversationWithOperator:t=>(0,r.Fs)(Q(e),u.oF,u.h9((e=>E.G5(e,x.g3({operatorId:t})))),c.Tj(q))(),__unstableOpenConversation:t=>(0,r.Fs)((0,r.Fs)(Q(e),u.oF,u.h9((e=>E.Ak(e,x.kI({id:t}))))),c.Tj(q))(),__unstableSetRegistration:t=>(0,r.Fs)(Q(e),u.oF,u.h9((e=>E.Ak(e,x.gg(t)))),c.Tj(q))(),__unstableSetProactive:t=>(0,r.Fs)(Q(e),u.oF,u.h9((e=>E.Ak(e,x._O(t)))),c.Tj(q))(),state$:(0,r.Fs)(t,(0,d.F)()),getState:()=>t.value}),J=(e,t,o)=>n=>(0,r.Fs)((0,A.p)(e.widget_key,t,o.fetchWidgetInfo),u.Pm(l.Ru,(()=>"No matching widget found.")),u.cy((({value:e})=>oe(e)({token:n}))),c.Tj(q))(),Q=e=>(0,r.Fs)(s.BK(e.read),s.cy(l.AU((()=>s.kb("Not mounted")),(e=>s.pG(e))))),X=e=>{const t=ae(e);return(0,r.Fs)(p((()=>{const e=t.__USERLIKE_MOUNT_GUARD__;return t.__USERLIKE_MOUNT_GUARD__=!0,e})),s.Q5((e=>e?i.kb("Cannot have more than one messenger mounted."):i.pG(void 0))),u.oF)},ee=e=>(0,r.Fs)(p((()=>!(void 0!==e.Intl&&void 0!==e.Intl.PluralRules))),s.Q5((e=>e?i.kb("Browser version is unsupported."):i.pG(void 0))),u.oF),te=e=>p((()=>{ae(e).__USERLIKE_MOUNT_GUARD__=!1})),oe=e=>t=>(0,r.Fs)((0,r.Fs)((0,f._z)(j.P)({widgetId:e.um_widget_id,organizationId:e.organization_id,locale:e.locale,conversation_id:t.conversation_id,token:t.token,verify:t.verify})({http:v.XH,getAuthenticationInfo:_.dv,logger:b.R,abortSignal:l.dv}),u.qE((()=>"Unexpected error while consuming token."))),u.cy((e=>(0,m.YW)(e).with({info:(0,y.wJ)(Y.w)},(({body:{uuid:e,token:t}})=>u.pG({uuid:e,token:t}))).with({info:(0,y.wJ)(h.s)},(({body:{reason:e}})=>u.kb(`Failed to consume token: ${e}`))).exhaustive()))),ne={state:a.B.Hidden,conversations:[],contact:{name:null,email:null,company:null,external_customer_id:null,mobile_number:null,phone_number:null}};function ae(e){return(0,r.Mi)(e)}},21768:(e,t,o)=>{o(9423)},21775:(e,t,o)=>{o.d(t,{s:()=>r,y:()=>i});var n=o(4796),a=o(47419);const i=n.ZE({contact_auth_failure:null,contact_uuid_invalid:null,contact_token_invalid:null,contact_reauth_token_invalid:null,external_token_invalid:null,external_token_expired:null,external_token_mismatch:null,external_token_email_not_unique:null,operator_auth_failure:null,operator_token_invalid:null,operator_deleted:null,operator_disabled:null,operator_locked:null,operator_credentials_invalid:null,operator_quota_reached:null,organization_switch:null,type_system:null,type_invalid:null,connection_limit:null,contact_customer_disabled:null,operator_customer_disabled:null}),r=a.RV("auth_failure",n.NW({reason:i}))},21858:(e,t,o)=>{o.d(t,{K4:()=>g,_$:()=>s,DY:()=>c,lh:()=>l,sr:()=>m,rN:()=>p,bn:()=>d});var n=o(29508),a=o(81993),i=o(38835);let r=function(e){return e.PRODUCTION="PRODUCTION",e.CI="CI",e.UNIT_TEST="UNIT_TEST",e.STAGING="STAGING",e.DEVEL="DEVEL",e.PG1="PG1",e.PG2="PG2",e.PG3="PG3",e.PG4="PG4",e.PG5="PG5",e.PG6="PG6",e.PG7="PG7",e.PG8="PG8",e.PG9="PG9",e}({});const s=()=>{if((0,i.P)())return(0,i.uv)().UNIT_TEST;if((0,i.MC)())return(0,i.uv)().CI;if(!(0,i.ed)())return(0,n.Mi)({NODE_ENV:"production",USERNAME:"deploy",URL_BUCKET_WEB:"userlike-cdn-web.b-cdn.net",URL_BUCKET_WIDGETS:"userlike-cdn-widgets.s3-eu-west-1.amazonaws.com",ENV_NAME:"production",IMAGE_PROXY:"www.userlike.com/api/proxy/image/",DOMAIN_API:"api.userlike.com",URL_AUDIO_CALL_UMM:"www.userlike.com/audio/umm",DOMAIN_WEB:"www.userlike.com",SENTRY_DSN_UMM:"https://364b4fe397c84861b7b93b254ba3d7cd@bug.userlike.com/24",DOMAIN_UMD:"umd.userlike.com",URL_BUCKET_UMM:"userlike-cdn-umm.b-cdn.net",VERSION_UMM:"2213",UMF_APP:"UMM",PUBLIC_PATH:"https://userlike-cdn-umm.b-cdn.net/"});return(0,i.uv)()[function(){try{if("window"in self){const t=JSON.parse(self.window.top?.localStorage.getItem(_)??null);return e=t,Object.values(r).some((t=>t===e))?t:(u(),r.CI)}return r.CI}catch(e){return r.CI}var e}()]};function l(e){return s()[e]}function c(e){const t=s()[e];return void 0===t?"/":t.startsWith(".")||t.startsWith("/")?t:`https://${t}`}const u=(0,a.B4)((()=>{console.warn(`Could not read selected env from localstorage. Falling back to: ${r.CI}`)})),_="uslk-isolated-env",d=e=>`https://${s().DOMAIN_API}/api${e}`,m=()=>l("VERSION_UMM");function p(){return parseInt(m(),10)}function g(e){return!!(0,i.ed)()||(void 0===e||`${e}`===m())}},22832:(e,t,o)=>{o.d(t,{XH:()=>p,h1:()=>g,sY:()=>b});var n=o(79599),a=o(29508),i=o(90485),r=o(77168),s=o(64776),l=o(96540),c=o(28811),u=o(9035),_=o(38835),d=o(96303),m=o(81993);const p={fetch:({bodyParser:e,errorBodyParser:t})=>(o,l)=>(0,a.Fs)(u.kAu(),u.oIE("authInfo",(({getAuthenticationInfo:e})=>u.M1b(e))),u.oIE("headers",(({authInfo:e})=>{const t=new Headers;return i.Ru(e)&&t.set("authorization",e.value.authorizationHeader),(0,_.MC)()&&t.set("x-userlike-debug","true"),l?.headers?.(t),u.pGT(t)})),u.Pg((({headers:e,abortSignal:t})=>s.TX((async()=>{const n=new Request(o,{credentials:"omit",mode:"cors",...l,headers:e,signal:i.NY(t)});return window.fetch(n)}),(0,a.L3)(n.iT,d.fk.NetworkError)))),u.bKv((o=>o.ok?(0,a.Fs)(e(o),u.qE6((e=>d.fk.ParserError({message:e})))):(0,a.Fs)(t(o),u.qE6((e=>d.fk.ParserError({message:e}))),r.Tj((e=>n.kb(d.fk.ResponseError({body:e,status:o.status}))))))))},g=(0,l.createContext)(p);g.displayName="HttpServiceContext";const b=e=>t=>({fetch:o=>(...n)=>(0,a.Fs)(t.fetch(o)(...n),u.ujg((t=>(0,c.YW)(t).with((0,m.Lt)(d.fk.ResponseError),(t=>401===t.status?(0,a.Fs)(u.kbd(d.fk.ResponseError(t)),u.oWR((0,a.Fs)(e,u.qE6((()=>d.fk.ResponseError(t)))))):u.kbd(d.fk.ResponseError(t)))).otherwise((e=>u.kbd(e))))))})},23403:(e,t,o)=>{o.d(t,{R:()=>u,u:()=>_});var n=o(74961),a=o(84709),i=o(34428),r=o(45316),s=o(71829),l=o(75075);const c={},u=(0,n.createReducer)(c,(e=>[e((0,a.g8)(i.$n),((e,{payload:t})=>{switch(t.type){case"composing":{const o=d(t),n=_(t.conversation_id,o);return{...e,[n]:{...e[n],type:l.h.Composing,preview:t.preview}}}case"stop_composing":{const o=d(t),n=_(t.conversation_id,o);return{...e,[n]:{...e[n],type:l.h.NotComposing}}}case"disconnected":{const o=d(t),n=Object.keys(e).filter((e=>e.split(":")[1]===o.toString()));return(0,r.A)(n,e)}default:return e}})),e(s.a,(()=>c))]));function _(e,t){return`${e}:${t}`}function d(e){return"contact_id"in e?e.contact_id:e.operator_id}},26530:(e,t,o)=>{o.d(t,{Dg:()=>l,Iw:()=>c,Ym:()=>m,_3:()=>_,e9:()=>u,ly:()=>i,pJ:()=>g});var n=o(4796),a=o(1804);let i=function(e){return e.Custom="custom",e.Facebook="facebook",e.Sms="sms",e.Telegram="telegram",e.Threema="threema",e.Web="web",e.Whatsapp="whatsapp_business",e.Instagram="instagram",e.Email="email",e}({});Object.values(i);const r=(0,a.o7)(i);let s=function(e){return e.Telegram="telegram",e.Threema="threema",e.Whatsapp="whatsapp_business",e.Other="other",e}({});const l=(0,a.o7)(s);let c=function(e){return e.Valid="valid",e.Deleted="deleted",e.Locked="locked",e.Invalid="invalid",e}({});const u=n.NW({type:r,state:(0,a.o7)(c),name:(0,a.me)(n.Yj),id:(0,a.me)(a.x_)}),_=n.NW({type:r,state:(0,a.o7)(c),name:(0,a.me)(n.Yj),id:(0,a.me)(n.ai)});let d=function(e){return e.Text="text",e.Media="media",e}({}),m=function(e){return e.Automotive="Automotive",e.BeautySpaSalon="Beauty, Spa and Salon",e.ClothingApparel="Clothing and Apparel",e.Education="Education",e.Entertainment="Entertainment",e.EventPlanningService="Event Planning and Service",e.FinanceBanking="Finance and Banking",e.FoodGrocery="Food and Grocery",e.PublicService="Public Service",e.HotelLodging="Hotel and Lodging",e.MedicalHealth="Medical and Health",e.NonProfit="Non-profit",e.ProfessionalServices="Professional Services",e.ShoppingRetail="Shopping and Retail",e.TravelTransportation="Travel and Transportation",e.Restaurant="Restaurant",e.Other="Other",e}({});n.g1(n.ZE({telegram:1,threema:1,sms:1,custom:1,facebook:1,whatsapp_business:1,instagram:1,email:1}),n.NW({profiles:n.YO((0,a.o7)(d))}));const p=n.KC([n.eu("Low"),n.eu("Medium"),n.eu("High"),n.eu("NA")]),g=n.NW({about:(0,a.me)(n.Yj),address:(0,a.me)(n.Yj),description:(0,a.me)(n.Yj),email:(0,a.me)(n.Yj),vertical:(0,a.me)((0,a.o7)(m)),websites:(0,a.me)(n.Yj),button_url:(0,a.me)(n.Yj),id:a.x_,name:n.Yj,widget_id:n.ai,widget_name:n.Yj,customer_id:(0,a.me)(n.ai),organization_id:(0,a.me)(n.ai),valid:n.zM,flagged:n.zM,invalid_reason:(0,a.me)(n.Yj),is_locked:n.zM,handles_campaign_subscription:n.zM,profile_image_url:n.Yj,quality_rating:p,phone_number:n.Yj,message_limit:n.Yj});n.NW({auth_url_umdash:n.Yj,verify_token:(0,a.me)(n.Yj),access_token:(0,a.me)(n.Yj),fanpage_id:(0,a.me)(n.Yj),fanpage_name:n.Yj,button_url:(0,a.me)(n.Yj),id:n.ai,name:n.Yj,widget_id:n.ai,widget_name:n.Yj,customer_id:n.ai,organization_id:n.ai,valid:n.zM,is_locked:n.zM}),n.NW({auth_url_umdash:n.Yj,username:(0,a.me)(n.Yj),access_token:(0,a.me)(n.Yj),fanpage_id:(0,a.me)(n.Yj),fanpage_name:n.Yj,button_url:(0,a.me)(n.Yj),id:a.x_,name:n.Yj,widget_id:n.ai,widget_name:n.Yj,customer_id:n.ai,organization_id:n.ai,valid:n.zM,is_locked:n.zM}),n.NW({id:n.ai,name:n.Yj,widget_id:n.ai,widget_name:n.Yj,username:(0,a.me)(n.Yj),token:(0,a.me)(n.Yj),button_url:(0,a.me)(n.Yj),customer_id:n.ai,organization_id:n.ai,valid:n.zM,is_locked:n.zM}),n.NW({account_sid:n.Yj,auth_token:n.Yj,phone_number:n.Yj,inbound_url:n.Yj,id:n.ai,name:n.Yj,widget_id:n.ai,widget_name:n.Yj,customer_id:n.ai,organization_id:n.ai,valid:n.zM,is_locked:n.zM}),n.NW({inbound_url:n.Yj,secret:n.Yj,private_key:n.Yj,public_key:n.Yj,gateway_id:n.Yj,button_url:(0,a.me)(n.Yj),id:n.ai,name:n.Yj,widget_id:n.ai,widget_name:n.Yj,customer_id:n.ai,organization_id:n.ai,valid:n.zM,is_locked:n.zM}),n.NW({outbound_url:n.Yj,outbound_auth_token:n.Yj,inbound_url:n.Yj,inbound_auth_token:n.Yj,id:n.ai,name:n.Yj,widget_id:n.ai,widget_name:n.Yj,customer_id:n.ai,organization_id:n.ai,valid:n.zM,is_locked:n.zM,api_version:n.Yj,api_versions:n.YO(n.NW({name:n.Yj,display_name:n.Yj}))}),n.NW({id:n.ai,name:n.Yj,widget_id:n.ai,widget_name:n.Yj,customer_id:n.ai,organization_id:n.ai,valid:n.zM,is_locked:n.zM,receiving_email_address:n.Yj,reply_as_user:(0,a.me)(n.Yj),relay_email_address:(0,a.me)(n.Yj),confirmation_subject:(0,a.me)(n.Yj),confirmation_message:(0,a.me)(n.Yj),contact_email_body_unread:(0,a.me)(n.Yj),auto_reply_enabled:n.zM,mail_server_configuration:(0,a.me)(a.x_),email_footer:(0,a.me)(n.Yj),email_footer_enabled:n.zM})},27328:(e,t,o)=>{o.d(t,{Mb:()=>p,US:()=>b,m7:()=>f,u9:()=>v});var n=o(79599),a=o(29508),i=o(90485),r=o(4796),s=o(87562);const{wrap:l,unwrap:c}=(0,s.V)(),{wrap:u,unwrap:_}=(0,s.V)(),d=/^[A-Z]{2}$/,m=/^[A-Z]{3}$/,p=new r.ZU("CountryISO",(e=>r.Yj.is(e)&&d.test(e)),((e,t)=>(0,a.Fs)(r.Yj.validate(e,t),n.cy((o=>d.test(o)?r.kX(l(o)):r.V2(e,t))))),c),g=new r.ZU("CountryISO",(e=>r.Yj.is(e)&&m.test(e)),((e,t)=>(0,a.Fs)(r.Yj.validate(e,t),n.cy((o=>m.test(o)?r.kX(u(o)):r.V2(e,t))))),_),b=(l("DE"),u("DEU"),l("US")),f=(u("USA"),l("FR"),u("FRA"),l("IT"),u("ITA"),l("AT"),l("BE"),l("BG"),l("CH"),l("CY"),l("CZ"),l("DK"),l("EE"),l("ES"),l("GR"),l("FI"),l("IE"),l("LT"),l("LU"),l("LV"),l("MT"),l("NL"),l("PL"),l("PT"),l("RO"),l("SE"),l("SI"),l("SK"),l("GB"),l("EG"),l("LB"),l("SS"),l("SD"),l("SY"),c),v=((0,a.L3)(p.decode,i.Mr),(0,a.L3)(g.decode,i.Mr),r.NW({id:r.ai,name:r.Yj,printable_name:r.Yj,numcode:r.ai,iso3:g,iso:p}))},27345:(e,t,o)=>{o.d(t,{Tz:()=>a,wy:()=>i});o(28811);var n=o(1804);let a=function(e){return e.Owner="o",e.Admin="a",e.Agent="c",e.Manager="m",e.Analyst="an",e.Staff="n",e.Bot="b",e.UMBot="B",e.ApiOperator="ao",e}({});(0,n.o7)(a);let i=function(e){return e.Owner="Owner",e.Manager="Manager",e.Admin="Admin",e.Staff="Staff",e.Analyst="Analyst",e.Eliza="Eliza",e.Agent="Agent",e.Bot="Bot",e.ApiOperator="API Access Operator",e}({})},29240:(e,t,o)=>{o.d(t,{d:()=>n});const n="@ul/umm/conversation"},29681:(e,t,o)=>{o.d(t,{Ak:()=>l,G5:()=>s,OW:()=>r});var n=o(16988),a=o(98977),i=o(72430);const r=()=>({actions:{command$:new n.B7,state$:new a.m},state:{state$:new i.t(null)}}),s=(e,t)=>()=>e.actions.command$.next(t),l=(e,t)=>()=>e.actions.state$.next(t)},29965:(e,t,o)=>{o.d(t,{e:()=>a});var n=o(7588);const a=o(47419).RV("conversation_response",n.hZ)},30148:(e,t,o)=>{o.d(t,{G:()=>l,a:()=>c});var n=o(4796),a=o(67843),i=o(1804),r=o(60897),s=o(64916);const l=n.E$([s.MJ,n.NW({type:n.eu(s.Go.Proactive),show_operator:n.zM,media_url:(0,a.h)((0,i.me)(n.Yj),null),body:n.Yj,text_format:(0,a.h)((0,i.o7)(r.l),r.l.Markdown)})]),c=e=>({type:s.Go.Proactive,...(0,s.WK)(e),show_operator:e.show_operator,media_url:e.media_url,body:e.body,textFormat:e.text_format})},32301:(e,t,o)=>{o.d(t,{Kl:()=>u,Pj:()=>p,RZ:()=>b,Yb:()=>f,d4:()=>m,hb:()=>d,is:()=>v,li:()=>_,lq:()=>j,nr:()=>y,wA:()=>g});var n=o(29508),a=o(90485),i=o(96540),r=o(2896),s=o(16817),l=o(96193),c=o(81993);function u(e){return(0,i.useRef)(e)}function _(e=null){const t=(0,i.useRef)(e);return(0,i.useMemo)((()=>({get current(){return t.current},set current(e){t.current=e},get:()=>t.current,set(e){t.current=e}})),[])}const d=i.useCallback;function m(e,...t){return(0,r.d4)(d((o=>e(o,...t)),[...t,e]))}const p=r.Pj,g=r.wA;function b(e,t){return(0,i.lazy)((()=>(0,c.L5)(e).then((e=>({default:(0,n.Mi)(e[t])})))))}function f(e,t){return(0,s.A)(e,t)}function v(e,t){return(0,l.A)((0,n.Mi)(e),t)}function j(e){return({render:t=n.D_,...o})=>a.NY(t(e(o)))}const y=e=>{const t=u(null);return(0,i.useLayoutEffect)((()=>{t.current=e})),(0,i.useCallback)((0,n.Mi)(((...e)=>t.current(...e))),[])}},32711:(e,t,o)=>{o.d(t,{$S:()=>L,Ar:()=>D,D5:()=>g,D9:()=>m,E3:()=>O,GZ:()=>C,IV:()=>$,Iy:()=>k,JK:()=>y,Ju:()=>f,LM:()=>b,Ls:()=>z,Mk:()=>Y,NK:()=>j,Pi:()=>v,U8:()=>N,Uu:()=>l,WS:()=>d,Yk:()=>p,Z0:()=>u,aq:()=>P,bl:()=>U,bz:()=>B,dB:()=>M,e8:()=>T,en:()=>K,gG:()=>W,hG:()=>G,jE:()=>_,mH:()=>V,n3:()=>F,qu:()=>x,r6:()=>w,sV:()=>I,uQ:()=>A,uf:()=>R,ui:()=>q,x7:()=>E,x9:()=>S,zj:()=>c});var n=o(99847),a=o(25508),i=o(36020),r=o(57349);const s=e=>e["@ul/umm/messenger"],l=(0,a.Mz)([s],(e=>e.initializationTime)),c=(0,a.Mz)([s],(e=>e.config)),u=(0,a.Mz)([s],(e=>e.config.lang)),_=((0,a.Mz)([s],(e=>e.config.widget_key)),(0,a.Mz)([c],(e=>({offsetX:e.theme_button_offset_x,offsetY:e.theme_button_offset_y,offsetZ:e.theme_button_index_z,orientation:e.theme_button_orientation})))),d=(0,a.Mz)([c],(e=>e.theme_button_style)),m=(0,a.Mz)([c],(e=>e.data_privacy)),p=(0,a.Mz)([c],(e=>e.cookie_consent_enabled)),g=(0,a.Mz)([c],(e=>e.sentry_enabled)),b=(0,a.Mz)([c],(e=>e.rating_enabled)),f=(0,a.Mz)([c],(e=>e.disclaimer_show)),v=(0,a.Mz)([c],(e=>e.um_widget_id)),j=(0,a.Mz)([c],(e=>e.organization_id)),y=(0,a.Mz)([c],(e=>e.locale)),Y=(0,a.Mz)([m,c],((e,t)=>!e&&t.live_preview)),h=(0,a.Mz)([c],(e=>e.emit_chat_state)),M=(0,a.Mz)([h,i.Gm],((e,t)=>e&&t)),k=(0,a.Mz)([c],(e=>({hide:e.hide_poweredby,link:e.poweredby_link}))),w=(0,a.Mz)([c],(e=>n.ci(e.channel_buttons))),E=(0,a.Mz)([c],(e=>e.quick_links)),N=(0,a.Mz)([s],(e=>e.canStartConversation)),C=(0,a.Mz)([s],(e=>e.operatorAvailable)),T=(0,a.Mz)([c],(e=>e.mode_proactive||e.mode_proactive_registration)),z=(0,a.Mz)([c],(e=>e.proactive_timeout)),O=(0,a.Mz)([c],(e=>({links_offsite:e.links_offsite,links_onsite:e.links_onsite}))),A=(0,a.Mz)([c],(e=>({widget_id:e.um_widget_id,widget_lang:e.lang,operator_group_id:e.operator_group_id}))),W=(0,a.Mz)([c],(e=>e.tracking_external)),I=(0,a.Mz)([c],(e=>e.tracking)),U=(0,a.Mz)([s],(e=>e.contact)),F=(0,a.Mz)([c],(e=>e.url_image)),P=(0,a.Mz)([s],(e=>e.defaultOperator)),R=(0,a.Mz)([c],(e=>e.welcome_enabled)),L=(0,a.Mz)([c],(e=>e.theme_background_overlay)),x=(0,a.Mz)([c],(e=>e.geo_type)),G=(0,a.Mz)([c],(({url_image:e})=>e)),S=(0,a.Mz)([s],(e=>e.openBackchannel)),D=(0,a.Mz)([c],(e=>e.mode_proactive_registration?"proactive_registration":e.mode_registration?"registration":void 0)),$=(0,a.Mz)([s],(e=>e.appError)),B=(0,a.Mz)([s],(e=>!0===e.connectionTimeout||![r.F.Initial,r.F.Connected].includes(e.connectionState))),K=(0,a.Mz)([c],(({theme_button_icon:e})=>e)),q=(0,a.Mz)([c],(e=>e.offline_team_name)),V=(0,a.Mz)([c],(e=>e.url_image))},34428:(e,t,o)=>{o.d(t,{$n:()=>l,EL:()=>d,YN:()=>_,Yf:()=>c,rk:()=>u});var n=o(4796),a=o(1804),i=o(47419);const r=e=>n.E$([e,n.KC([n.NW({contact_id:n.ai}),n.NW({operator_id:n.ai})])]),s=n.KC([r(n.NW({conversation_id:n.ai,type:n.ZE({active:1,inactive:1})})),r((0,a.AN)({conversation_id:n.ai,type:n.eu("composing")},{preview:n.Yj})),r(n.NW({conversation_id:n.ai,type:n.eu("stop_composing")})),r(n.NW({type:n.ZE({connected:1,disconnected:1,away:1,back:1})}))]),l=i.WT("chat_client_state",(e=>e),s),c=e=>({type:"active",conversation_id:e}),u=e=>({type:"inactive",conversation_id:e}),_=(e,t)=>({type:"composing",conversation_id:e,preview:t}),d=e=>({type:"stop_composing",conversation_id:e})},36020:(e,t,o)=>{o.d(t,{Gm:()=>Y,KQ:()=>j,V7:()=>y,jY:()=>f});var n=o(29508),a=o(90485),i=o(25508),r=o(7588),s=o(79754),l=o(10465),c=o(23403),u=o(75075);const _=e=>e[u.$],d=(0,i.Mz)([_],(e=>e.composition)),m=(0,i.Mz)([_],(e=>e.availability)),p={type:u.h.NotComposing},g=e=>(0,i.Mz)([l.Wl.byIdO,d],((t,o)=>(0,n.Fs)(t,a.pb(r.BV),a.Jr("conversation"),a.oI("senderId",(({conversation:t})=>a.k$(e(t)))),a.EN((({senderId:e,conversation:t})=>o[(0,c.u)(t.id,e)])),a.ak((()=>p))))),b=g((e=>e.operatorId)),f=(g((e=>e.contactId??null)),(e,t)=>b(e,t).type===u.h.Composing),v=(s.e.Offline,s.e.Unavailable),j=(e,t)=>m(e)[t]||v,y=(e,t)=>(0,n.Fs)(l.Wl.byIdO(e,t),a.cy((t=>(0,n.Fs)(a.k$(t.operatorId),a.Tj((t=>j(e,t)))))),a.ak((()=>v))),Y=(e,t)=>y(e,t)===s.e.Available},36514:(e,t,o)=>{o.d(t,{BK:()=>J,BL:()=>ct,Cb:()=>Je,DV:()=>Mt,Do:()=>Ke,F:()=>pt,Gg:()=>te,Hq:()=>wt,I6:()=>_t,Ie:()=>Qe,Jm:()=>Ue,Jr:()=>qe,Ju:()=>mt,M1:()=>Q,Mr:()=>X,Mv:()=>kt,NW:()=>se,P5:()=>ce,PY:()=>dt,Pg:()=>_e,Q5:()=>Re,R1:()=>yt,TZ:()=>Ze,Tj:()=>fe,YP:()=>Yt,bK:()=>he,cb:()=>lt,ci:()=>vt,cy:()=>Ye,dE:()=>bt,gF:()=>Be,gx:()=>ue,h9:()=>Ge,hF:()=>He,hU:()=>De,iv:()=>st,j2:()=>it,kA:()=>oe,kb:()=>q,mA:()=>H,ni:()=>we,nx:()=>at,oI:()=>Ve,oW:()=>Te,of:()=>ye,pG:()=>V,pb:()=>Xe,qE:()=>ve,ql:()=>ft,rR:()=>$,s:()=>rt,uj:()=>le,v1:()=>Oe,vE:()=>jt,wy:()=>ut,x1:()=>et,xC:()=>Ee,zW:()=>ne});var n=o(21250),a=o(44003),i=o(79599),r=o(74781),s=o(58873),l=o(37024),c=o(10715),u=o(18317),_=o(29508),d=o(83061),m=o(90485),p=o(87583),g=o(14569),b=o(88288),f=o(11190),v=o(82627),j=o(57046),y=o(64833),Y=o(16148),h=o(38951),M=o(76723),k=o(37125),w=o(29610),E=o(7560),N=o(84490),C=o(72596),T=o(89596),z=o(78811),O=o(5923),A=o(78609),W=o(48870),I=o(58473),U=o(74611),F=o(16244),P=o(7506),R=o(88120),L=o(43938),x=o(82966),G=o(48100),S=o(72659);const D=f.Tj(i.pG),$=v.rR,B=(v.K_,(0,_.L3)(b.lI,$)),K=e=>t=>b.lI(e(t)),q=v.kb,V=v.pG,H=(0,_.L3)(b.mA,$),Z=((0,_.L3)(b.zx,$),(0,_.L3)(b.oF,$)),J=(0,_.L3)(b.BK,$),Q=(0,_.L3)(b.Gg,$),X=f.of,ee=J,te=Q,oe=v.kA,ne=v.zW,ae=r.YW(f.WW),ie=((0,_.Mi)(ae),r.NU(f.Cu)),re=((0,_.Mi)(ie),r.Do(f.Cu)),se=((0,_.Mi)(re),r.v2(f.WW),p.sr,r.NW(f.Cu)),le=(0,_.Mi)(se),ce=(f.WW,e=>he((e=>(0,_.L3)(e,Z))(e))),ue=ce,_e=e=>he((e=>(0,_.L3)(e,B))(e)),de=e=>(0,_.L3)(e,K),me=e=>he(de(e)),pe=(e,t)=>(0,_.Fs)(e,fe(t)),ge=(e,t)=>(0,_.Fs)(e,je(t)),be=(e,t)=>(0,_.Fs)(e,Ye(t)),fe=v.Tj,ve=(v.wu,v.qE),je=v.ap,ye=((0,_.Mi)(je),V),Ye=v.cy,he=(0,_.Mi)(Ye),Me=(v.Bq,r.CC(f.Cu)),ke=((0,_.Mi)(Me),"Stream"),we=()=>({empty:Qe(),concat:(e,t)=>o=>(0,_.Fs)(j.H([e(o),t(o)]),M.U())}),Ee=()=>({empty:Qe(),concat:(e,t)=>o=>(0,_.Fs)(j.H([e(o),t(o)]),k.K())}),Ne={URI:ke,map:pe},Ce=((0,d.Cn)(Ne),{URI:ke,map:pe,ap:ge}),Te=(0,n.oW)(Ce),ze=(0,n.g$)(Ce),Oe={URI:ke,map:pe,ap:ge,of:ye},Ae={URI:ke,map:pe,ap:ge,chain:be},We={URI:ke,map:pe,ap:ge,chain:(e,t)=>(0,_.Fs)(e,at(t))},Ie=(0,a.W6)(Ae),Ue=(0,_.Mi)(Ie),Fe=(0,a.W6)(We),Pe=((0,_.Mi)(Fe),{URI:ke,fromEither:X}),Re=((0,s.sV)(Pe),(0,s.Fe)(Pe),(0,s.oR)(Pe,Ae),(0,s.Q5)(Pe,Ae)),Le=((0,_.Mi)(Re),(0,s.aN)(Pe),(0,s.Pm)(Pe,Ae),(0,s.Ny)(Pe),{URI:ke,fromIO:ee}),xe={URI:ke,fromReader:e=>t=>b.of(e(t))},Ge=((0,l.WN)(Le),(0,l.h9)(Le,Ae)),Se=(0,c.mj)(xe,Ae),De=((0,_.Mi)(Se),(0,l.hU)(Le,Ae)),$e={URI:ke,fromIO:ee,fromTask:te},Be=(0,u.gF)($e,Ae),Ke=((0,u.Gh)($e,Ae),ye({})),qe=(0,d.Jr)(Ne),Ve=(0,a.oI)(Ae),He=(0,_.Mi)(Ve),Ze=(0,n.TZ)(Ce),Je=(0,_.Mi)(Ze),Qe=()=>()=>y.w,Xe=e=>t=>o=>(0,_.Fs)(t(o),w.p((t=>!!i.OC(t)||e(t.right)))),et=e=>t=>(0,_.Fs)(t,fe(e),Xe(m.Ru),fe((e=>e.value))),tt=e=>(...t)=>o=>n=>{const a=(0,_.Fs)(o(n),E.u()),r=(0,_.Fs)(a,g.pb(i.OC)),s=(0,_.Fs)(a,g.pb(i.FG),g.Tj((e=>e.right)),e(...t),(e=>b.K_(e)));return Y.h(r,s)},ot=e=>t=>o=>n=>(0,_.Fs)(o(n),e(((e,o)=>i.OC(e)?b.kb(e.left):t(e.right,o)(n)))),nt=(0,_.Mi)(ot),at=(ot(N.ZZ),nt(N.ZZ),ot(C.n)),it=nt(C.n),rt=(ot(T.H),e=>t=>o=>(0,_.Fs)(t(o),z.s(e))),st=tt(O.i),lt=tt(A.c),ct=tt(W.B),ut=((0,_.Mi)(((e,t)=>o=>n=>(0,_.Fs)(o(n),I.o(e,t(n))))),e=>t=>(0,_.Fs)(e(t),U.w())),_t=e=>t=>(0,_.Fs)(e(t),w.p(i.FG)),dt=e=>t=>(0,_.Fs)(e(t),w.p(i.OC)),mt=e=>t=>{const o=(0,_.Fs)(e(t),E.u()),n=(0,_.Fs)(o,g.pb(i.OC)),a=(0,_.Fs)(o,g.pb(i.FG),g.Tj((e=>e.right)),F.J(),(e=>b.K_(e)));return Y.h(n,a)},pt=(gt={equals:(e,t)=>e===t},e=>t=>{const o=(0,_.Fs)(e(t),P.t({refCount:!0})),n=(0,_.Fs)(o,g.pb(i.OC)),a=(0,_.Fs)(o,g.pb(i.FG),g.Tj((e=>e.right)),R.F(gt.equals),g.Tj(i.pG));return Y.h(n,a)});var gt;const bt=e=>t=>o=>(0,_.Fs)(t(o),R.F(e.equals)),ft=tt(L.Z),vt=e=>()=>j.H(e.map(i.pG)),jt=e=>t=>{const o=(0,_.Fs)(e(t),E.u()),n=(0,_.Fs)(o,g.pb(i.OC)),a=(0,_.Fs)(o,g.pb(i.FG),g.Tj((e=>e.right)),x.v(),G.T(i.pG));return Y.h(n,a)},yt=(0,_.Mi)((e=>t=>o=>(0,_.Fs)(t(o),S.q(i.pG(e))))),Yt=e=>H(h.Y(e)),ht=((0,_.Mi)((e=>t=>(0,_.Fs)(t,ae(e,_.D_),D))),(0,_.Mi)((e=>t=>(0,_.Fs)(t,f.cy((t=>i.OC(t)?e(t.left):ye(t.right)))))),(e,t,o=m.dv,...n)=>(0,_.Fs)(oe(),Ge((({logger:a})=>()=>{a[e]((0,_.Fs)(o,m.AU((()=>t),(e=>`Error in context ${e}:`))),t,...n)})))),Mt=(e,t)=>o=>(0,_.Fs)(o,le((o=>(0,_.Fs)(ht(e,o,m.zN(t)),ze(Qe()))))),kt=K,wt=me},36756:(e,t,o)=>{o.d(t,{JDs:()=>s,Q27:()=>c,Rm2:()=>i,ZmZ:()=>r,oU4:()=>l});var n=o(29508),a=o(9035);(0,n.Mi)(a.oWR);const i=(e,t,...o)=>(0,n.Fs)(a.kAu(),a.h9Q((({logger:n})=>()=>{n[e](t,...o)}))),r=()=>a.M1b((()=>new Promise((()=>{}))));const s=e=>(0,n.Fs)(a.kAu(),a.h9Q((({dispatch:t})=>t(e)))),l=e=>(0,n.Fs)(a.Do,a.TZM("deps",a.kAu()),a.oIE("state",(({deps:e})=>a.L90(e.state))),a.TjK((({state:t,deps:o})=>e(t,o)))),c=(e,t)=>o=>(0,n.Fs)(o,a.hFt(e,(e=>(0,n.Fs)(a.Do,a.TZM("deps",a.kAu()),a.oIE("state",(({deps:e})=>a.L90(e.state))),a.TjK((({state:o,deps:n})=>t(o,e,n)))))))},38835:(e,t,o)=>{o.d(t,{KV:()=>c,MC:()=>l,P:()=>i,Se:()=>p,TO:()=>d,Ue:()=>b,Xt:()=>_,YG:()=>u,bU:()=>r,ed:()=>s,if:()=>g,tO:()=>a,uv:()=>f});var n=o(8645);const a=()=>((0,n.V)("production","ENV_NAME is not defined"),"production"),i=()=>"test"===m(),r=()=>"storybook"===a(),s=()=>"isolated"===a(),l=()=>"cypress"===a()||r()||i(),c=()=>"production"===a(),u=()=>"staging"===a(),_=()=>"ci"===a(),d=()=>"deploy",m=()=>"production",p=e=>"umc"===e?{NODE_ENV:"production",USERNAME:"deploy",URL_BUCKET_WEB:"userlike-cdn-web.b-cdn.net",URL_BUCKET_WIDGETS:"userlike-cdn-widgets.s3-eu-west-1.amazonaws.com",ENV_NAME:"production",IMAGE_PROXY:"www.userlike.com/api/proxy/image/",DOMAIN_API:"api.userlike.com",URL_AUDIO_CALL_UMM:"www.userlike.com/audio/umm",DOMAIN_WEB:"www.userlike.com",SENTRY_DSN_UMM:"https://364b4fe397c84861b7b93b254ba3d7cd@bug.userlike.com/24",DOMAIN_UMD:"umd.userlike.com",URL_BUCKET_UMM:"userlike-cdn-umm.b-cdn.net",VERSION_UMM:"2213",UMF_APP:"UMM",PUBLIC_PATH:"https://userlike-cdn-umm.b-cdn.net/"}.SENTRY_DSN_UMC:"https://364b4fe397c84861b7b93b254ba3d7cd@bug.userlike.com/24",g=()=>"development"===m(),b=()=>"production"===m(),f=()=>{const e=e=>({DOMAIN_WEB:`playground-development${e}.userlike.com`,DOMAIN_UMD:`umd-playground-development${e}.userlike.com`,URL_BUCKET_WEB:`playground-development${e}.userlike.com`,URL_AUDIO_CALL_UMC:"./call-app.html",URL_AUDIO_CALL_UMM:"./call-app.html",URL_BUCKET_WIDGETS:`playground-development${e}.userlike.com/widgets`,IMAGE_PROXY:`playground-development${e}.userlike.com/api/proxy/image/`,DOMAIN_API:`api-playground-development${e}.userlike.com`,UPS_PUB_KEY:"BMTaXm7VH4B11davw9HU-odxgRQiSCC-piCJeMzBDkQKxkuue2qctwpbCqP0z3s_yGlVB-85uGr3tPcUuA3R0so",OMQ_API_ENDPOINT:"omq-develop.de",CHANNEL_FACEBOOK_APP_ID:"537950694960671",CHANNEL_WHATSAPP_SIGNUP_CONFIG_ID:"1844872132719727",WHATSAPP_360DIALOG_DASHBOARD_URL:`https://playground-development${e}.userlike.local/api/whatsapp_mock/360partnerapi`,TILE_LAYER:"https://maps.omniscale.net/v2/devel-85802b20/style.grayscale/{z}/{x}/{y}.png",RECURLY_PUBLIC_KEY:"ewr1-XL5jyw4GEJCgSmPiNRldD0",VERSION_UMM:"1"});return{PRODUCTION:{DOMAIN_UMD:"umd.userlike.com",DOMAIN_WEB:"www.userlike.com",URL_BUCKET_WEB:"userlike-cdn-web.b-cdn.net",URL_AUDIO_CALL_UMC:"./call-app.html",URL_AUDIO_CALL_UMM:"./call-app.html",URL_BUCKET_WIDGETS:"userlike-cdn-widgets.s3-eu-west-1.amazonaws.com",IMAGE_PROXY:"www.userlike.com/api/proxy/image/",DOMAIN_API:"api.userlike.com",UPS_PUB_KEY:"BMTaXm7VH4B11davw9HU-odxgRQiSCC-piCJeMzBDkQKxkuue2qctwpbCqP0z3s_yGlVB-85uGr3tPcUuA3R0so",OMQ_API_ENDPOINT:"userlike-automation.com",CHANNEL_FACEBOOK_APP_ID:"306564382734840",CHANNEL_WHATSAPP_SIGNUP_CONFIG_ID:"3163350397149029",WHATSAPP_360DIALOG_DASHBOARD_URL:"https://hub.360dialog.com/dashboard/app/nGW3H5PA",TILE_LAYER:"https://maps.omniscale.net/v2/devel-85802b20/style.grayscale/{z}/{x}/{y}.png",RECURLY_PUBLIC_KEY:"ewr1-XL5jyw4GEJCgSmPiNRldD0",VERSION_UMM:"1"},CI:{DOMAIN_UMD:"umd-ci.userlike.com",DOMAIN_WEB:"ci.userlike.com",URL_BUCKET_WEB:"ci-cdn-web.b-cdn.net",URL_AUDIO_CALL_UMC:"./call-app.html",URL_AUDIO_CALL_UMM:"./call-app.html",URL_BUCKET_WIDGETS:"ci.userlike.com/widgets",IMAGE_PROXY:"ci.userlike.com/api/proxy/image/",DOMAIN_API:"api-ci.userlike.com",UPS_PUB_KEY:"BMTaXm7VH4B11davw9HU-odxgRQiSCC-piCJeMzBDkQKxkuue2qctwpbCqP0z3s_yGlVB-85uGr3tPcUuA3R0so",OMQ_API_ENDPOINT:"omq-develop.de",CHANNEL_FACEBOOK_APP_ID:"537950694960671",CHANNEL_WHATSAPP_SIGNUP_CONFIG_ID:"1844872132719727",WHATSAPP_360DIALOG_DASHBOARD_URL:"https://ci.userlike.com/api/whatsapp_mock/360partnerapi",TILE_LAYER:"https://maps.omniscale.net/v2/devel-85802b20/style.grayscale/{z}/{x}/{y}.png",RECURLY_PUBLIC_KEY:"ewr1-XL5jyw4GEJCgSmPiNRldD0",VERSION_UMM:"1"},STAGING:{DOMAIN_UMD:"umd-staging.userlike.com",DOMAIN_WEB:"staging.userlike.com",URL_BUCKET_WEB:"staging-cdn-web.b-cdn.net",URL_AUDIO_CALL_UMC:"./call-app.html",URL_AUDIO_CALL_UMM:"./call-app.html",URL_BUCKET_WIDGETS:"staging.userlike.com/widgets",IMAGE_PROXY:"staging.userlike.com/api/proxy/image/",DOMAIN_API:"api-staging.userlike.com",UPS_PUB_KEY:"BMTaXm7VH4B11davw9HU-odxgRQiSCC-piCJeMzBDkQKxkuue2qctwpbCqP0z3s_yGlVB-85uGr3tPcUuA3R0so",OMQ_API_ENDPOINT:"omq-develop.de",CHANNEL_FACEBOOK_APP_ID:"226171944167862",CHANNEL_WHATSAPP_SIGNUP_CONFIG_ID:"933401335620872",WHATSAPP_360DIALOG_DASHBOARD_URL:"https://hub.360dialog.com/dashboard/app/nGW3H5PA",TILE_LAYER:"https://maps.omniscale.net/v2/devel-85802b20/style.grayscale/{z}/{x}/{y}.png",RECURLY_PUBLIC_KEY:"ewr1-XL5jyw4GEJCgSmPiNRldD0",VERSION_UMM:"1"},DEVEL:{DOMAIN_WEB:"devel.userlike.local",DOMAIN_UMD:"devel.userlike.local",URL_BUCKET_WEB:"devel.userlike.local",URL_AUDIO_CALL_UMC:"./call-app.html",URL_AUDIO_CALL_UMM:"./call-app.html",URL_BUCKET_WIDGETS:"devel.userlike.local/widgets",IMAGE_PROXY:"devel.userlike.local/api/proxy/image/",DOMAIN_API:"devel.userlike.local",UPS_PUB_KEY:"BMTaXm7VH4B11davw9HU-odxgRQiSCC-piCJeMzBDkQKxkuue2qctwpbCqP0z3s_yGlVB-85uGr3tPcUuA3R0so",OMQ_API_ENDPOINT:"omq-develop.de",CHANNEL_FACEBOOK_APP_ID:"537950694960671",CHANNEL_WHATSAPP_SIGNUP_CONFIG_ID:"1844872132719727",WHATSAPP_360DIALOG_DASHBOARD_URL:"https://devel.userlike.local/api/whatsapp_mock/360partnerapi",RECURLY_PUBLIC_KEY:"ewr1-XL5jyw4GEJCgSmPiNRldD0",TILE_LAYER:"https://maps.omniscale.net/v2/devel-85802b20/style.grayscale/{z}/{x}/{y}.png",VERSION_UMM:"1"},UNIT_TEST:{DOMAIN_UMD:"unit-test-umd-ci.userlike.com",DOMAIN_WEB:"unit-test-ci.userlike.com",URL_BUCKET_WEB:"unit-test-ci-cdn-web.b-cdn.net",URL_AUDIO_CALL_UMC:"unit-test-ci.userlike.com/umc/app_call",URL_AUDIO_CALL_UMM:"unit-test-ci.userlike.com/umm/app_call",URL_BUCKET_WIDGETS:"unit-test-ci.userlike.com/widgets",IMAGE_PROXY:"unit-test-ci.userlike.com/api/proxy/image/",DOMAIN_API:"unit-test-api-ci.userlike.com",UPS_PUB_KEY:"foo_bar",OMQ_API_ENDPOINT:"uni-test-omq-develop.de",CHANNEL_FACEBOOK_APP_ID:"537950694960671",CHANNEL_WHATSAPP_SIGNUP_CONFIG_ID:"1844872132719727",WHATSAPP_360DIALOG_DASHBOARD_URL:"https://unit-test-360dialog.com",TILE_LAYER:"https:/unit-test.com/image.png",RECURLY_PUBLIC_KEY:"foo_bar",VERSION_UMM:"1"},PG1:e("01"),PG2:e("02"),PG3:e("03"),PG4:e("04"),PG5:e("05"),PG6:e("06"),PG7:e("07"),PG8:e("08"),PG9:e("09")}}},40821:(e,t,o)=>{o.d(t,{IU:()=>H,VA:()=>J,DH:()=>V,LF:()=>Z});var n=o(21250),a=o(98963),i=o(29508),r=o(90485),s=o(46257),l=o(64776),c=o(94413),u=o(88370),_=o(79599),d=o(87990),m=o(1804),p=o(55342);const g=e=>(0,i.Fs)(e.init,l.Tj((t=>({read:e.read(t),write:e.write(t),del:e.del(t),decode:e.codec.decode,encode:e.codec.encode,defaultValue:e.defaultValue})))),b=e=>(0,i.Fs)(e.read,l.Tj(r.Tj(function(e){return t=>(0,i.Fs)(d.q(t),_.qE((()=>"Could not parse data in storage.")),_.cy((t=>(0,i.Fs)(e(t),_.qE(m.oh)))),_.qE((e=>(p.R.warn(e),e))))}(e.decode))),l.Tj(r.K2(_.v1)),l.cy(l.Mr),l.Tj(r.WL((()=>e.defaultValue))),l.WL((()=>s.of(e.defaultValue)))),f=e=>t=>(0,i.Fs)(e,b,s.Tj((e=>({...e,...t}))),s.Tj(e.encode),l.M1,l.Q5((e=>(0,i.Fs)(d.A(e),_.qE((()=>"Cannot encode data as JSON for storage."))))),l.cy(e.write)),v=e=>e.del;const j=e=>(t,o,n)=>g({init:l.oF(e),read:y(t),write:Y(t),del:h(t),codec:o,defaultValue:n}),y=e=>t=>(0,i.Fs)((0,u.u9)((async()=>t.getItem(e))),l.Tj(r.k$)),Y=e=>t=>o=>(0,u.u9)((async()=>t.setItem(e,o))),h=e=>t=>(0,u.u9)((async()=>{t.removeItem(e)})),M=j(c.TX((()=>window.localStorage),(()=>"Cannot access local storage"))),k=j(c.TX((()=>window.sessionStorage),(()=>"Cannot access session storage")));var w=o(12215);const E=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,N=e=>E.test(e),C=e=>(0,i.Fs)(e,atob,z),T=e=>{const t=Array.from(e).reduce(((e,t,o)=>(e[o]=t.charCodeAt(0),e)),new Uint16Array(e.length));return String.fromCharCode(...new Uint8Array(t.buffer))},z=e=>{const t=Array.from(e).reduce(((e,t,o)=>(e[o]=t.charCodeAt(0),e)),new Uint8Array(e.length));return String.fromCharCode(...new Uint16Array(t.buffer))},O=(e,t,o,n,a,i)=>{const s=U(t);return g({init:l.of(void 0),read:A(e),write:W(e,o?r.zN(s):r.dv,n),del:I(e,t),codec:a,defaultValue:i})},A=e=>()=>(0,i.Fs)((0,u.u9)((async()=>w.get(e))),l.Tj(r.k$),l.Tj((e=>(0,i.Fs)(e,r.pb(N),r.Tj(C),r.CC((()=>e)))))),W=(e,t,o)=>()=>n=>(0,u.u9)((async()=>w.set(e,(e=>(0,i.Fs)(e,T,btoa))(n),{domain:r.Sg(t),expires:r.Sg(o)}))),I=(e,t)=>()=>(0,u.u9)((async()=>{w.remove(e,{domain:U(t)}),w.remove(e)}));function U(e){const t=e.match(/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i);return t?`.${t[0]}`:""}var F=o(4796);var P=o(25545),R=o(8628);const L=(0,P.y)([{version:"2",codec:F.YO(R.Z$)}])([]),x=F.O2({opened:F.zM,navigation:L,lastUpdated:F.ai,widget_key:F.Yj}),G=F.e0(F.OH({page_impressions:F.ai,last_impression:F.ai,visits:F.ai,restoreableViewState:x,lastInteraction:F.ai,lastProactiveInteraction:F.ai})),S=(0,P.y)([{version:"2",codec:G}])([]),D=F.e0(F.OH({isBubbleClosed:F.zM})),$=(0,P.y)([{version:"1",codec:D}])([]),B=F.e0(F.OH({uuid:F.Yj,token:F.Yj,blocked:F.L5,cookieAccepted:F.zM})),K=(0,P.y)([{version:"1",codec:B}])([]);let q=function(e){return e.LocalStorage="localStorage",e.SessionStorage="sessionStorage",e.SessionCookie="expireCookieStorage",e}({});const V=({hostname:e,name:t,wildcardCookie:o,expires:a,cookieConsentMode:c})=>{const u={decode:(0,i.Mi)(F.L5.decode),encode:F.L5.encode,defaultValue:(0,i.Mi)({}),del:l.pG(void 0),read:l.pG(r.dv),write:()=>l.pG(void 0)},_=l.WL((()=>s.of(u)));return(0,i.Fs)({[q.LocalStorage]:_(M(t,S,{})),[q.SessionStorage]:_(k(t,$,{})),[q.SessionCookie]:_(O(`${t}_s`,e,o,r.zN(a),K,{}))},(0,n.Jq)(s.YM),s.Tj((e=>({...e,cookieConsentMode:c}))))},H=e=>(0,i.Fs)(v(e[q.LocalStorage]),l.oW(v(e[q.SessionCookie])),l.oW(v(e[q.SessionStorage])),l.WL((()=>s.of(void 0)))),Z=(e,t)=>(0,i.Fs)(ee(e,t),s.cy((o=>e.cookieConsentMode&&!0!==o.cookieAccepted?(0,i.Fs)(H(e),s.Tj((()=>t))):s.of(o)))),J=(e,t)=>e.cookieConsentMode?(0,i.Fs)(Q(e,t),s.cy((o=>o?X(e,t):H(e)))):X(e,t),Q=(e,t)=>{return(0,i.Fs)(e[q.SessionCookie],(o="cookieAccepted",e=>(0,i.Fs)(b(e),s.Tj((e=>e[o])))),s.Tj((e=>(0,i.Fs)(t.cookieAccepted,r.k$,r.CC((()=>r.k$(e))),r.WL((()=>!1))))));var o},X=(e,t)=>(0,i.Fs)(f(e[q.LocalStorage])(t),l.oW(f(e[q.SessionCookie])(t)),l.oW(f(e[q.SessionStorage])(t)),l.WL((()=>s.of(void 0)))),ee=(e,t)=>(0,i.Fs)((0,n.CO)(s.si)((0,i.Fs)(e[q.LocalStorage],b),(0,i.Fs)(e[q.SessionCookie],b),(0,i.Fs)(e[q.SessionStorage],b)),s.Tj(a.TS(t,((e,t)=>({...e,...t})))))},41504:(e,t,o)=>{o.d(t,{K:()=>_});var n=o(79599),a=o(29508),i=o(4796),r=o(55805),s=o(64579),l=o(1804),c=o(6540);const u=(e,t)=>{const o="string"==typeof t?t:t.toString(),n=(0,s.A)(`${e}${o}`,c.CU);return(0,a.Mi)(n)},_=(e,t)=>new i.ZU(`WithUuid<${t.name}>`,i.E$([i.NW({uuid:r.k}),t]).is,((o,s)=>(0,a.Fs)(i.E$([i.NW({uuid:(0,l.me)(r.k)}),t]).validate(o,s),n.Tj((t=>({...t,uuid:t.uuid??u(e,t.id)}))))),t.encode)},42205:(e,t,o)=>{o.d(t,{Bi:()=>l,X0:()=>c,qH:()=>u});var n=o(4796),a=o(1804),i=o(47415),r=o(27328);const s=n.NW({name:n.Yj,code:i.V9}),l=n.ZE({none:null,audio:null,video:null}),c=n.ZE({browser:1,ip:1,none:1}),u=(0,a.AN)({id:n.ai,name:n.Yj},{upload_mime_types_operator:n.Yj,default_locales:n.YO(s),emit_chat_state:n.zM,allowed_calls:l,voice_message_operator_enabled:n.zM,voice_message_contact_enabled:n.zM,file_upload_operator_enabled:n.zM,rating_enabled:n.zM,offline_team_name:n.Yj,url_image:n.Yj,country_id:r.Mb,operator_group_id:n.ai})},42410:(e,t,o)=>{o.d(t,{HU:()=>b,ON:()=>f,fM:()=>j,iT:()=>y,ie:()=>v});var n=o(29508),a=o(90485),i=o(14569),r=o(28811),s=o(36756),l=o(9035),c=o(1804),u=o(55342),_=o(36514),d=o(81993),m=o(84709),p=o(4958),g=o(4755);const b=e=>"context"in e;function f(e){return t=>{const o=e.receivers.find((e=>e.incomingType===t.info));return void 0===o?t.info===(0,m.wJ)(p.v)?(0,n.Fs)(s.Rm2("warn",`Unexpected error: ${t.message??"Unknown error"}`),l.g$A(l.kbd(t.message??"Unexpected error."))):(0,n.Fs)(s.Rm2("error",`Unexpected response info type: ${t.info}`),l.g$A(l.kbd(t.message??"Unexpected error."))):(0,n.Fs)(o.receive(t),l.MrE,l.ujg((e=>(0,n.Fs)(e,(0,c.ZU)(u.I.UmdClient),l.g$A(l.kbd(t.message??"Unexpected error."))))),l.TjK((e=>(0,n.Mi)(e))))}}const v=e=>(0,n.Fs)(e,i.x1((e=>(0,r.YW)(e).with((0,d.Lt)(g.KH.Message),(e=>a.zN(e.payload))).otherwise((()=>a.dv))))),j=(0,n.Fs)(_.kA(),_.bK((({umdClient:e})=>_.xC().concat(_.BK(e.getClientState),(0,n.Fs)(e.event$,_.mA,_.pb((e=>g.KH.Connecting.is(e)||g.KH.Connected.is(e)||g.KH.Disconnected.is(e))),_.h9((()=>e.getClientState))))))),y=e=>(0,n.Fs)(e,i.x1((e=>(0,r.YW)(e).with((0,d.Lt)(g.KH.Error),(e=>a.zN(e.payload))).otherwise((()=>a.dv)))))},42431:(e,t,o)=>{o.d(t,{Cd:()=>u,JC:()=>_,Tb:()=>b,Vq:()=>c,ZC:()=>v,bo:()=>g,e6:()=>y,k_:()=>Y,tK:()=>A,x4:()=>W,zw:()=>p});var n=o(4796),a=o(67843),i=o(1804),r=o(11860),s=o(60897),l=o(64916);let c=function(e){return e.Bubbles="chatbot_bubbles",e.Carousel="chatbot_carousel",e.GroupSelect="group_select",e.Register="register",e.RegisterOffline="offline_register",e.Disclaimer="disclaimer",e.PreSurvey="pre_survey",e.PostSurvey="post_survey",e.Feedback="feedback",e.ChatbotButtonTemplate="chatbot_button_template",e.ChatbotListTemplate="chatbot_list_template",e.ChatbotFlowTemplate="chatbot_flow_template",e.CustomBubblesTemplate="custom_bubbles",e.CustomCarouselTemplate="custom_carousel",e.CustomListTemplate="custom_list_template",e.CustomButtonTemplate="custom_button_template",e}({}),u=function(e){return e.Pre="pre_chat_phase",e.Main="chat_main_phase",e.Post="post_chat_phase",e}({}),_=function(e){return e.Text="text",e.DataPrivacy="data",e.Select="select",e.Bubbles="bubbles",e.Carousel="carousel",e.ListTemplate="list_template",e.FlowTemplate="flow_template",e.ButtonTemplate="button_template",e}({});const d=(0,i.vr)({key:n.Yj,label:(0,i.me)(n.Yj)},{placeholder:(0,i.me)(n.Yj)}),m=n.E$([d,n.O2({key:n.Yj,label:n.Yj,placeholder:(0,i.me)(n.Yj),presentation:n.eu(_.Text)})]),p=n.E$([d,n.O2({presentation:n.eu(_.DataPrivacy)})]),g=n.E$([d,n.O2({presentation:n.eu(_.Select),options:n.YO(n.O2({id:n.ai,label:n.Yj,image:(0,i.me)(n.Yj),url:(0,i.me)(n.Yj)}))})]),b=n.E$([d,n.O2({presentation:n.eu(_.Carousel),options:n.YO((0,i.AN)({id:n.ai,label:n.Yj,image:n.Yj},{sublabel:(0,i.me)(n.Yj)}))})]),f=n.E$([d,n.O2({presentation:n.eu(_.ButtonTemplate)})]),v=n.E$([d,n.O2({presentation:n.eu(_.Bubbles),options:n.YO(n.O2({id:n.ai,label:n.Yj}))})]),j=n.KC([m,p,g,b,v,f]),y=n.E$([l.MJ,n.O2({type:n.eu(l.Go.Card),phase:(0,i.o7)(u),step:(0,i.o7)(c),text_format:(0,a.h)((0,i.o7)(s.l),s.l.PlainText),is_required:n.zM,body:n.Yj,data:(0,i.vr)({headline:n.Yj,form:n.YO(j),schema:r.j},{subheadline:n.Yj})})]),Y=e=>({type:l.Go.Card,...(0,l.WK)(e),cardStep:e.step,phase:e.phase,body:e.body,isRequired:e.is_required,data:e.data,textFormat:e.text_format}),h=n.OH({name:n.Yj,email:n.Yj,company:n.Yj,phone_number:n.Yj,mobile_number:n.Yj,external_customer_id:n.Yj}),M=n.OH({rate:n.KC([n.eu(1),n.eu(2),n.eu(3),n.eu(4),n.eu(5)]),feedback_message:n.Yj}),k=n.NW({disclaimer:n.zM}),w=n.NW({pre_survey:n.ai}),E=n.NW({post_survey:n.ai}),N=n.NW({group_select_id:n.ai}),C=n.NW({chatbot_carousel:n.ai}),T=n.NW({chatbot_bubbles:n.ai}),z=n.S6,O=n.E$([l.MJ,n.NW({type:n.eu(l.Go.CardResponse),reference:n.Yj,body:n.Yj,data:n.NW({skipped:n.zM})})]),A=n.E$([O,n.KC([n.NW({step:n.eu(c.Register),data:n.NW({form:h})}),n.NW({step:n.eu(c.RegisterOffline),data:n.NW({form:h})}),n.NW({step:n.eu(c.Feedback),data:n.NW({form:M})}),n.NW({step:n.eu(c.Disclaimer),data:n.NW({form:k})}),n.NW({step:n.eu(c.PreSurvey),data:n.NW({form:w})}),n.NW({step:n.eu(c.PostSurvey),data:n.NW({form:E})}),n.NW({step:n.eu(c.GroupSelect),data:n.NW({form:N})}),n.NW({step:n.eu(c.Carousel),data:n.NW({form:C})}),n.NW({step:n.eu(c.Bubbles),data:n.NW({form:T})}),n.NW({step:n.eu(c.ChatbotButtonTemplate),data:n.NW({form:z})}),n.NW({step:n.eu(c.ChatbotListTemplate),data:n.NW({form:z})}),n.NW({step:n.eu(c.ChatbotFlowTemplate),data:n.NW({form:z})}),n.NW({step:n.eu(c.CustomBubblesTemplate),data:n.NW({form:z})}),n.NW({step:n.eu(c.CustomCarouselTemplate),data:n.NW({form:z})}),n.NW({step:n.eu(c.CustomListTemplate),data:n.NW({form:z})}),n.NW({step:n.eu(c.CustomButtonTemplate),data:n.NW({form:z})})])]),W=e=>{const t={type:l.Go.CardResponse,...(0,l.WK)(e),reference:e.reference,skipped:e.data.skipped,form:e.data.form,body:e.body};switch(e.step){case c.Register:return{...t,form:{step:c.Register,data:e.data.form}};case c.RegisterOffline:return{...t,form:{data:e.data.form,step:c.RegisterOffline}};case c.Feedback:return{...t,form:{data:e.data.form,step:c.Feedback}};case c.Disclaimer:return{...t,form:{data:e.data.form,step:c.Disclaimer}};case c.PreSurvey:return{...t,form:{data:e.data.form,step:c.PreSurvey}};case c.PostSurvey:return{...t,form:{data:e.data.form,step:c.PostSurvey}};case c.GroupSelect:return{...t,form:{data:e.data.form,step:c.GroupSelect}};case c.Carousel:return{...t,form:{data:e.data.form,step:c.Carousel}};case c.Bubbles:return{...t,form:{data:e.data.form,step:c.Bubbles}};case c.ChatbotButtonTemplate:return{...t,form:{data:e.data.form,step:c.ChatbotButtonTemplate}};case c.ChatbotListTemplate:return{...t,form:{data:e.data.form,step:c.ChatbotListTemplate}};case c.ChatbotFlowTemplate:return{...t,form:{data:e.data.form,step:c.ChatbotFlowTemplate}};case c.CustomBubblesTemplate:return{...t,form:{data:e.data.form,step:c.CustomBubblesTemplate}};case c.CustomCarouselTemplate:return{...t,form:{data:e.data.form,step:c.CustomCarouselTemplate}};case c.CustomListTemplate:return{...t,form:{data:e.data.form,step:c.CustomListTemplate}};case c.CustomButtonTemplate:return{...t,form:{data:e.data.form,step:c.CustomButtonTemplate}}}}},42701:(e,t,o)=>{o.d(t,{BM:()=>s,CF:()=>y,Co:()=>h,Fw:()=>m,L6:()=>l,WK:()=>M,_l:()=>p});var n=o(11328),a=o(4796),i=o(1804),r=o(64916);const s=(0,n.n0)();let l=function(e){return e.Image="image",e.Audio="audio",e.Video="video",e.File="file",e.Page="page",e.Embed="embed",e}({});const c=a.E$([r.MJ,(0,i.vr)({body:a.Yj,url:a.Yj,url_protected:a.zM},{thumbnail_url:a.KC([a.Yj,a.ch]),thumbnail_url_protected:a.zM,size:(0,i.me)(a.ai),title:(0,i.me)(a.Yj),mime_type:(0,i.me)(a.Yj),embed_code:(0,i.me)(a.Yj)})]),u=e=>({...(0,r.WK)(e),body:e.body,file:k(e.url,e.url_protected),thumbnail:k(e.thumbnail_url,e.thumbnail_url_protected),size:e.size,title:e.title,mimeType:e.mime_type,embedCode:e.embed_code}),_=a.E$([c,a.O2({display_type:a.KC([a.eu(l.Image),a.eu(l.Audio),a.eu(l.Video),a.eu(l.File)]),mime_type:a.Yj})]),d=a.E$([c,a.O2({display_type:a.eu(l.Page),thumbnail_url:(0,i.me)(a.Yj),thumbnail_url_protected:a.zM,title:(0,i.me)(a.Yj),description:(0,i.lq)(a.Yj),favicon_url:(0,i.lq)(a.Yj)})]),m=a.E$([_,a.O2({type:a.eu(r.Go.Upload)})]),p=a.E$([_,a.O2({type:a.eu(r.Go.Voice),display_type:a.KC([a.eu(l.Audio),a.eu(l.File)]),mime_type:a.Yj})]),g=a.E$([c,a.O2({type:a.eu(r.Go.Link),reference:a.Yj})]),b=e=>({...u(e),type:r.Go.Link,reference:e.reference}),f=a.E$([_,g]),v=a.E$([d,g]),j=a.E$([g,a.O2({display_type:a.eu(l.Embed),embed_code:a.Yj,title:(0,i.me)(a.Yj)})]),y=a.KC([f,v,j]),Y=e=>{switch(e.display_type){case l.Page:return(e=>({...b(e),displayType:e.display_type,thumbnail:k(e.thumbnail_url,e.thumbnail_url_protected),title:e.title,description:e.description,favicon_url:e.favicon_url}))(e);case l.Embed:return(e=>({...b(e),displayType:e.display_type,embedCode:e.embed_code,title:e.title}))(e);default:return(e=>({...b(e),displayType:e.display_type,mimeType:e.mime_type}))(e)}},h=a.E$([_,a.O2({type:a.eu(r.Go.Email),display_type:a.eu(l.File),mime_type:a.Yj})]),M=e=>{switch(e.type){case r.Go.Voice:return(e=>({...u(e),type:r.Go.Voice,displayType:e.display_type,mimeType:e.mime_type}))(e);case r.Go.Upload:return(e=>({...u(e),type:r.Go.Upload,displayType:e.display_type,mimeType:e.mime_type}))(e);case r.Go.Link:return Y(e);case r.Go.Email:return(e=>({...u(e),type:r.Go.Email,displayType:e.display_type,mimeType:e.mime_type}))(e)}};function k(e,t){return null!=e&&void 0!==t?{url:e,protected:t}:void 0}},42870:(e,t,o)=>{o.d(t,{$9:()=>a,ci:()=>r,n6:()=>i});var n=o(4796);const a="@ul/sync",i={contact:{},conversation:{},conversationPart:{},message:{},operator:{},operatorGroup:{},navigation:{},translation:{},widget:{}},r=["contact","conversation","conversationPart","message","operator","operatorGroup","navigation","translation","widget"];n.NW({timestamp:n.ai,state:n.L5,version:n.Yj})},44395:(e,t,o)=>{o.d(t,{p:()=>U});var n=o(29508),a=o(90485),i=o(64776);var r=o(99847),s=o(46257),l=o(1772),c=o(55342),u=o(87562),_=o(3046),d=o(62927),m=o(88370);const p=e=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|UIWebView/i.test(e.navigator.userAgent);var g=o(79599),b=o(21858),f=o(1804),v=o(4796);const j=v.O2({country_name:v.Yj,continent_name:v.Yj,country_code:v.Yj,continent_code:v.Yj});const y=e=>{if(function(e){return"geolocation"===e.field}(e)){const t=e.value.split("."),o=(0,n.Mi)(`geolocation.${t[0]}`),a=(0,n.Mi)(t[1]);return{...e,field:o,value:a}}return e},Y={};function h(){const{DOMAIN_API:e}=(0,b._$)();return Y.value?i.pG(Y.value):(0,n.Fs)(i.TX((async()=>(await fetch(`https://${e}/api/chat/geoip/`,{credentials:"omit"})).json()),(e=>g.iT(e).toString())),i.Q5((0,n.L3)(j.decode,g.qE((0,f.uk)(c.I.Geolocation)))),i.hU((e=>()=>{Y.value=e})),i.qE((e=>`Geolocation API failed:\n${e}`)))}const M=(e,t)=>(0,n.Fs)(s.L9(t.read),s.cy((o=>e in o?s.of(o[e]):(0,n.Fs)(function(e){switch(e){case"geolocation.continent":return(0,n.Fs)(h(),i.Tj((({continent_code:e})=>e)));case"geolocation.country":return(0,n.Fs)(h(),i.Tj((({country_code:e})=>e)));default:return c.R.error("Unknown router fetch property",e),i.pG(void 0)}}(e),i.W6((o=>i.L9(t.modify((t=>({...t,[e]:o})))))),i.WL((e=>(c.R.warn("Failed to fetch prop",e),s.of(void 0))))))));function k(e){const t=e.navigator.languages?e.navigator.languages[0]:e.navigator.language;return t?.split("-")[0]}const w=(e,t)=>(0,n.Fs)(r.ci(t),a.Tj((t=>(0,n.Fs)(((e,{field:t,value:o,operator:a})=>(0,n.Fs)(M(t,e),s.Tj((e=>{switch(a){case _.NP.equal:return e===o;case _.NP.regex:return void 0!==e&&RegExp(o).test(e)}}))))(e,r.d5(t)),s.cy((o=>o?w(e,r.RT(t)):s.of(!1)))))),a.WL((()=>s.of(!0))));function E(e,t){return(0,n.Fs)(r.ci(t),a.hV(i.cj)(C(e)),i.Tj(a.Bq))}const N=e=>t=>(0,n.Fs)(e(t),i.Tj((e=>e.config)),i.Pm(l.lL.is,(()=>"Unexpected config"))),C=e=>t=>{const{rules:o,widget:l,config:u}=r.d5(t),_=o.map(y);return(0,n.Fs)((e=>(0,n.Fs)((0,m.u)((async()=>({url:e.location.href,language:k(e),device:p(e)?"mobile":"desktop",user_agent:e.navigator.userAgent}))),i.WL((()=>s.of({}))),s.h9((e=>d.O(e)))))(e),s.cy((e=>w(e,_))),i.M1,i.cy((o=>o?(c.R.debug("Router::match",o,l,u),i.pG(a.zN(null===l?z:O({widget:l,config:u})))):E(e,r.RT(t)))))},T=(0,u.V)(),z=T.wrap(a.dv),O=e=>(0,n.Fs)(e,a.zN,T.wrap),A=e=>t=>(0,n.Fs)(t,T.unwrap,a.AU((()=>i.pG(a.dv)),(({widget:t,config:o})=>(0,n.Fs)(N(e)(t.key),i.Tj((e=>I(o)(e))),i.Tj(a.zN))))),W=e=>t=>(0,n.Fs)(t.default_widget,a.k$,a.AU((()=>(c.R.debug("Router::resolve no match and no default widget to fall back to"),i.pG(a.dv))),(t=>(c.R.debug("Router::resolve no matching widget found - falling back to default"),(0,n.Fs)(N(e)(t.key),i.Tj(a.zN)))))),I=e=>t=>({...t,...e}),U=(e,t,o)=>(0,n.Fs)(o(e),i.Tj((({config:e})=>e)),i.cy(F(o,t))),F=(e,t)=>o=>function(e){return!("is_router"in e)}(o)?(0,n.Fs)(o.widget_key,N(e),i.Tj(a.zN)):((e,t)=>o=>o.enabled?(0,n.Fs)(E(t,o.ruleset),i.cy(a.AU((()=>W(e)(o)),A(e)))):i.pG(a.dv))(e,t)(o)},44519:(e,t,o)=>{o.d(t,{$M:()=>N,BS:()=>Z,DV:()=>M,H7:()=>h,Ov:()=>f,QL:()=>j,S1:()=>Q,S_:()=>B,TK:()=>D,WH:()=>R,Y9:()=>O,_1:()=>Y,c:()=>H,d6:()=>P,ex:()=>S,fe:()=>E,gI:()=>k,lS:()=>v,mJ:()=>q,mf:()=>J,nD:()=>z,p1:()=>V,s$:()=>$,sy:()=>A,xN:()=>T,zS:()=>w,zp:()=>y});var n=o(98963),a=o(29508),i=o(99847),r=o(90485),s=o(25508),l=o(64916),c=o(42431),u=o(59193),_=o(10465),d=o(32711),m=o(88019),p=o(29240);const g=e=>e[p.d],b=(e,t)=>t,f=(0,s.Mz)([g],(e=>e.ids)),v=(0,s.Mz)([f,_.Wl.all],((e,t)=>(0,a.Fs)(e,n.x1((e=>r.k$(t[e])))))),j=(0,s.Mz)([b,_.Wl.all],((e,t)=>t[e])),y=(0,s.Mz)([g],(e=>e.listLoading)),Y=(0,s.Mz)([g],(e=>e.transcripts)),h=(0,s.Mz)([(e,t)=>t,Y,_.iU.all],((e,t,o)=>(0,a.Fs)(t[e]??[],n.x1((e=>r.k$(o[e])))))),M=(0,s.Mz)([g],(e=>e.unread)),k=(0,s.Mz)([b,M],((e,t)=>t[e]??[])),w=((0,s.Mz)([b,M,_.iU.all],((e,t,o)=>(0,a.Fs)(t[e]??[],n.x1((e=>r.k$(o[e])))))),(0,s.Mz)([f,M],((e,t)=>e.map((e=>(t[e]??[]).length)).reduce(((e,t)=>e+t),0)))),E=(0,s.Mz)([b,f,M],((e,t,o)=>t.filter((t=>t!==e)).map((e=>(o[e]??[]).length)).reduce(((e,t)=>e+t),0))),N=(0,s.Mz)([b,M],((e,t)=>(t[e]??[]).length)),C=(0,s.Mz)([f,M,_.iU.all],((e,t,o)=>(0,a.Fs)(e,n.cy((e=>(0,a.Fs)(t[e]??[],n.x1((e=>r.k$(o[e]))),n.Tj((t=>({conversationId:e,message:t}))))))))),T=(0,s.Mz)([C],(e=>(0,a.Fs)(e,i.ci,r.Tj((e=>e.reduce(((e,t)=>e.message.sentAt>t.message.sentAt?e:t))))))),z=(e,t)=>(0,a.Fs)(_.iU.byIdO(e,t),r.pb((e=>e.type===l.Go.Text)),r.pb((e=>e.sender.type===l.iY.Operator)),r.EN((e=>e.translationId)),r.cy((t=>_.wT.byIdO(e,t))),r.Tj((e=>e.translation))),O=(e,t)=>(0,a.Fs)(z(e,t.uuid),r.Tj((e=>({...t,body:e}))),r.CC((()=>r.zN(t))),r.Sg),A=(0,s.Mz)([h],(e=>(0,a.Fs)(e.filter(u.Bk),n.HV,r.Sg))),W=(0,s.Mz)([g],(e=>e.loading)),I=(0,s.Mz)([b,W],((e,t)=>t[e]??!1)),U=(0,s.Mz)([_.Wl.byIdO],(e=>(0,a.Fs)(e,r.Tj((e=>e.acceptsMessages)),r.WL((()=>!1))))),F=(0,s.Mz)([_.Wl.byIdO],(e=>(0,a.Fs)(e,r.EN((e=>e.rate)),r.NY))),P=(e,t)=>I(e,t)||!U(e,t)||(0,d.bz)(e),R=(0,s.Mz)([h],(e=>(0,a.Fs)(n.HV(e),r.Tj((e=>e.type===l.Go.Card?e.phase:c.Cd.Main))))),L=((0,s.Mz)([h],(e=>e.some((e=>e.type===l.Go.Notification&&"offline_welcome_message"===e.event)))),e=>(e=>e.sender.type===l.iY.Contact)(e)&&e.type===l.Go.Text),x=(0,s.Mz)([h],(e=>e.filter(L))),G=(0,s.Mz)([x],(e=>e.length)),S=(0,s.Mz)([x],(e=>e.length>0)),D=(0,s.Mz)([d.LM,U,F,G],((e,t,o,n)=>e&&t&&null==o&&n>=3)),$=((0,s.Mz)([_.Wl.byIdO,h],((e,t)=>(0,a.Fs)(e,r.pb((({operatorId:e})=>null==e&&t.some((e=>e.type===l.Go.Notification&&"offline_welcome_message"===e.event)))),r.AU(a.f4,a.ue)))),(0,s.Mz)([_.Wl.byIdO,_.Hr.all],((e,t)=>(0,a.Fs)(e,r.EN((e=>e.operatorId)),r.EN((e=>t[e])))))),B=(0,s.Mz)([$,d.hG,(0,m.vB)({key:"offline_team_name"})],((e,t,o)=>(0,a.Fs)(e,r.WL((()=>({url_image:t,teamName:o})))))),K=(0,s.Mz)([g],(({invalid:e})=>e)),q=(0,s.Mz)([K,(e,t)=>t],((e,t)=>e.includes(t))),V=(0,s.Mz)([v],(e=>e.length>0)),H=(0,s.Mz)([j],(e=>e&&e.contact_channel)),Z=(0,s.Mz)([j],(e=>e&&e.status)),J=(0,s.Mz)([j],(e=>e&&e.is_operator_relevant)),Q=(0,s.Mz)([j,_.Wl.list],((e,t)=>({next:(0,a.Fs)(e,r.k$,r.EN((e=>e.next_conversation_id)),r.cy((e=>(0,a.Fs)(t,n.i8((t=>t.id===e))))),r.Tj((e=>e.uuid))),previous:(0,a.Fs)(e,r.k$,r.EN((e=>e.previous_conversation_id)),r.cy((e=>(0,a.Fs)(t,n.i8((t=>t.id===e))))),r.Tj((e=>e.uuid)))})))},45814:(e,t,o)=>{o.d(t,{a6:()=>i,yM:()=>r});var n=o(38798);const a=e=>{const t=function(e){const t=s(e).uslk_cid;if("string"!=typeof t)return;const o=parseInt(t,10);return isNaN(o)?void 0:o}(e),o=function(e){const t=s(e).uslk_token;if("string"!=typeof t)return;return t}(e),n=function(e){const t=s(e).uslk_verify;if("string"!=typeof t)return;return"1"===t}(e);return{cid:t,token:o,verify:n}},i=e=>{const{token:t,cid:o}=a(e);if(t||o){const{history:t,document:{title:o,location:n}}=e;t.replaceState({},o,r(n))}};function r(e){const t=new URL(e.href);return t.searchParams.delete("uslk_token"),t.searchParams.delete("uslk_cid"),t.searchParams.delete("uslk_verify"),t.href}function s(e){return n.A.parse(e.document.location.search)}},47006:(e,t,o)=>{o.d(t,{v:()=>a});var n=o(73441);const a=o(47419).RV("contact_response",n.wL)},47415:(e,t,o)=>{o.d(t,{Bh:()=>f,EN:()=>h,Ex:()=>y,Fo:()=>k,IQ:()=>w,Kl:()=>g,Qd:()=>b,U6:()=>E,V9:()=>m,_d:()=>v,dM:()=>p,dq:()=>T,eH:()=>O,fM:()=>j,iR:()=>N,sn:()=>A,uP:()=>M,y2:()=>C,yn:()=>Y});var n=o(79599),a=o(29508),i=o(90485),r=o(4796),s=o(87562),l=o(27328),c=o(83610);const{wrap:u,unwrap:_}=(0,s.V)(),d=/^([a-z]{2})_([A-Z]{2})$/,m=new r.ZU("LocaleCode",(e=>r.Yj.is(e)&&d.test(e)),((e,t)=>(0,a.Fs)(r.Yj.validate(e,t),n.Tj((e=>d.exec(e))),n.cy((o=>o&&o[1]&&o[2]?r.kX([o[1],o[2]]):r.V2(e,t))),n.cy((([e,o])=>(0,a.Fs)(c.O.validate(e,t),n.Jr("lang"),n.oI("country",(()=>l.Mb.validate(o,t)))))),n.Tj((({lang:e,country:t})=>function(e,t){return u(`${c.oJ(e)}_${l.m7(t)}`)}(e,t))))),_);u("bg_BG");const p=u("cs_CZ"),g=u("da_DK"),b=u("de_DE"),f=(u("el_GR"),u("en_US")),v=u("es_ES"),j=u("et_EE"),y=u("fi_FI"),Y=u("fr_FR"),h=(u("hu_HU"),u("it_IT")),M=u("lt_LT"),k=(u("lv_LV"),u("nb_NO")),w=u("nl_NL"),E=u("pl_PL"),N=u("pt_BR"),C=u("ro_RO"),T=(u("ru_RU"),u("sk_SK"),u("sl_SI"),u("sv_SE")),z=(u("tr_TR"),u("zh_CN"),_),O=((0,a.L3)(m.decode,i.Mr),e=>(0,a.Mi)(z(e).substr(0,2))),A=e=>_(e).replace("_","-")},47419:(e,t,o)=>{o.d(t,{AV:()=>i,Dz:()=>r,RR:()=>u,RV:()=>l,WT:()=>_,xP:()=>c});var n=o(4796),a=o(4755);const i=(e,t)=>({infoType:e,sendInfo:t}),r=(e,t)=>({requestType:e,sendRequest:t}),s=(e,t)=>({incomingType:e,receive:o=>(0,a.zB)(n.eu(e),t).decode(o)}),l=(e,t)=>({receivers:[s(e,t)]});function c(...e){return{receivers:e.flatMap((e=>e.receivers))}}const u=(e,t)=>({...e,...t}),_=(e,t,o)=>({...i(e,t),...l(e,o)})},51186:(e,t,o)=>{o.d(t,{z:()=>a});var n=o(92658);const a=(e,t)=>{const o=e??"";return void 0!==t?(0,n.L)(o,t):o}},51939:(e,t,o)=>{o.d(t,{ZG:()=>A,ml:()=>I,R9:()=>W});var n=o(4796),a=o(64916),i=o(28811),r=o(1804);const s=n.O2({body:n.Yj,link:n.Yj}),l=n.E$([a.MJ,n.O2({type:n.eu(a.Go.Buttons),body:(0,r.me)(n.Yj),buttons:n.YO(s)})]),c=n.E$([a.MJ,n.O2({type:n.eu(a.Go.Button),link:n.Yj,body:n.Yj})]);var u=o(70137),_=o(42431),d=o(14874);const m=n.E$([a.MJ,n.O2({type:n.eu(a.Go.Edit),reference:n.Yj,body:n.Yj})]),p=n.E$([a.MJ,(0,r.vr)({type:n.eu(a.Go.Location),body:n.Yj,latitude:n.ai,longitude:n.ai},{description:n.Yj,city:n.Yj,country:n.Yj})]);var g=o(42701);const b=n.E$([a.MJ,n.NW({type:n.eu(a.Go.Order),catalog_id:n.Yj,text:n.Yj,product_items:n.YO(n.NW({product_retailer_id:n.Yj,quantity:n.ai,item_price:n.ai,currency:n.Yj}))})]);var f=o(30148),v=o(67843),j=o(60897);const y=n.ZE({addon_request:1,button_click:1,chatbot_choice:1,chatbot_button:1,chatbot_buttons:1,contact_chatbot_response:1,contact_details:1,contact_block:1,contact_unblock:1,conversation_goal_reached:1,instagram_story_reply:1,instagram_story_mention:1,conversation_post_survey:1,conversation_pre_survey:1,conversation_rating:1,conversation_details:1,disclaimer_accept:1,email_change:1,feedback:1,forward_alternative:1,group_select:1,inactivity_message:1,inactivity_operator_forward:1,inactivity_operator_quit:1,inactivity_session_quit:1,locale_change:1,modal_push:1,name_change:1,offline_returning:1,operator_assign:1,operator_quit:1,previous_conversation_linked:1,rating_feedback:1,slot_create:1,status_change:1,subject_change:1,test_event:1,ticket_create:1,ticket_update:1,topic_change:1,transcript_email_dispatch:1,transcript_email_webvisitor:1,transcript_email_operator:1,user_quit:1,welcome_message:1,forward_welcome_message:1,offline_welcome_message:1,inactivity_offline_message:1,chatbot_forward_failed:1,channel_error:1,campaign_unsubscribe:1,campaign_keyword:1,flow_received:1,operator_group_assign:1,ephemeral_message_received:1,potential_identity_change:1,whatsapp_service_window_expired:1,email_verification_requested:1,email_verification_completed:1}),Y=n.E$([a.MJ,n.O2({type:n.eu(a.Go.Notification),event:y,body:n.Yj,representation:(0,r.o7)(a.pR),text_format:(0,v.h)((0,r.o7)(j.l),j.l.PlainText)})]);var h=o(89498);const M=(0,r.vr)({type:n.eu(a.Go.Upload),display_type:n.KC([n.eu(g.L6.Image),n.eu(g.L6.Audio),n.eu(g.L6.Video),n.eu(g.L6.File)]),body:n.Yj,url:n.Yj,url_protected:n.zM,mime_type:n.Yj},{thumbnail_url:(0,r.me)(n.Yj),thumbnail_url_protected:n.zM,size:(0,r.me)(n.ai),title:(0,r.me)(n.Yj),embed_code:(0,r.me)(n.Yj)}),k=n.E$([a.MJ,(0,r.vr)({type:n.eu(a.Go.Composite),body:n.Yj,text_format:(0,v.h)((0,r.o7)(j.l),j.l.PlainText),attached_media:n.YO(M)},{translation:h.GL,links_found:n.YO(n.O2({full_url:n.Yj,matched_url:n.Yj})),text_format:(0,v.h)((0,r.o7)(j.l),j.l.PlainText)})]),w=n.E$([a.MJ,(0,r.vr)({type:n.eu(a.Go.Text),body:n.Yj,text_format:(0,v.h)((0,r.o7)(j.l),j.l.PlainText)},{translation:h.GL,links_found:n.YO(n.O2({full_url:n.Yj,matched_url:n.Yj})),text_format:(0,v.h)((0,r.o7)(j.l),j.l.PlainText)})]),E=e=>({...e,displayType:e.display_type,thumbnailUrl:e.thumbnail_url,thumbnailProtected:e.thumbnail_url_protected,protected:e.url_protected,mimeType:e.mime_type});var N=o(79599),C=o(29508);const T=e=>new n.ZU("UnknownMessage",n.E$([a.MJ,n.NW({type:n.eu(a.Go.Unknown)})]).is,((t,o)=>(0,C.Fs)(n.E$([a.MJ,n.NW({type:n.eu(e)})]).validate(t,o),N.Tj((({type:e,...t})=>({...t,type:a.Go.Unknown}))))),(({type:t,...o})=>({...o,type:e})));var z=o(62151);const O=n.E$([a.MJ,n.NW({type:n.eu(a.Go.WhatsAppTemplate),message_components:n.YO(z.EK),template_components:n.YO(z.TD),media_upload_url:(0,r.me)(n.Yj)})]),A=n.KC([w,c,l,k,u.ts,u.Ql,_.e6,_.tK,m,d.W,g.Fw,g._l,g.CF,Y,p,g.Co,b,O,f.G,T("vcard"),T("flow_request"),T("flow_response"),T("campaign_unsubscribe")]),W=(n.NW({id:n.ai,conversation_id:n.ai,msgid:n.Yj}),e=>{switch(e.type){case a.Go.Text:case a.Go.Composite:return(e=>({type:a.Go.Text,...(0,a.WK)(e),body:e.body,textFormat:e.text_format,translationId:e.translation,links_found:e.links_found,attached_media:"attached_media"in e?e.attached_media.map(E):void 0}))(e);case a.Go.CallOffer:return(0,u.ht)(e);case a.Go.Card:return(0,_.k_)(e);case a.Go.Button:case a.Go.Buttons:return(e=>{const t=(0,i.YW)(e).with({type:a.Go.Button},(e=>[{link:e.link,body:e.body}])).with({type:a.Go.Buttons},(e=>e.buttons)).exhaustive();return{...(0,a.WK)(e),type:a.Go.Buttons,buttons:t}})(e);case a.Go.CardResponse:return(0,_.x4)(e);case a.Go.CallEvent:return(0,u.Su)(e);case a.Go.Edit:return(e=>({type:a.Go.Edit,...(0,a.WK)(e),reference:e.reference,body:e.body}))(e);case a.Go.Delete:return(0,d.g)(e);case a.Go.Upload:case a.Go.Voice:case a.Go.Link:case a.Go.Email:return(0,g.WK)(e);case a.Go.Notification:return(e=>({type:a.Go.Notification,...(0,a.WK)(e),representation:e.representation,event:e.event,body:e.body,textFormat:e.text_format}))(e);case a.Go.Location:return(e=>({type:a.Go.Location,...(0,a.WK)(e),body:e.body,description:e.description,latitude:e.latitude,longitude:e.longitude,city:e.city,country:e.country}))(e);case a.Go.Unknown:return(e=>({...(0,a.WK)(e),type:a.Go.Unknown}))(e);case a.Go.WhatsAppTemplate:return(e=>({type:a.Go.WhatsAppTemplate,...(0,a.WK)(e),message_components:e.message_components,template_components:e.template_components,media_upload_url:e.media_upload_url}))(e);case a.Go.Order:return(e=>({type:a.Go.Order,...(0,a.WK)(e),catalog_id:e.catalog_id,productItems:e.product_items,text:e.text}))(e);case a.Go.Proactive:return(0,f.a)(e)}}),I=e=>void 0!==e.id},53084:(e,t,o)=>{o.d(t,{b:()=>s,d:()=>r});var n=o(11328),a=o(4796),i=o(97405);const r=(0,n.n0)(),s=a.NW({show_button:a.zM,can_start_conversation:a.zM,default_operator:i.tl,operator_available:a.zM,uuid_invalid:a.zM,open_backchannel:a.zM,umm_version:a.ai})},55342:(e,t,o)=>{o.d(t,{I:()=>c,R:()=>l});var n=o(73065),a=o.n(n),i=o(38835),r=o(18007);const s=()=>a().getLogger("userlike"),l={info:(...e)=>{s().info(...e)},warn:(...e)=>{s().warn(...e)},error:(...e)=>{(0,r.N7)(e.join(" ")),s().error(...e)},debug:(...e)=>{(0,i.P)()||s().debug(...e)},setLevel:e=>{(0,i.P)()||s().setLevel(e)},getLevel:()=>s().getLevel(),enable:()=>{s().enableAll()},disable:()=>{s().disableAll()}};(0,i.Ue)()&&l.setLevel("warn"),(0,i.ed)()&&l.enable();let c=function(e){return e.Api="Api",e.ButtonCheck="ButtonCheck",e.CallApp="CallApp",e.Commands="Commands",e.FileUpload="FileUpload",e.Gainsight="Gainsight",e.Geolocation="Geolocation",e.HttpClient="Umd/HttpClient",e.Isolated="Isolated",e.Loader="Loader",e.MessageTemplates="MessageTemplates",e.OperatorPreferences="OperatorPreferences",e.Sync="Sync",e.UMMStorage="UMMStorage",e.UmdClient="Umd/UmdClient",e.ViewRestoration="ViewRestoration",e.Translation="Translation",e.Notifications="Notifications",e.SendMessage="SendMessage",e.OMQ="OMQ",e.Recurly="Recurly",e.IndexedDb="IndexedDb",e}({})},55498:(e,t,o)=>{o.d(t,{Db:()=>k,XE:()=>w,_z:()=>M});var n=o(79599),a=o(29508),i=o(90485),r=o(4796),s=o(9035),l=o(36756),c=o(21858),u=o(96303),_=o(32301),d=o(4755),m=o(83957),p=o(17856),g=o(75456),b=o(42410),f=o(17549),v=o(15820),j=o(80777);const y=r.NW({messages:r.PV([r.E$([d.IG,r.NW({context:r.eu("1")})])])}),Y=r.NW({messages:r.PV([r.NW({status:r.ZE({error:1,fatal:1}),message:r.Yj,context:r.eu(1)})])}),h=[m.i,p.t,g.b],M=e=>(...t)=>(0,a.Fs)(s.zWK((({getAuthenticationInfo:e})=>e)),s.gFg(a.D_),s.TjK((0,a.L3)(i.Tj((e=>e.isBlocked)),i.WL((()=>!1)))),s.cy0((o=>o&&!h.includes(e)?l.ZmZ():(0,j.WD)(y,Y)((0,c.bn)("/um/chat/handle/"),{method:"POST",body:JSON.stringify({...(0,v.ls)(e,...t),context:"1"})}))),s.qE6(u.Tj((({messages:e})=>e[0].message))),s.TjK((({messages:[e]})=>e)),s.bKv((t=>(0,a.Fs)(t,(0,b.ON)(e),s.qE6((e=>u.U3(n.pG(e),500))))))),k=e=>(...t)=>(0,a.Fs)(s.zWK((({getAuthenticationInfo:e})=>e)),s.gFg(a.D_),s.cy0((()=>(0,j.WD)(r.L5,Y)((0,c.bn)("/um/chat/handle/"),{method:"POST",body:JSON.stringify({...(0,v.ls)(e,...t),context:"1"})}))),s.qE6(u.Tj((({messages:e})=>e[0].message))),s.TjK((()=>{}))),w=e=>{const t=(0,f.F)();return(0,_.hb)((o=>(0,a.Fs)(s.kAu(),s.bKv((({umdClient:t})=>t.request(e,...o))),s.qE6((e=>u.zj(e,500))),s.srj((e=>({...e,umdClient:t}))))),[e,t])}},57349:(e,t,o)=>{o.d(t,{F:()=>a,o:()=>i});var n=o(11328);let a=function(e){return e.Initial="initial",e.Connecting="connecting",e.Connected="connected",e.Disconnected="disconnected",e}({});const i=(0,n.n0)()},59193:(e,t,o)=>{o.d(t,{j8:()=>c,Bk:()=>_});var n=o(64916),a=o(60897),i=o(28811),r=o(63969);const s=(e,t)=>(0,i.YW)(t).with({type:"paragraph"},{type:"heading"},{type:"blockquote"},(t=>t.children.reduce(s,0===e.length?e:`${e}\n\n`))).with({type:"list"},(t=>`${e}${0===e.length?"":"\n\n"}${t.children.map((e=>s("",e))).map(((e,o)=>t.ordered?`${o+1}. ${e}`:`- ${e}`)).join("\n")}`)).with({type:"text"},(t=>`${e}${t.value}`)).with({type:"inlineCode"},(t=>`${e}${t.value}`)).with({type:"image"},(t=>{const o=t.title??"",n=t.alt??o;return`${e}${n}`})).with({type:"imageReference"},(t=>{const o=t.alt??"";return`${e}${o}`})).with({type:"break"},(()=>`${e}$\n`)).with({type:"listItem"},{type:"strong"},{type:"emphasis"},{type:"delete"},{type:"link"},{type:"linkReference"},(t=>t.children.reduce(s,e))).otherwise((()=>e));function l(e){var t;return(t=e,(0,r.Y)(t)).children.reduce(s,"")}const c=e=>{switch(e.type){case n.Go.Text:case n.Go.Notification:return e.textFormat===a.l.Markdown?l(e.body):e.body;case n.Go.Link:case n.Go.Upload:case n.Go.Voice:case n.Go.Location:case n.Go.Card:case n.Go.CardResponse:return e.body;case n.Go.CallEvent:case n.Go.CallOffer:return e.title;default:return""}},u=e=>t=>{switch(t.type){case n.Go.Text:case n.Go.CallOffer:case n.Go.CallEvent:case n.Go.Upload:case n.Go.Voice:return!0;case n.Go.Card:case n.Go.CardResponse:return"umm"===e;case n.Go.Notification:return t.representation===n.pR.Automated;default:return!1}},_=(u("umc"),u("umm"))},60764:(e,t,o)=>{o.d(t,{a:()=>d});var n=o(79599),a=o(29508),i=o(92900),r=o(94413),s=o(90485),l=o(5836),c=o(36514),u=o(45814);const _=(0,a.Fs)(c.kA(),c.bK((({hostWindow:e})=>c.BK((e=>(0,a.Fs)(r.TX((()=>e.document.location),n.iT),r.Tj(u.yM),i.Tj(s.Mr)))(e)))),c.x1(a.D_)),d=(e=5e3)=>(0,a.Fs)(c.kA(),c.bK((({hostWindow:t})=>(0,a.Fs)(c.ni().concat(c.mA(l.R(t,"popstate")),c.YP(e))))),c.ql(0),c.bK((()=>_)))},60897:(e,t,o)=>{o.d(t,{l:()=>n});let n=function(e){return e.PlainText="plain_text",e.Markdown="markdown_v1",e}({})},62151:(e,t,o)=>{o.d(t,{EK:()=>W,TD:()=>j});var n=o(29508),a=o(44669),i=o(4796),r=o(1804);const s=i.ZE({approved:null,in_appeal:null,pending:null,rejected:null,pending_deletion:null,deleted:null,disabled:null,paused:null,limit_exceeded:null,created:null,submitted:null,unknown:null,unsynced:null,error:null}),l=(i.NW({value:i.Yj}),i.NW({type:i.eu("HEADER"),format:i.KC([i.eu("IMAGE"),i.eu("VIDEO"),i.eu("DOCUMENT")]),example:(0,r.me)(i.NW({header_handle:i.PV([i.Yj])}))})),c=i.NW({type:i.eu("HEADER"),format:i.eu("TEXT"),example:(0,r.me)(i.NW({header_text:i.PV([i.Yj])})),text:i.Yj}),u=i.KC([c,l]),_=i.NW({type:i.eu("BODY"),text:i.Yj,example:(0,r.me)(i.NW({body_text:i.PV([i.YO(i.Yj)])}))}),d=i.NW({type:i.eu("FOOTER"),text:i.Yj}),m=i.NW({type:i.eu("QUICK_REPLY"),text:i.Yj}),p=i.NW({type:i.eu("PHONE_NUMBER"),text:i.Yj,phone_number:i.Yj}),g=i.NW({type:i.eu("URL"),text:i.Yj,url:i.Yj,example:(0,r.me)(i.PV([i.Yj]))}),b=i.KC([p,g]),f=i.NW({type:i.eu("FLOW"),text:i.Yj,flow_id:i.Yj}),v=i.NW({type:i.eu("BUTTONS"),buttons:i.KC([i.YO(m),i.YO(b),i.YO(f)])}),j=i.KC([u,_,d,v]),y=i.NW({type:i.ZE({"model-attribute":null}),model:i.Yj,attribute:i.Yj,fallback:(0,r.me)(i.Yj)}),Y=i.KC([i.NW({type:i.eu("media-link"),media_upload_id:i.ai}),i.Yj]),h=i.NW({type:i.eu("text"),text:i.KC([i.Yj,y])}),M=i.NW({type:i.eu("document"),document:i.NW({link:Y,filename:(0,r.me)(i.Yj)})}),k=i.NW({type:i.eu("image"),image:i.NW({link:Y})}),w=i.NW({type:i.eu("video"),video:i.NW({link:Y})}),E=i.KC([h,M,w,k]),N=i.NW({type:i.eu("header"),parameters:i.YO(E)}),C=i.NW({type:i.eu("text"),text:i.KC([i.Yj,y])}),T=i.NW({type:i.eu("body"),parameters:i.YO(C)}),z=i.NW({type:i.eu("button"),sub_type:i.eu("quick_reply"),index:i.ai,parameters:i.YO(i.NW({type:i.eu("payload"),payload:i.Yj}))}),O=i.NW({type:i.eu("button"),sub_type:i.eu("url"),index:i.Yj,parameters:i.YO(i.NW({type:i.eu("text"),text:i.Yj}))}),A=i.NW({type:i.eu("button"),sub_type:i.eu("flow"),index:i.eu("0"),parameters:i.YO(i.Vx)}),W=i.KC([N,T,z,O,A]),I=(i.NW({name:i.Yj,language:i.NW({policy:i.eu("deterministic"),code:i.Yj}),components:i.YO(W)}),i.ZE({campaigns:0,followup:0,unknown:0})),U=(i.NW({model:i.Yj,attribute:i.Yj,label:i.Yj}),i.NW({model:i.Yj,attribute:i.Yj})),F=(new i.ZU("WhatsAppPlaceholderModelMapping",(e=>(0,n.Fs)(e,U.is)),((e,t)=>{if((0,a.Kg)(e)){const t=e.split(".");if(i.PV([i.Yj,i.Yj]).is(t))return i.kX({model:t[0],attribute:t[1]})}return i.V2(e,t)}),(({model:e,attribute:t})=>`${e}.${t}`)),i.KC([i.eu("RED"),i.eu("YELLOW"),i.eu("GREEN"),i.eu("UNKNOWN")]));i.NW({id:r.x_,name:i.Yj,display_name:i.Yj,language:i.Yj,category:i.Yj,status:s,channel_id:r.x_,customer_id:r.x_,organization_id:r.x_,header_media_upload:(0,r.me)(i.ai),header_preview_url:(0,r.me)(i.Yj),default_message_components:i.YO(W),components:i.YO(j),context:I,quality_rating:F,error_message:(0,r.me)(i.Yj)})},62520:(e,t,o)=>{o.d(t,{FE:()=>i,YH:()=>a});var n=o(1804);let a=function(e){return e.New="new",e.Open="open",e.Pending="pending",e.Ended="ended",e}({});const i=(0,n.o7)(a);a.New,a.Open,a.Pending,a.Ended,a.Open,a.Pending,a.Ended},63504:(e,t,o)=>{o.d(t,{Dg:()=>p,tz:()=>_,wW:()=>d});var n=o(89160),a=o(96540),i=o(6442),r=o(18857),s=o(47415),l=o(55342),c=o(36514),u=o(81993);const _=()=>{const e=(0,i.A)();return(0,a.useMemo)((()=>({...e,$t:e.$t})),[e])},d=(e,t)=>(0,r.E)({locale:s.sn(e),defaultLocale:s.sn(s.Bh),messages:t,onError:e=>{if(e.code===n.lo.MISSING_TRANSLATION)return l.R.warn(e);l.R.error(e)}}),m=(0,r.E)({locale:"en-US",onError:u.lQ,defaultLocale:"en-US"}),p={intl$:c.of(m)}},64435:(e,t,o)=>{o.d(t,{N:()=>r});var n=o(44013);const a=(0,o(11328).n0)(),i=/{{([^\s]+?)}}/gi,r=(e,t=i)=>o=>i=>{const r=[],s=i.replaceAll(t,((t,n)=>{if(!e.includes(n))return r.push(a.InvalidPlaceholder(t)),t;const i=o[n];return void 0===i?(r.push(a.MissingPlaceholder(n)),t):i}));return n.Ci(r,s)}},64916:(e,t,o)=>{o.d(t,{Go:()=>l,MJ:()=>g,WK:()=>b,iY:()=>u,pR:()=>s,yk:()=>c});var n=o(4796),a=o(66080),i=o(1804),r=o(41504);let s=function(e){return e.System="system",e.Automated="automated",e}({}),l=function(e){return e.Text="message",e.Composite="composite",e.Card="card",e.CardResponse="card_response",e.CallOffer="call_offer",e.CallEvent="call_event",e.Event="event",e.Note="note",e.Edit="edit",e.Delete="delete",e.Upload="upload",e.Button="button",e.Buttons="buttons",e.Voice="voice",e.Link="link",e.Notification="notification",e.Location="location",e.Email="email",e.Unknown="unknown",e.WhatsAppTemplate="whatsapp_template",e.Order="order",e.Proactive="proactive",e}({}),c=function(e){return e[e.Sent=1]="Sent",e[e.Error=2]="Error",e[e.Delivered=3]="Delivered",e[e.Read=4]="Read",e[e.Buffered=5]="Buffered",e[e.Queued=6]="Queued",e[e.Deleted=7]="Deleted",e}({}),u=function(e){return e.Contact="contact",e.Operator="operator",e.System="system",e}({});const _=(0,i.vr)({type:(0,i.o7)(c),message:n.Yj},{error_code:(0,i.me)(n.ai),changed_at:(0,i.me)(a.X)});let d=function(e){return e.Email="email",e}({});const m=(0,i.o7)(d),p=n.KC([(0,i.AN)({type:n.eu(u.Operator)},{id:(0,i.me)(n.ai)}),(0,i.AN)({type:n.eu(u.Contact)},{id:(0,i.me)(n.ai)}),(0,i.AN)({type:n.eu(u.System)},{id:(0,i.me)(n.ai)})]),g=(0,r.K)("message",(0,i.AN)({id:n.Yj,sender:p,sent_at:n.Yj,marked_read_contact:n.zM,marked_read_operator:n.zM,can_have_state:n.zM},{part_id:n.ai,state:_,source:m})),b=e=>({id:e.id,uuid:e.uuid,sender:e.sender,sentAt:e.sent_at,partId:e.part_id,state:e.state,source:e.source,canBeUnreadMessage:e.can_have_state,marked_read_contact:e.marked_read_contact,marked_read_operator:e.marked_read_operator})},65166:(e,t,o)=>{o.d(t,{P:()=>r});var n=o(47419),a=o(21775),i=o(72677);const r=n.RR(n.Dz("auth_reauth",(({token:e,locale:t,widgetId:o,organizationId:n,external_token:a,conversation_id:i,verify:r})=>({um_widget_id:o,organization_id:n,conversation_id:i,locale:t,token:e,external_token:a,verify:r}))),n.xP(i.w,a.s))},70137:(e,t,o)=>{o.d(t,{JT:()=>r,Ql:()=>u,Su:()=>_,ht:()=>c,p0:()=>d,ts:()=>l});var n=o(4796),a=o(1804),i=o(64916);let r=function(e){return e.Declined="declined",e.Accepted="accepted",e.Started="started",e.Withdrawn="withdrawn",e.Answered="answered",e.CompletedSuccessful="completed_successful",e.CompletedFailed="completed_failed",e.CompletedNoContact="completed_no_contact",e}({});const s=(0,a.o7)(r),l=n.E$([i.MJ,(0,a.AN)({type:n.eu(i.Go.CallOffer),status:s,title:n.Yj,contact_token:n.Yj,room_sid:n.Yj,expires_in_seconds:n.ai},{contact_call_to_id:n.Yj,text:n.Yj})]),c=e=>({...(0,i.WK)(e),type:i.Go.CallOffer,status:e.status,expires_in_seconds:e.expires_in_seconds,text:e.text,title:e.title,room_sid:e.room_sid,contact_token:e.contact_token,contact_call_to_id:e.contact_call_to_id}),u=n.E$([i.MJ,(0,a.AN)({type:n.eu(i.Go.CallEvent),status:s,reference:n.Yj,title:n.Yj},{text:n.Yj,duration:n.ai,error:n.Yj})]),_=e=>({type:i.Go.CallEvent,...(0,i.WK)(e),reference:e.reference,status:e.status,text:e.text,duration:e.duration,error:e.error,title:e.title}),d=(e,{status:t,title:o,text:n,error:a,duration:i,sentAt:r})=>({...e,status:t,title:o,text:n,error:a,duration:i,answeredAt:r})},71387:(e,t,o)=>{o.r(t),o.d(t,{createMessenger:()=>b,getLegacyWindow:()=>j});var n=o(28985),a=o(68294),i=o(9903),r=o(79599),s=o(29508),l=o(62927),c=o(4796),u=o(57046),_=o(48100),d=o(88120),m=o(1804),p=o(81993),g=o(87181);const b=async(e,t,o)=>{if(function(e){const{userlike:t}=j(e);return Boolean(t&&"userlikeStartChat"in t)}(t))throw new Error("Userlike Messenger is already loaded. Cannot load it more than once when using the script loader.");return{api:await f(e,t,o),version:{id:0,status:n.n.Deprecated,deprecation:new Date("2020-08-01T00:00:00+01:00"),endOfLife:new Date("2022-08-01T00:00:00+01:00")}}},f=async(e,t,o)=>{const n=(0,g.createApi)({...e,requestedVersion:0},t,o),r=k(t),c=l.O(null)(),m=v((()=>c.read())),p=j(t);return p.userlike={...p.userlike,...m},n.mount().subscribe((async e=>{if("error"===e.kind)throw c.write(null)(),new Error(e.error);if(null===e.value)return void c.write(null)();const o=e.value;return c.write(o)(),r&&await o.setVisibility({button:!1,notifications:!1,main:!0}),function(e){const t=E("userlikeReady",e);if(null===t)return;t()}(t),function(e){const t=E("userlikeRemoteReady",e);if(null===t)return;t()}(t),function(e,t){const o=E("userlikeButtonHandler",t);if(null===o)return;(0,s.Fs)(u.H(e.state$),_.T((({state:e})=>e!==a.B.Hidden)),d.F()).subscribe((e=>o(e)))}(o,t),function(e,t){const o=E("userlikeBadgeHandler",t);if(null===o)return;(0,s.Fs)(u.H(e.state$),_.T(i.a),d.F()).subscribe((e=>o(e)))}(o,t),function(e,t){const o=k(t);o&&w(t,(()=>e.maximize()))}(o,t),m})),m},v=e=>({version:0,userlikeStartChat:M("userlikeStartChat",(()=>{e()?.maximize().catch(p.lQ)})),userlikeQuitChat:M("userlikeQuitChat",(()=>{e()?.minimize().catch(p.lQ)})),userlikeRequestOperatorChat:M("userlikeRequestOperatorChat",(t=>{e()?.__unstableStartConversationWithOperator(t).catch(p.lQ)})),setData:M("setData",(t=>{const o=e();null!==o&&function(e,t){const o=(0,s.Fs)(y.decode(t),r.qE(m.oh));if(r.OC(o))throw new Error(o.left);const{user:n,custom:a}=o.right;a&&e.setCustomData(a).catch(p.lQ);n&&e.setContactInfo(n).catch(p.lQ)}(o,t)})),userlikeShowButton:M("userlikeShowButton",(()=>{e()?.setVisibility({button:!0,notifications:!0,main:!0}).catch(p.lQ)})),userlikeHideButton:M("userlikeHideButton",(()=>{e()?.setVisibility({button:!1,notifications:!1,main:!0}).catch(p.lQ)})),userlikeChatState:M("userlikeChatState",(()=>{const t=e();if(null===t)return"Offline";const{state:o}=t.getState();switch(o){case a.B.Hidden:return"Offline";case a.B.Minimized:return"ChatMinimized";case a.B.Maximized:return"Chat"}})),userlikeUpdateAPI:h("userlikeUpdateAPI"),userlikeRemoteApiModeNormal:h("userlikeRemoteApiModeNormal"),userlikeRemoteApiModeRegister:h("userlikeRemoteApiModeRegister"),userlikeRemoteApiModeProactivePassive:h("userlikeRemoteApiModeProactivePassive"),userlikeRemoteApiModeProactivePassiveAndRegister:h("userlikeRemoteApiModeProactivePassiveAndRegister"),userlikeRemoteApiResetState:h("userlikeRemoteApiResetState")});function j(e){return(0,s.Mi)(e)}const y=c.OH({custom:c.g1(c.Yj,c.L5),user:c.OH({name:c.Yj,email:c.Yj})});function Y(e){console.warn(`Deprecation warning: ${e} is not supported anymore.`)}function h(e){return M(e,p.lQ)}function M(e,t){let o=!1;return(...n)=>(o||(o=!0,Y(e)),t(...n))}const k=e=>null!=e.document.getElementById("userlikeCustomTab"),w=(e,t)=>{const o=e.document.getElementById("userlikeCustomTab");o?.addEventListener("click",(()=>{t()}))};function E(e,t){const o=j(t),n=o[e]??o.userlike?.[e];return"function"==typeof n?(Y(e),n):null}},71829:(e,t,o)=>{o.d(t,{a:()=>n});const n=(0,o(58136).VP)("@ul/umm/chat_state/CLEAR_COMPOSITION")},72677:(e,t,o)=>{o.d(t,{w:()=>s});var n=o(4796),a=o(73441),i=o(47419);const r=n.NW({session_id:n.Yj,token:n.Yj,uuid:n.Yj,contact:a.wL,umm_version:n.ai}),s=i.RV("auth_success_contact",r)},73033:(e,t,o)=>{o.d(t,{_:()=>i,d:()=>a});var n=o(1804);let a=function(e){return e.None="none",e.Curls="curls",e.Stripes="stripes",e.Waves="waves",e}({});const i=(0,n.o7)(a)},73441:(e,t,o)=>{o.d(t,{QR:()=>b,wL:()=>v});var n=o(4796),a=o(1804),i=o(62151);const r=n.ZE({import:0,human:0,contact:0});n.NW({id:a.x_,template_name:n.Yj,sent_at:n.Yj,template_placeholders:n.YO(i.EK),channel_id:a.x_,name:n.Yj,combined_state:n.ZE({failed:null,read:null,delivered:null,sent:null,pending:null,retry:null})});o(28811);const s=n.ZE({f:null,m:null,d:null});var l=o(27328),c=o(47415),u=o(26530),_=o(83788);let d=function(e){return e.Mr="mr",e.Ms="ms",e.Dr="pr",e.Prof="prof",e}({});const m=n.OH({name:(0,a.me)(n.Yj),email:(0,a.me)(n.Yj),phone_number:(0,a.me)(n.Yj),mobile_number:(0,a.me)(n.Yj),city:(0,a.me)(n.Yj),street:(0,a.me)(n.Yj),instagram_username:(0,a.me)(n.Yj),country:(0,a.me)(l.Mb),salutation:(0,a.me)((0,a.o7)(d)),gender:(0,a.me)(s),external_customer_id:(0,a.me)(n.Yj),company:(0,a.me)(n.Yj),whatsapp_campaign_subscriptions:(0,a.me)(n.YO(n.Yj)),locale:(0,a.me)(c.V9)}),p=n.OH({custom_field_data:_.$c}),g=n.E$([m,p]),b=(n.ZE(m.props),n.ZE({name:1,email:1,company:1,phone_number:1,mobile_number:1,external_customer_id:1})),f=n.E$([g,n.OH({contact_by_email:(0,a.me)(n.zM),contact_by_phone:(0,a.me)(n.zM),contact_by_userlike_channels:(0,a.me)(n.zM),contact_by_userlike_messenger:(0,a.me)(n.zM),iso:(0,a.me)(n.ai),override:(0,a.me)(n.ai),type:(0,a.me)(n.ai),url_facebook:(0,a.me)(n.Yj),url_googleplus:(0,a.me)(n.Yj),url_linkedin:(0,a.me)(n.Yj),url_profile_picture:(0,a.me)(n.Yj),url_twitter:(0,a.me)(n.Yj),username:(0,a.me)(n.Yj),channel_email_address:(0,a.me)(n.Yj)})]),v=n.E$([(0,a.AN)({id:n.ai},{is_blocked:n.zM,first_message_sent_at:(0,a.me)(n.Yj),last_message_sent_at:(0,a.me)(n.Yj),conversation_count:n.ai,locale:c.V9,verified:(0,a.me)(n.zM),verified_external_token_subject:(0,a.me)(n.Yj),company:(0,a.me)(n.Yj),position:(0,a.me)(n.Yj),whatsapp_id:(0,a.me)(n.Yj),whatsapp_campaign_subscriptions:(0,a.me)(n.YO(n.Yj)),whatsapp_campaign_subscriptions_full:(0,a.me)(n.YO(n.NW({setup_id:n.ai,time:n.Yj,source:r}))),channel_type:u.Dg}),f])},74961:(e,t,o)=>{o.d(t,{createModule:()=>g,createReducer:()=>b,mkEpic:()=>v,mkEpicMiddleware:()=>j,mkReducer:()=>f,withDependencies:()=>p});var n=o(58136),a=o(29508),i=o(23546),r=o(43352),s=o(64833),l=o(16988),c=o(78083),u=o(88915),_=o(84224),d=o(55342),m=o(81993);const p=(e,t)=>(o,n,a)=>e(o,n,t(a)),g=a.D_,b=(e,t)=>n.vy(e,t),f=e=>(0,i.HY)(e.reduce(((e,t)=>{const{id:o,reducer:n}=t;return void 0!==n&&(e[o]=n),e}),{})),v=e=>{const t=(0,_.n)(...e.map((e=>e.epic)).filter(m.O9));return(e,o,n)=>(0,a.Fs)(t(e,o,n),c.W((e=>(d.R.error("Caught error in root epic\n",e),s.w))))},j=(e,t)=>{const o=(0,r.C)({dependencies:t});return{middleware:o,start:()=>{const t=new l.B7;return o.run(((o,n,i)=>(0,a.Fs)(e(o,n,i),u.Q(t)))),()=>{t.next()}}}}},75075:(e,t,o)=>{o.d(t,{$:()=>n,h:()=>a});const n="@ul/chat-state";let a=function(e){return e[e.Composing=0]="Composing",e[e.NotComposing=1]="NotComposing",e}({})},75456:(e,t,o)=>{o.d(t,{b:()=>s});var n=o(47419),a=o(29965),i=o(77402),r=o(80427);const s=n.RR(n.Dz("conversation_get",(e=>({conversation_id:e}))),n.xP(a.e,r.u,i.b))},77402:(e,t,o)=>{o.d(t,{b:()=>a});var n=o(4796);const a=o(47419).RV("permission_failure",n.NW({}))},79754:(e,t,o)=>{o.d(t,{V:()=>i,e:()=>a});var n=o(1804);let a=function(e){return e.Offline="offline",e.Unavailable="unavailable",e.Available="available",e}({});const i=(0,n.o7)(a)},80427:(e,t,o)=>{o.d(t,{u:()=>a});var n=o(4796);const a=o(47419).RV("reference_invalid",n.NW({data:n.g1(n.Yj,n.YO(n.Yj)),model_class:n.Yj,value:n.L5}))},80777:(e,t,o)=>{o.d(t,{WD:()=>p});var n=o(79599),a=o(29508),i=o(28811),r=o(9035),s=o(96303),l=o(88370),c=o(1804),u=o(81993);const _=(e,t,o=u.lQ)=>(n,i)=>(0,a.Fs)(r.kAu(),r.TjK((({http:o})=>o.fetch({bodyParser:e,errorBodyParser:t}))),r.bKv((e=>e(n,{credentials:"omit",mode:"cors",...i,headers:e=>{o(e),i?.headers?.(e)}})))),d=(_((()=>r.pGT(void 0)),(()=>r.pGT(void 0))),e=>r.lIp((0,l.u9)((()=>e.json())))),m=_(d,d,(e=>{e.set("Accept","application/json"),e.set("Content-Type","application/json")})),p=(e,t)=>g((0,a.L3)(e.decode,n.qE(c.oh)),(0,a.L3)(t.decode,n.qE(c.oh))),g=(e,t)=>(...o)=>(0,a.Fs)(m(...o),r.qE6((e=>(0,i.YW)(e).with((0,u.Lt)(s.fk.NetworkError),s.fk.NetworkError).with((0,u.Lt)(s.fk.ParserError),s.fk.ParserError).with((0,u.Lt)(s.fk.ResponseError),(({body:e,status:o})=>s.fk.ResponseError({body:(0,a.Fs)(e,n.cy((0,a.L3)(t,n.qE((e=>s.fk.ParserError({message:`Could not parse error body using the provided errorBodyCodec.\n${e}`})))))),status:o}))).exhaustive())),r.JQy((t=>(0,a.L3)(e,n.qE((e=>s.fk.ParserError({message:`Could not parse body using the provided bodyCodec.\n${e}`}))))(t))))},81899:(e,t,o)=>{o.d(t,{Hh:()=>f,JJ:()=>v,JN:()=>j,VA:()=>m,Z2:()=>s,ay:()=>d,d_:()=>u,dp:()=>c,nn:()=>r,oL:()=>y,pY:()=>l,ro:()=>p,s0:()=>g,s_:()=>b,tk:()=>i});var n=o(38835),a=o(8645);const i=new Date(2020,0,1),r=e=>e.replace(/\//g," / ").replace(/_/g," "),s=1e3,l=60*s,c=60*l,u=24*c,_=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([.,]\d+(?!:))?)?(\17[0-5]\d([.,]\d+)?)?([zZ]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,d=e=>((0,n.Ue)()||(0,a.V)(_.test(e),"Cannot convert %s to Date, it does not conform to ISO-8601 format.",e),new Date(e)),m=(e,t)=>{const o=new Date(e.getTime()),n=o.getTimezoneOffset()/60+t;return o.setHours(o.getHours()+n),o},p=(e,t)=>e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear(),g=(e,t)=>e.getFullYear()===t.getFullYear(),b=e=>t=>e.formatDate(t,{hour:"numeric",minute:"numeric"}),f=e=>(t,o)=>{const n=t.getTime(),a=o.getTime();if(p(t,o)||a<n)return b(e)(t);if(p(Y(-1,o),t))return e.formatRelativeTime(-1,"day",{numeric:"auto"});const i=new Date(n);o.setHours(0,0,0,0),i.setHours(0,0,0,0);const r=Math.floor((o.getTime()-i.getTime())/u);return e.formatDate(t,r<7?{weekday:"long"}:void 0)},v=e=>(t,o)=>p(t,o)?b(e)(t):e.formatDate(t),j=e=>{const t=Math.floor(e/l),o=Math.floor(e%l/s);return[`0${t}`.slice(-2),`0${o}`.slice(-2)].join(":")},y=e=>(t,o)=>e.formatDate(t,o?{weekday:"long",month:"long",day:"numeric",year:"numeric"}:{weekday:"long",month:"long",day:"numeric"});function Y(e,t){const o=new Date(t.getTime());return o.setDate(t.getDate()+e),o}},81993:(e,t,o)=>{o.d(t,{$y:()=>M,B4:()=>g,FF:()=>b,L$:()=>k,L5:()=>j,Lt:()=>w,NF:()=>m,Nf:()=>v,O9:()=>h,S8:()=>f,Sp:()=>p,lQ:()=>d,nF:()=>Y});var n=o(98963),a=o(29508),i=o(16081),r=o(53633),s=o(80369),l=o(51266),c=o(38483),u=o(28811),_=o(6540);const d=()=>{};(0,a.L3)(s.A,l.A);const m=(e="$ul$")=>`${e}${(0,_.yT)()}`,p=e=>t=>(0,c.A)(t,e)?t:e,g=e=>{let t=null;const o=(...o)=>{if(null===t){const n=e(...o);return t={args:o,result:n},n}if(o.length===t.args.length&&o.every(((e,o)=>t.args[o]===e)))return t.result;const n=e(...o);return t={args:o,result:n},n};return o.reset=()=>{t=null},o};r.qE(i._k);function b(e,t){return t.filter((t=>!e.includes(t)))}function f(e){return e.reduce(((e,t)=>(e[t.id]=t,e)),{})}function v(e){return e.reduce(((e,t)=>(e[t.uuid]=t,e)),{})}function j(e,t=1/0,o=e=>Math.min(2**e*2e3,6e4)){return y(e,t,0,o)}function y(e,t,o,n){return new Promise(((a,i)=>{e().then(a).catch((r=>{o!==t?setTimeout((()=>{y(e,t,o+1,n).then(a).catch(i)}),n(o)):i(r)}))}))}const Y=(e,t)=>{let o,n;return function a(...i){const r=Date.now();o=clearTimeout(o),!n||r-n>=t?(e(...i),n=r):o=setTimeout(a.bind(null,...i),t-(r-n))}};function h(e){return void 0!==e}function M(e){return null!==e}const k=e=>t=>{const o=t.indexOf(e);return-1===o?(0,a.Fs)(t,n.BC(e)):n.b7(o,t)},w=e=>({tag:e.tag,value:u.zJ.select()})},83610:(e,t,o)=>{o.d(t,{$6:()=>d,AO:()=>k,Ax:()=>W,Ej:()=>f,G1:()=>Y,GJ:()=>z,Lf:()=>g,MQ:()=>v,Nk:()=>R,O:()=>x,Q3:()=>A,QU:()=>I,Yc:()=>E,Zc:()=>U,_E:()=>y,fA:()=>p,fF:()=>m,fs:()=>u,hE:()=>L,hJ:()=>C,jf:()=>P,kf:()=>h,nJ:()=>F,oJ:()=>S,q9:()=>M,qg:()=>b,s3:()=>N,tP:()=>_,uD:()=>w,xX:()=>O,xx:()=>j,yq:()=>T});var n=o(79599),a=o(29508),i=o(90485),r=o(4796),s=o(87562);const{wrap:l,unwrap:c}=(0,s.V)(),u=l("en"),_=l("de"),d=l("es"),m=l("fr"),p=l("it"),g=l("nl"),b=l("pl"),f=l("pt"),v=l("ru"),j=l("tr"),y=l("zh"),Y=l("ja"),h=l("da"),M=l("ro"),k=l("sv"),w=l("bg"),E=l("et"),N=l("fi"),C=l("el"),T=l("lv"),z=l("lt"),O=l("sk"),A=l("sl"),W=l("cs"),I=l("hu"),U=l("nb"),F=l("id"),P=l("uk"),R=l("ko"),L=l("ar"),x=(l("th"),new r.ZU("Language",(e=>r.Yj.is(e)&&G.test(e)),((e,t)=>(0,a.Fs)(r.Yj.validate(e,t),n.cy((o=>G.test(o)?r.kX(l(o)):r.V2(e,t))))),c)),G=/^[a-z]{2}$/,S=c;(0,a.L3)(x.decode,i.Mr)},83788:(e,t,o)=>{o.d(t,{$c:()=>b});var n=o(4796),a=o(1804);const i=n.NW({uid:n.Yj,label:n.Yj,default:n.zM}),r=n.ZE({custom_field:0,campaign_field:0,default_field:0}),s=n.NW({uid:n.Yj,source:r,is_editable:n.zM,label:n.Yj,label_translated:n.Yj,locale:n.Yj,target:n.ZE({conversation:null,contact:null}),unique_allowed:n.zM,translations:n.g1(n.Yj,n.NW({label:n.Yj,options:(0,a.lq)(n.g1(n.Yj,n.Yj))})),options:(0,a.lq)(n.YO(n.NW({label:n.Yj,uid:n.Yj,default:n.zM})))}),l=(n.ZE({text:null,email:null,phone:null,number:null,select:null,"multi-select":null,location:null}),n.E$([s,n.NW({type:n.eu("text"),max_length:n.ai,min_length:n.ai})])),c=n.E$([s,n.NW({type:n.eu("email")})]),u=n.E$([s,n.NW({type:n.eu("phone")})]),_=n.E$([s,n.NW({type:n.eu("number"),decimals:n.ai})]),d=n.E$([s,n.NW({type:n.eu("select"),options_translated:n.YO(i)})]),m=n.E$([s,n.NW({type:n.eu("location"),options_translated:n.YO(i)})]),p=n.E$([s,n.NW({type:n.eu("multi-select"),options_translated:n.YO(i)})]),g=(n.KC([l,_,d,p,u,c,m]),n.KC([n.ch,n.Yj,n.YO(n.Yj)])),b=(n.KC([n.Yj,n.YO(n.Yj)]),n.g1(n.Yj,g)),f=n.ZE({contact:null,conversation:null}),v=n.NW({label:n.Yj,default:n.zM,uid:n.Yj}),j=n.g1(n.Yj,n.NW({label:n.Yj,options:(0,a.lq)(n.g1(n.Yj,n.Yj))})),y=n.NW({type:n.eu("select"),target:f,label:n.Yj,options:n.YO(v),translations:j,locale:n.Yj}),Y=(n.NW({type:n.eu("location"),target:f,label:n.Yj,options:n.YO(v),translations:j}),n.NW({type:n.eu("multi-select"),target:f,label:n.Yj,options:n.YO(v),translations:j,locale:n.Yj})),h=n.NW({type:n.eu("text"),target:f,label:n.Yj,min_length:n.ai,max_length:n.ai,translations:j,locale:n.Yj}),M=n.NW({type:n.eu("number"),target:f,label:n.Yj,decimals:n.ai,translations:j,locale:n.Yj}),k=n.KC([y,Y,h,M]);n.NW({field:k,hidden:n.zM,important:n.zM})},83957:(e,t,o)=>{o.d(t,{i:()=>i});var n=o(47419),a=o(47006);const i=n.RR(n.Dz("contact_get",(()=>({}))),a.v)},84224:(e,t,o)=>{o.d(t,{n:()=>a});var n=o(16148);const a=(...e)=>(t,o,a)=>n.h(...e.map((e=>e(t,o,a))))},84709:(e,t,o)=>{o.d(t,{D9:()=>g,IH:()=>m,Ic:()=>v,KZ:()=>y,Tz:()=>_,VT:()=>Y,g8:()=>b,gt:()=>j,o5:()=>f,pt:()=>p,rW:()=>M,wJ:()=>d,wo:()=>h});var n=o(79599),a=o(29508),i=o(58136),r=o(8645),s=o(15820);const l="@ul/umd-client/in",c="@ul/umd-client/out",u=`${l}/-unknown-`;function _(e){let t;return t="receivers"in e?e.receivers[0].incomingType:e.incomingType,`${l}/info/${t}`}const d=e=>e.receivers[0].incomingType;function m(e,...t){const o=(0,s.zE)(e)?"info":"req",n=(0,s.zE)(e)?e.infoType:e.requestType,a=(0,s.ls)(e,...t);return{type:`${c}/${o}/${n}`,payload:{options:t,sent:a}}}const p=e=>{const t=(0,s.zE)(e)?"info":"req",o=(0,s.zE)(e)?e.infoType:(0,s.U9)(e)?e.requestType:null;return(0,r.V)(null!==o,"Unexpected prototype definition."),`${c}/${t}/${o}`},g=e=>e.type.startsWith(c);function b(e){const[t]=e.receivers;return(0,i.VP)(_(t),(e=>(t,o={})=>e(t,{original:void 0,...o})))}function f(e){return{type:u,payload:e.body,status:e.status,message:e.message,context:e.context}}const v=(0,i.VP)("@ul/umd-client/connected"),j=(0,i.VP)("@ul/umd-client/disconnected"),y=(0,i.VP)("@ul/umd-client/timeout"),Y=(0,i.VP)("@ul/umd-client/clear-timeout"),h=(0,i.VP)("@ul/umd-client/CONNECTION_STATE_CHANGED",(e=>t=>e(t))),M=(e,t)=>{const o=_(e),i=e.receive(t);return(0,a.Fs)(i,(0,n.Tj)((e=>({type:o,payload:e.body,meta:{original:t,status:e.status,message:e.message,context:e.context}}))))}},87181:(e,t,o)=>{o.r(t),o.d(t,{createApi:()=>Y,createMessenger:()=>y,defaultState:()=>j});var n=o(68294),a=o(28985),i=o(79599),r=o(29508),s=o(62927),l=o(90485),c=o(44669),u=o(87237),_=o(72430),d=o(48100),m=o(3046),p=o(36514),g=o(44395),b=o(60764),f=o(81993),v=o(21258);const j={state:n.B.Hidden,conversations:[],contact:{name:null,email:null,company:null,external_customer_id:null,mobile_number:null,phone_number:null}},y=async(e,t,o)=>({api:Y({...e,requestedVersion:1},t,o),version:{id:2,status:a.n.Supported,deprecation:new Date("2025-08-01T00:00:00+01:00"),endOfLife:new Date("2026-08-01T00:00:00+01:00")}}),Y=(e,t,o)=>{const n=(0,b.a)(500);return{version:2,mount:(a={})=>(0,r.Fs)(n,p.F,p.Pg((()=>(0,g.p)(e.widget_key,t,o.fetchWidgetInfo))),p.dE(i.nZ(c.Eq,l.nZ({equals:(e,t)=>e.widget_key===t.widget_key&&Object.keys(m.LQ.props).every((o=>{const n=(0,r.Mi)(o);return e[n]===t[n]}))}))),p.j2(l.hV(p.v1)((n=>(0,r.Fs)(h(e,t,o,n,a),p.rR)))),p.Tj(l.AU((()=>({kind:"success",value:null,reason:"Widget router resolved to no widget"})),(e=>({kind:"success",value:e})))),(e=>e({hostWindow:t})),d.T(i.WL((e=>({kind:"error",error:e}))))),__unstableConsumeToken:(0,v.UC)(e,t,o)}},h=(e,t,o,n,a)=>new u.c((c=>{const u=new _.t(j),d=s.O(l.dv)(),m=s.O(l.dv)();return(0,v.Or)(t,e,o,a,n,u,m,d)().then((e=>{c.next((0,r.Fs)(e,i.Tj((()=>(0,v.Sz)(d,u)))))})).catch(f.lQ),()=>{(0,v.vs)(t,m,d)()}}))},87284:(e,t,o)=>{o.d(t,{runMessenger:()=>V});var n=o(45438),a=o(79599),i=o(29508),r=o(64776),s=o(28811),l=o(21858),c=o(1804),u=o(55342);var _=o(53084);const d=e=>{return(0,i.Fs)((t=function({organizationId:e,chatWidgetId:t,uuid:o}){return`https://${(0,l._$)().DOMAIN_API}/api/um/chat/button/check/?organization_id=${e}&chat_widget_id=${t}${o?`&uuid=${o}`:""}`}(e),r.TX((async()=>await fetch(t,{credentials:"omit",headers:{Accept:"application/json"},method:"GET",mode:"cors"}).then((e=>e.json()))),(e=>e instanceof Error?e.message:"Unknown error"))),r.qE((e=>_.d.Unknown({message:`Button check request failed:\n${e}`}))),r.Q5((0,i.L3)(_.b.decode,a.qE((0,c.uk)(u.I.ButtonCheck)),a.qE((e=>_.d.Unknown({message:`Button check request failed:\n${e}`}))),a.cy(m))));var t};const m=e=>(0,s.YW)(e).with({uuid_invalid:!0},(e=>a.kb(_.d.UuidInvalid({response:e})))).with({show_button:!1},(()=>a.kb(_.d.HideButton()))).with({umm_version:s.P.when((e=>!(0,l.K4)(e)))},(()=>a.kb(_.d.VersionMismatch()))).otherwise((e=>a.pG(e)));var p=o(16988),g=o(64833),b=o(38951),f=o(8927),v=o(57046),j=o(78083),y=o(43938),Y=o(48100),h=o(30972),M=o(65612),k=o(5923),w=o(88120),E=o(29610),N=o(74611),C=o(92738),T=o(76723),z=o(7560),O=o(9709),A=o(6926),W=o(88288),I=o(4755);function U({socketUrl:e,socketPath:t,pingInterval:o=3e4,inactivityTimeout:n=45e3}){const a=new p.B7,r=new p.B7,s=(0,O.K)({url:`${e}${t}`,openObserver:a,closeObserver:r}),l=(0,i.Fs)(s,j.W((()=>g.w))),c=(0,i.Fs)(a,A.QK(r),A.vZ,A.s(1),A.nx((()=>A.vZ((0,i.Fs)(b.Y(o),y.Z(0))))),W.cy((()=>W.L9((()=>s.next(1))))),A.wy()),u=(0,i.Fs)(a,Y.T((()=>I.p$.Connected()))),_=(0,i.Fs)(l,h.w(n),Y.T((()=>I.p$.ClearTimeout())),y.Z(I.p$.Timeout()),M.L(),k.i(1),w.F(((e,t)=>e.tag===t.tag))),d=(0,i.Fs)(l,E.p((e=>2!==e)),Y.T((e=>I.p$.Message({message:e})))),m=(0,i.Fs)(s,N.w(),j.W((e=>"close"===e.type?g.w:f.of(I.p$.Error({errorType:I.wY.Unknown}))))),U=(0,i.Fs)(l,N.w(),C.M({complete:()=>{a.complete(),r.complete()}})),F=(0,i.Fs)(r,Y.T((({code:e})=>I.p$.Disconnected({code:e})))),P=(0,i.Fs)(v.H([u,_,d,m,F,U,c]),T.U());return{event$:(0,i.Fs)(P,z.u()),emit(e){s.next(e)}}}var F=o(69656),P=o(4796),R=o(81899),L=o(88370),x=o(3046),G=o(1772);const S=P.KC([x.fE,G.lL]),D=(P.NW({widget_key:P.Yj,config:S}),()=>{return{fetchWidgetInfo:(e=new n.E,t=>(0,i.Fs)((0,L.u9)((async()=>e.ensureQueryData({queryKey:[t],queryFn:()=>(0,F.HS)(t,`https://${(0,l._$)().URL_BUCKET_WIDGETS}`),staleTime:5*R.pY}))),r.cy((e=>(0,i.Fs)(S.decode(e),a.Jr("config"),a.oI("widgetKey",(()=>P.Yj.decode(t))),a.qE((0,c.uk)(u.I.Loader)),r.Mr))))),buttonCheckRequest:d,createConnection:U};var e});var $=o(82398),B=o(81993);var K=o(71387);const q=e=>({enableDebug(){try{u.R.setLevel("debug"),u.R.enable()}catch(e){console.warn("Cannot set debug mode")}},disableDebug(){try{u.R.disable()}catch(e){console.warn("Cannot set debug mode")}},createSignal:()=>function(){const e=[];return(0,i.Mi)({on:t=>{const o=e.push(t)-1;return()=>{e.splice(o,1)}},off:t=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)},emit:t=>e.forEach((e=>{e(t)})),dispose:()=>{e.splice(0,e.length)}})}(),async enableWidgetPreview({iframe:e,signal:t,ready:n,noPreviewText:a}){try{const{enableWidgetPreview:i}=await(0,B.L5)((()=>Promise.all([o.e(468),o.e(510),o.e(772),o.e(228)]).then(o.bind(o,63534))));i({iframe:e,signal:t,ready:n,noPreviewText:a})}catch(e){u.R.warn("Widget preview could not be enabled",e)}},deleteCookies(){e.userlikeQuitChat()}}),V=async({widget_key:e},t,n)=>{const a=((e,t=D())=>function(n){return async a=>{switch(n){case 0:{const{createMessenger:n}=await(0,B.L5)((()=>Promise.resolve().then(o.bind(o,71387)))),i=await n(a,e,t);return $.kX(i)}case 1:{const{createMessenger:n}=await(0,B.L5)((()=>o.e(828).then(o.bind(o,5828)))),i=await n(a,e,t);return $.kX(i)}case 2:{const{createMessenger:n}=await(0,B.L5)((()=>Promise.resolve().then(o.bind(o,87181)))),i=await n(a,e,t);return $.kX(i)}default:return $._q("Unknown API version.")}}})(t,(e=>{const t=D();return{buttonCheckRequest:e.buttonCheckRequest??t.buttonCheckRequest,fetchWidgetInfo:e.fetchWidgetInfo??t.fetchWidgetInfo,createConnection:e.createConnection??t.createConnection}})({fetchWidgetInfo:n}));return{load:async o=>{try{const n=await a(0)({widget_key:e});if("error"===n.kind)throw new Error(n.error);const{value:{api:i}}=n;if(!i)throw new Error("Unexpected error while initializing the legacy API");Object.assign((0,K.getLegacyWindow)(t).userlike??{},q(i)),o?.ready?.()}catch(e){o?.onError?.(e)}},createMessenger:a,widget_key:e,config:void 0}}},87562:(e,t,o)=>{o.d(t,{V:()=>a});var n=o(29508);const a=()=>({wrap:n.Mi,unwrap:n.Mi})},88019:(e,t,o)=>{o.d(t,{$:()=>s,lW:()=>l,vB:()=>c});var n=o(25508),a=o(38835),i=o(32711),r=o(51186);const s=i.zj,l=(0,n.Mz)([i.zj,(e,t)=>t],((e,{key:t,placeholders:o})=>{const n=e[t];return(0,a.Ue)()||null!=n?(0,r.z)(n,o):"MISSING_TRANSLATION"})),c=e=>t=>l(t,e)},88370:(e,t,o)=>{o.d(t,{TX:()=>i,e6:()=>l,u:()=>s,u9:()=>r});var n=o(79599),a=o(64776);const{TX:i}=a,r=e=>i(e,(e=>n.iT(e).toString())),s=e=>i(e,n.iT),l=async e=>{const t=await e();if(n.OC(t))throw t.left;return t.right}},89498:(e,t,o)=>{o.d(t,{DN:()=>L,GL:()=>R});var n=o(4796),a=o(83610);const{_E:i,Lf:r,fs:s,fF:l,tP:c,fA:u,G1:_,O:d,qg:m,Ej:p,MQ:g,$6:b,uD:f,kf:v,Yc:j,s3:y,hJ:Y,yq:h,GJ:M,q9:k,AO:w,xX:E,Q3:N,Ax:C,QU:T,xx:z,nJ:O,jf:A,Nk:W,Zc:I,hE:U}=a,F=n.NW({translation:n.Yj,source_lang:d,target_lang:d,auto_detected:n.zM}),P=n.e0(F),R=n.e0(n.E$([F,n.NW({id:n.ai,msgid:n.Yj,conversation_id:n.ai})])),L=n.KC([R,P])},92658:(e,t,o)=>{o.d(t,{L:()=>a});const n=(0,o(64435).N)(["operator_name","channel_name","name","skin_tone","call_starting_time","call_duration","authentication_title","continue_conversation_button","group","number"]),a=(e,t)=>n(t)(e).right},96303:(e,t,o)=>{o.d(t,{CE:()=>_,Th:()=>d,Tj:()=>m,U3:()=>c,fk:()=>l,zj:()=>u});var n=o(11328),a=o(79599),i=o(29508),r=o(28811),s=o(81993);const l=(0,n.n0)(),c=(e,t)=>l.ResponseError({body:e,status:t}),u=(e,t)=>l.ResponseError({body:a.pG(e),status:t}),_=(e,t)=>o=>(0,r.YW)(o).with((0,s.Lt)(l.ResponseError),(({body:o})=>(0,i.Fs)(o,a.Tj(e),a.WL(t)))).with(r.zJ._,t).exhaustive(),d=e=>t=>(0,i.Fs)(t,_(i.D_,e)),m=e=>t=>(0,r.YW)(t).with((0,s.Lt)(l.NetworkError),l.NetworkError).with((0,s.Lt)(l.ParserError),l.ParserError).with((0,s.Lt)(l.ResponseError),(({status:t,body:o})=>(0,i.Fs)(o,a.Tj(e),(e=>l.ResponseError({body:e,status:t}))))).exhaustive();l.ResponseError({status:400,body:a.pG("Bad Request")}),l.ResponseError({status:401,body:a.pG("Unauthorized")}),l.ResponseError({status:404,body:a.pG("Not found")})},97405:(e,t,o)=>{o.d(t,{CO:()=>g,a6:()=>v,tl:()=>E,o6:()=>y});var n=o(4796),a=o(67843),i=o(1804),r=o(83610),s=o(47415),l=o(79754);const c=n.NW({id:n.ai,name:n.Yj});(0,i.AN)({id:n.ai,name:n.Yj,description:(0,i.me)(n.Yj),size:n.ai,url_image:n.Yj,is_locked:n.zM},{url_call_app_background_image:(0,i.me)(n.Yj)});var u=o(27328);const _=n.ZE({all:0,map:0,hide:0}),d=n.NW({id:n.ai,name:n.Yj});n.NW({id:n.ai,name:n.Yj,lang:r.O,locale:s.V9,country:u.Mb,timezone:n.Yj,operator_count:n.ai,um_widget_count:n.ai,is_default:n.zM,delete_storage_enabled:n.zM,delete_storage_after:n.ai,audit_log_addon:n.zM,audit_log_email:n.zM,audit_log_export:n.zM,login_verification_enabled:n.zM,login_verification_after:n.ai,service_time_start_hour:n.ai,service_time_end_hour:n.ai,analytics_privacy_mode:_}),n.NW({id:n.ai,name:n.Yj,lang:r.O,locale:s.V9,country:u.u9,is_default:n.zM,analytics_privacy_mode:_});var m=o(27345);const p=n.NW({id:n.ai,name:n.Yj,operator_count:(0,i.lq)(n.ai),text:n.Yj,um_widget_count:(0,i.lq)(n.ai)});let g=function(e){return e.Normal="normal",e.Bot="bot",e.UMBot="um_bot",e}({});const b=(0,i.o7)(m.wy),f=n.NW({sound_connect:n.zM,sound_disconnect:n.zM,sound_conversation_live:n.zM,sound_conversation_offline:n.zM,sound_message_new:n.zM,sound_operator_on:n.zM,sound_operator_off:n.zM});let v=function(e){return e.Gentle="sound_inactivity_gentle",e.Catchy="sound_inactivity_catchy",e.Lively="sound_inactivity_lively",e.Lean="sound_inactivity_lean",e.Glossy="sound_inactivity_glossy",e}({});const j=(0,i.o7)(v);let y=function(e){return e.All="all",e.Unread="unread",e.Ended="ended",e.None="none",e}({});const Y=(0,i.o7)(y),h=n.NW({inactivity_timeout:n.ai,inactivity_repeat_timeout:n.ai,inactivity_sound:n.zM,notification_mute:n.zM,inactivity_sound_volume:n.ai,inactivity_sound_file:(0,a.h)(j,v.Gentle)}),M=n.NW({um_notification_conversation_live:n.zM,um_notification_conversation_offline_assigned:n.zM,um_notification_message_receive:n.zM,um_notification_conversation_end_own:n.zM,um_notification_conversation_not_live:n.zM,um_notification_conversation_rating_own:n.zM,um_notification_conversation_feedback_own:n.zM,um_notification_conversation_post_survey_own:n.zM,um_notification_conversation_goal_own:n.zM,um_notification_operator_availability:n.zM,um_notification_conversation_started:n.zM,um_notification_conversation_rating:n.zM,um_notification_conversation_feedback:n.zM,um_notification_conversation_post_survey:n.zM,um_notification_conversation_goal:n.zM,um_notification_conversation_end:n.zM,um_notification_chat_session_forward:n.zM,um_notification_conversation_offline_unassigned:n.zM,um_email_profile:Y,receive_email_userlike:n.zM}),k=n.NW({out_of_office:n.zM}),w=(n.E$([f,h,M,k]),n.NW({available:n.zM,availability:l.V,free:n.ai,used:n.ai,total:n.ai,connected:n.zM})),E=(n.E$([M,f,h,(0,i.AN)({id:n.ai,created_at:(0,i.me)(n.Yj),url_image:n.Yj,display_name:n.Yj,timezone:n.Yj,timezone_offset:n.ai,email:n.Yj,about_me:(0,i.me)(n.Yj),account_type:(0,i.o7)(g),alias_name:(0,i.me)(n.Yj),first_name:n.Yj,name:n.Yj,is_locked:n.zM,job_title:(0,i.me)(n.Yj),lang:r.O,last_login_at:(0,i.me)(n.Yj),organization:d,out_of_office:n.zM,um_away:n.zM,receive_email_userlike:n.zM,um_email_profile:Y,assignable_roles:(0,a.h)(n.YO((0,i.o7)(m.Tz)),[]),operator_group:c,skills:n.YO(p),role:(0,i.o7)(m.Tz),role_name:b,um_slots:w,enabled:n.zM,is_bounced:n.zM,locale:s.V9,has_capab_all:n.zM,organization_access:(0,a.h)(n.YO(n.ai),[]),is_proxy:(0,a.h)(n.zM,!1),email_signature_enabled:n.zM},{max_slot:n.ai,in_call:n.zM,url_call_app_background_image:(0,i.me)(n.Yj),url_call_app_background_image_any:(0,i.me)(n.Yj),about_me:(0,i.me)(n.Yj),job_title:(0,i.me)(n.Yj),first_name:n.Yj,last_name:(0,i.me)(n.Yj),account_type:(0,i.o7)(g),omq_subdomain:(0,i.me)(n.Yj),omq_user_id:(0,i.me)(n.Yj),omq_user_api_key:(0,i.me)(n.Yj),has_omq_account_permission:n.zM,primary_organization_id:n.ai})]),(0,i.AN)({id:n.ai,display_name:n.Yj,url_image:n.Yj,timezone:n.Yj,timezone_offset:n.ai,about_me:(0,i.me)(n.Yj),job_title:(0,i.me)(n.Yj)},{name:(0,i.me)(n.Yj)}))},99012:(e,t,o)=>{o.d(t,{y:()=>l});var n=o(64833),a=o(36756),i=o(36514),r=o(81993),s=o(57349);const l={event$:n.w,isBlocked:()=>!1,block:r.lQ,unblock:r.lQ,connect:()=>i.Ie(),info:()=>a.ZmZ(),request:()=>a.ZmZ(),getClientState:()=>s.F.Initial}}},e=>{var t=t=>e(e.s=t);e.O(0,[96],(()=>(t(21768),t(87284))));var o=e.O();window.run=o.runMessenger}]);