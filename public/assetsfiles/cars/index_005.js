import{reactive as ue,computed as w,defineComponent as N,ref as E,onMounted as te,createElementBlock as v,openBlock as _,createElementVNode as h,normalizeStyle as me,normalizeClass as q,unref as I,Fragment as C,renderList as O,toDisplayString as ne,onUnmounted as oe,watchEffect as pe,createVNode as F,useSSRContext as K,nextTick as ge,createBlock as W,createCommentVNode as R,inject as j,createApp as _e}from"https://assets.oneweb.mercedes-benz.com/npm/vue@3/dist/vue.esm-browser.prod.js";/**
 * @preserve
 * Licenses of bundled dependencies can be found in dependencies-licenses.txt
 */const he="modulepreload",ve=function(e,t){return new URL(e,t).href},G={},M=function(t,n,o){let s=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(m=>{if(m=ve(m,o),m in G)return;G[m]=!0;const d=m.endsWith(".css"),y=d?'[rel="stylesheet"]':"";if(!!o)for(let p=i.length-1;p>=0;p--){const b=i[p];if(b.href===m&&(!d||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${y}`))return;const c=document.createElement("link");if(c.rel=d?"stylesheet":he,d||(c.as="script"),c.crossOrigin="",c.href=m,l&&c.setAttribute("nonce",l),document.head.appendChild(c),d)return new Promise((p,b)=>{c.addEventListener("load",p),c.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&u(a.reason);return t().catch(u)})};let P;const fe={viewport:""},$=ue(fe),D=w(()=>$.viewport=="mq4"||$.viewport=="mq5"||$.viewport=="mq6"),se=e=>{var n;const t=(n=e==null?void 0:e.detail)==null?void 0:n.current;ae(t)},ae=e=>{$.viewport=e},be=async()=>{if(!P){const{MediaQueryService:e}=await M(async()=>{const{MediaQueryService:t}=await import("./index-J6H2k9GM.js");return{MediaQueryService:t}},[],import.meta.url);P=new e(window),ae(P.getCurrentMediaQuery())}},we=async()=>{await be(),window.addEventListener("wbresize",se)},Ee=()=>{window.removeEventListener("wbresize",se)};/*! connection-aem-tracking 2.7.0 */const re="OWC_TRACKING_MANAGER",Q="PUSH_TRACKING_EVENT",J={trackingEvents:[]};new class extends window.top.seamlessStore.SeamlessConnection{constructor(){super(re)}get initialState(){return J}getReducer(){return(e=J,t)=>t.type===this.getActionType(Q)?{...e,trackingEvents:[...e.trackingEvents,t.payload]}:e}getPublicDispatchers(){return{pushTrackingEvent:e=>{var t;return(t=window.top)==null||t.dataLayer_ow.push(e),this.getAction(Q,e)}}}};const ye=()=>window.top.seamlessStore.initializeStore().getConnectionDispatchers(re).then(e=>e);let x;const ke=(e,t,n)=>({event:"click",eventDetail:e,application:{id:n||"aem",version:t,parentApplicationId:n||"aem"}}),ie=async()=>{x=await ye()},Ie=async(e,t,n="")=>{x||await ie();const o=ke(e,t,n);x.pushTrackingEvent(o)};var Se={APP_VERSION:"2.13.0"};const Te=async e=>await Ie(e,Se.APP_VERSION),Le=e=>{var t;return((t=e.toLowerCase().match(/[a-z]+\d*|\d+/g))==null?void 0:t.join("_"))??""},X={test:"https://int.assets.oneweb.mercedes-benz.com/plugin",int1:"https://int.assets.oneweb.mercedes-benz.com/plugin",pprod:"https://assets.oneweb.mercedes-benz.com/plugin",prod:"https://assets.oneweb.mercedes-benz.com/plugin"},Ae=(e,t)=>`${X[e]||X.test}/hp-assets/latest/${t}`,$e={class:"hp-campaigns__card"},Ce={class:"hp-campaigns__container"},Oe={class:"hp-campaigns__image"},Me=["media","data-srcset"],Ne=["data-src","alt","aria-label"],Re={class:"hp-campaigns__content"},Pe=["innerHTML"],Be=["innerHTML"],qe={class:"hp-campaigns__ctas"},De=["onClick","href","target"],xe={class:"hp-campaigns__notes"},Ve=["innerHTML"],Y=N({__name:"campaigns-card",props:{campaignsCardData:{},index:{},grid:{},observer:{},resetInitialEntries:{type:Function}},setup(e){const t=e,n=E(),o=E(""),s=w(()=>r=>r===0?"wb-button wb-button--theme-dark wb-button--primary wb-button--medium":"wb-link wb-link--standalone"),u={mq6:"1440",mq5:"1280",mq4:"1024",mq3:"768",mq2:"480",mq1:"320"},i=w(()=>t.index===0&&D.value&&t.grid==="5"),a=w(()=>{var r;return m((r=t.campaignsCardData)==null?void 0:r.image,i.value)}),l=w(()=>a.value.slice(0,-1)),m=(r,c)=>{let p=[];for(const b of Object.values(u)){const S=c?"mq6":"mq1",T=`(min-width: ${b}px)`,L=d(r,S);p.push({media:T,srcset:L})}return p},d=(r,c)=>{let p;return r.sources?p=r.sources[c]:p=r.source.replace("{mq}",c),p},y=async(r,c)=>{const p=c===0?"primary":"link";await Te({category:"link",action:"campaigns",label:`card_${t.index+1}.${p}.${Le(r.label)}`,URL:r.link})};return te(()=>{var r,c;t.resetInitialEntries(),t.observer.observe(n.value),o.value=((c=(r=window.aemNamespace)==null?void 0:r.pageEnvironmentVariables)==null?void 0:c.stageVariant)||"test"}),(r,c)=>{var p,b,S,T,L,U,z;return _(),v("div",$e,[h("div",Ce,[h("div",Oe,[h("div",{class:q(["hp-campaigns__ratio",{"hp-campaigns-personalisation":(p=t.campaignsCardData)==null?void 0:p.personalisationBg}]),style:me((b=t.campaignsCardData)!=null&&b.personalisationBg?{"background-image":`url(${I(Ae)(o.value,"images/brands/mercedes-benz/background/personsalisation-background-1109.png")})`}:{})},[h("picture",{ref_key:"cardImage",ref:n},[(_(!0),v(C,null,O(l.value,(f,A)=>(_(),v("source",{key:A,media:f.media,"data-srcset":f.srcset},null,8,Me))),128)),h("img",{class:"hp-campaigns__ratio-img","data-src":a.value[a.value.length-1].srcset,alt:(S=t.campaignsCardData)==null?void 0:S.image.description,"aria-label":(T=t.campaignsCardData)==null?void 0:T.image.description},null,8,Ne)],512)],6)]),h("div",Re,[h("p",{class:"hp-campaigns__subline",innerHTML:(L=r.campaignsCardData)==null?void 0:L.subline},null,8,Pe),h("h3",{class:"hp-campaigns__title",innerHTML:(U=r.campaignsCardData)==null?void 0:U.title},null,8,Be),h("div",qe,[(_(!0),v(C,null,O(r.campaignsCardData.links,(f,A)=>(_(),v("a",{onClick:wt=>y(f,A),key:f.label,href:f==null?void 0:f.link,target:f==null?void 0:f.target,class:q([s.value(A),"hp-campaigns__cta"]),tabindex:"0"},ne(f==null?void 0:f.label),11,De))),128))])])]),h("div",xe,[h("p",{innerHTML:(z=r.campaignsCardData)==null?void 0:z.notes},null,8,Ve)])])}}}),k=(e,t)=>{Array.from(e).forEach(n=>{let o,s;n instanceof HTMLImageElement||n instanceof HTMLSourceElement&&t?(o="data-src",s="src"):(o="data-srcset",s="srcset");const u=n.getAttribute(o);u&&(n.setAttribute(s,u),n.removeAttribute(o))})},He=(e,t,n)=>{let o=[];const s=new IntersectionObserver(i=>{o.length||(o=Array.from(new Set(i.map(a=>a.target)))),i.forEach(a=>{if(a.isIntersecting){const l=a.target;if(l instanceof HTMLPictureElement){if(k(l.getElementsByTagName("source")),k(l.getElementsByTagName("img")),!n){const m=o.indexOf(l),d=o[m+1];d&&(k(d.getElementsByTagName("source")),k(d.getElementsByTagName("img")))}}else l instanceof HTMLVideoElement&&(k(l.getElementsByTagName("source"),!0),l.dataset.loaded||(l.load(),l.dataset.loaded="true"));s.unobserve(l)}})},e);return{lazyLoadObserver:s,resetInitialEntries:()=>{o=[]}}},Ue={class:"hp-campaigns__items"},ze=["grid"],Fe={class:"wb-grid-row"},Ke={key:1,class:"hp-campaigns__slider"},We=["theme"],je=!0,Ge=N({__name:"campaigns-items",props:{campaignsItemsData:{},grid:{},darkMode:{type:Boolean}},setup(e){const t=e,n=E(),o={root:null,rootMargin:"200px",threshold:0},s=w(()=>D.value),{lazyLoadObserver:u,resetInitialEntries:i}=He(o,je,s.value);oe(()=>u.disconnect()),pe(()=>{if(t.grid==="3"&&t.campaignsItemsData.length>3||t.grid==="5"&&t.campaignsItemsData.length>5){const d=n.value;if(!d)return;d.scrollToItem(1)}});const a=w(()=>D.value),l=w(()=>t.darkMode?"dark":"light"),m=w(()=>t.campaignsItemsData.slice(0,Number(t.grid)));return(d,y)=>(_(),v("div",Ue,[a.value?(_(),v("div",{key:0,class:"wb-grid-container hp-campaigns__grid",grid:d.grid},[h("div",Fe,[(_(!0),v(C,null,O(m.value,(r,c)=>(_(),v("div",{class:"wb-grid-col-mq6-4",key:`${r.id}-${c===0&&d.grid==="5"?"landscape":"portrait"}`},[F(Y,{campaignsCardData:r,index:c,grid:d.grid,observer:I(u),resetInitialEntries:I(i)},null,8,["campaignsCardData","index","grid","observer","resetInitialEntries"])]))),128))])],8,ze)):(_(),v("div",Ke,[h("wb-slider",{ref_key:"sliderRef",ref:n,"grid-gutter":"","off-grid":"","show-arrow-navigation":"","show-dot-navigation":"","scroll-snap":"",theme:l.value},[(_(!0),v(C,null,O(m.value,(r,c)=>(_(),v("div",{class:"wb-slider__item wb-grid-col-mq6-4 hp-campaigns__item",key:r.id},[F(Y,{campaignsCardData:r,index:c,grid:d.grid,observer:I(u),resetInitialEntries:I(i)},null,8,["campaignsCardData","index","grid","observer","resetInitialEntries"])]))),128))],8,We)]))]))}}),Qe={class:"wb-grid-container"},Je={class:"hp-campaigns__headline"},Xe=N({__name:"campaigns-headline",props:{campaignsHeadlineData:{}},setup(e){return(t,n)=>(_(),v("div",Qe,[h("h2",Je,ne(t.campaignsHeadlineData),1)]))}}),Ye=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n},Ze=Ye(Xe,[["__scopeId","data-v-eb0a990a"]]);/*! aem-component-data-util 1.0.0 */function et(e){var t,n,o,s;return typeof window<"u"?(window.top||window).aemNamespace.componentData[e]:{payload:(n=(t=K())==null?void 0:t.AEMContext)==null?void 0:n.payload,config:(s=(o=K())==null?void 0:o.AEMContext)==null?void 0:s.config}}const tt="OWC_PERSONALISATION_DATA",g=[];for(let e=0;e<256;++e)g.push((e+256).toString(16).slice(1));function nt(e,t=0){return(g[e[t+0]]+g[e[t+1]]+g[e[t+2]]+g[e[t+3]]+"-"+g[e[t+4]]+g[e[t+5]]+"-"+g[e[t+6]]+g[e[t+7]]+"-"+g[e[t+8]]+g[e[t+9]]+"-"+g[e[t+10]]+g[e[t+11]]+g[e[t+12]]+g[e[t+13]]+g[e[t+14]]+g[e[t+15]]).toLowerCase()}let B;const ot=new Uint8Array(16);function st(){if(!B){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");B=crypto.getRandomValues.bind(crypto)}return B(ot)}const at=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Z={randomUUID:at};function ce(e,t,n){var s;if(Z.randomUUID&&!e)return Z.randomUUID();e=e||{};const o=e.random??((s=e.rng)==null?void 0:s.call(e))??st();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,nt(o)}const rt=e=>{const t=[];for(let o=1;o<=5;o++){const s=`titleCard${o}`,u=`sublineCard${o}`,i=`imageCard${o}`,a=`linksCard${o}`,l=`notesCard${o}`,m=`personalisationBgCard${o}`;s in e&&i in e&&t.push({id:ce(),title:e[s],subline:e[u],image:e[i],links:e[a],notes:e[l],personalisationBg:e[m]})}return{card:t,grid:t.length<5&&e.grid==="5"?"3":e.grid,darkMode:e.darkMode,headline:e.headline,footnotes:e.footnotes}},it=(e,t)=>{const n=e.map(o=>({...o,image:typeof o.image=="string"?{source:o.image}:o.image,id:ce(),personalised:!0}));t.value.card.unshift(...n)},ct=e=>{var o,s,u,i;const t=(i=(u=(s=(o=window.top)==null?void 0:o.aemNamespace)==null?void 0:s.pageEnvironmentVariables)==null?void 0:u.brand)==null?void 0:i.subBrand,n=e;n.dataset.theme=t??""},V="globalelem-footnote-reference-component",lt="globalelem-footnote-component",dt=[{tag:lt,loader:()=>M(()=>import("./index-B0vr8qVD.js"),[],import.meta.url)},{tag:V,loader:()=>M(()=>import("./index-Dk6AC0qy.js"),[],import.meta.url)}],ut=async e=>{if(!window.customElements.get(e.tag)&&e.loader){const{defineCustomElements:t}=await e.loader();await t(window)}},mt=async()=>{for(const e of dt)await ut(e)},le=[],pt=e=>`${le.filter(n=>n.id===e).length+1}`,gt=(e,t)=>`hp_${`${e.replace("hp-","").split("-").join("")}`}${pt(t)}_${t}`.toLowerCase(),ee=e=>`hp-${e}`,_t=(e,t,n,o)=>{mt();const s=ee(n),u=t.footnotes.some(i=>i.local);return e.querySelectorAll("[data-footnote-id]").forEach(i=>{const a=i.getAttribute("data-footnote-id"),l=t.footnotes.find(d=>d.id===a),m=`<${V} 
          content="${l.text.replace(/"/g,"&quot;")}"
          reference="${gt(o,n)}"
          ${l.local?`module-id="${ee(n)}"`:""}
        ></${V}>`;l&&(i.insertAdjacentHTML("beforeend",m),le.push({id:n}))}),{moduleId:s,isLocalScope:u}},ht={key:2,class:"wb-grid-container"},vt=["module-id","theme"],ft=N({__name:"App",props:{componentId:{type:String,required:!0,default:()=>j("componentId")},dataComponentName:{type:String,required:!0,default:()=>j("dataComponentName")}},setup(e){const t=e,n=E({}),o=E({}),s=E({}),u=E({}),i=E({moduleId:"",isLocalScope:!1});n.value=rt(et(t.componentId).payload),te(async()=>{await we(),ie(),m(),ct(o.value),await ge(),l()}),oe(()=>{a(),Ee()});const a=()=>{s.value&&s.value.unsubscribe&&s.value.unsubscribe()},l=()=>{n.value.footnotes&&(i.value=_t(o.value,n.value,t.componentId,t.dataComponentName))},m=()=>{const d=window.top.seamlessStore.initializeStore();s.value=d.subscribe(tt,y=>{const r=y.filter(c=>c.componentId===t.componentId);r.length>0&&(u.value=r[0].personalisationData,it(u.value,n),a())})};return(d,y)=>(_(),v("div",{ref_key:"componentElement",ref:o,class:q(["hp-campaigns",{"hp-campaigns__dark":n.value.darkMode}])},[n.value.headline?(_(),W(Ze,{key:0,campaignsHeadlineData:n.value.headline},null,8,["campaignsHeadlineData"])):R("",!0),n.value.card?(_(),W(Ge,{key:1,campaignsItemsData:n.value.card,darkMode:n.value.darkMode,grid:n.value.grid},null,8,["campaignsItemsData","darkMode","grid"])):R("",!0),i.value.isLocalScope?(_(),v("div",ht,[h("globalelem-footnote-component",{"module-id":i.value.moduleId,theme:n.value.darkMode?"dark":"light"},null,8,vt)])):R("",!0)],2))}}),de=({element:e,componentName:t})=>{const n=_e({template:`
      ${e.innerHTML}
      <${t} />
    `}),o=e.getAttribute("component-id"),s=e.getAttribute("data-component-name");n.provide("componentId",o),n.provide("dataComponentName",s),n.component(t,ft),n.mount(e)},H="hp-campaigns",bt=document.querySelectorAll(`div[data-component-name="${H}"]`);bt.forEach(e=>{de({element:e,componentName:H})});window.top.aemNamespace.pageEnvironmentVariables.runMode==="AUTHOR"&&M(()=>import("./author-wsMrjnN9.js"),[],import.meta.url).then(e=>{e.default({componentName:H,mountComponent:de})}).catch(e=>console.error("Could not load author script",e));export{M as _};
